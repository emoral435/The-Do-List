(()=>{"use strict";const e=e=>({projectName:e,tasks:[]}),t=function(e="none",t="",n=""){let l,o=document.createElement("div");if(""!=e){l=e.split(" ");for(let e=0;e<l.length;e++)o.classList.add(l[e])}return null!=t&&(o.id=t),null!=n&&(o.textContent=n),o},n=function(e="",t="",n=""){let l=e.split(" "),o=document.createElement("button");if(""!=e)for(let e=0;e<l.length;e++)o.classList.add(l[e]);return o.id=t,o.textContent=n,o},l=function(e){let t="h-6 w-6 cursor-pointer hover:-translate-y-1 hover:scale-110 transition ease-in-out duration-300".split(" "),n=document.createElement("img");n.src="/src/modules/edit.svg",n.dataset.modalTarget="#"+e+"otherModal";for(let e=0;e<t.length;e++)n.classList.add(t[e]);return n},o=function(e){let t="min-h-[20px] min-w-[20px] inline-block bg-white border-red-500 border-[3px] rounded-[50%] hover:bg-slate-300 mx-3".split(" "),n=document.createElement("span");for(let e=0;e<t.length;e++)n.classList.add(t[e]);return n.dataset.id=e,n},r=function(e){let t="h-[2px] bg-slate-700 w-[12px] block".split(" "),n=document.createElement("span");for(let e=0;e<t.length;e++)n.classList.add(t[e]);return e?n.classList.add("translate-y-[2px]"):n.classList.add("rotate-[90deg]"),n},a=function(e){let t=document.createElement("img");t.src="/src/modules/trash.svg",t.dataset.id=e;let n="h-6 w-6 cursor-pointer trash hover:-translate-y-1 hover:scale-110 transition ease-in-out duration-300".split(" ");for(let e=0;e<n.length;e++)t.classList.add(n[e]);return t},d=function(e){let t=e+"form",n=document.createElement("form");return n.setAttribute("id",t),n.setAttribute("action",""),n},c=function(e,t){let n=e+t,l=document.createElement("label");return l.setAttribute("for",n),l.textContent=t[0].toUpperCase()+t.slice(1,t.length)+":",l},s=function(e,t,n,l){let o=l.split(" "),r=document.createElement("input");for(let e=0;e<o.length;e++)r.classList.add(o[e]);let a=t+n;return r.setAttribute("type",e),r.setAttribute("id",a),"text"===e&&r.setAttribute("required",""),r},i=function(e,t){let n=t.split(" "),l=document.createElement("textarea");l.setAttribute("required","");for(let e=0;e<n.length;e++)l.classList.add(n[e]);return l.cols="5",l.rows="5",l},u=function(e,t){let n=t.split(" "),l=document.createElement("select"),o=e+"priority";l.setAttribute("id",o);for(let e=0;e<n.length;e++)l.classList.add(n[e]);let r=document.createElement("option");r.value="0",r.textContent="None";let a=document.createElement("option");a.value="1",a.textContent="Low";let d=document.createElement("option");d.value="2",d.textContent="Medium";let c=document.createElement("option");return c.value="3",c.textContent="High",l.append(r,a,d,c),l};function m(e){let t=0;for(let n=0;n<v.nameArray.length;n++)v.nameArray[n]==e&&(t=n);return t}const p=(()=>{function e(e){null!=e&&(e.classList.remove("active"),overlay.classList.remove("active"))}return{taskModal:l=>{let o=t("modal break-normal",l+"Modal"),r=t("modal-header"),a=n("close-button","","");a.innerHTML="&times;",a.dataset.closeButton,a.addEventListener("click",(()=>{e(a.closest(".modal"))})),r.append(t("title","","Task Details"),a),o.append(r);let d,c=t("modal-body"),s=document.getElementById("title").textContent;for(let e=0;e<v.nameArray.length;e++)v.nameArray[e]==s&&(d=e);return c.append(t("","","Project: "+v.projectArray[d].tasks[l].project)),c.append(t("","","Title: "+v.projectArray[d].tasks[l].objective)),c.append(t("","","Description: "+v.projectArray[d].tasks[l].desc)),c.append(t("","","Due Date: "+v.projectArray[d].tasks[l].date)),c.append(t("","","Priority: "+v.projectArray[d].tasks[l].priority)),o.append(c),o},editModal:l=>{let o=t("modal",l+"otherModal"),a=t("modal-header"),p=n("close-button");p.innerHTML="&times;",p.dataset.closeButton,p.addEventListener("click",(()=>{e(p.closest(".modal"))})),a.append(t("title","","Edit Task"),p),o.append(a);let g=t("modal-body"),y=d(l),f=t("flex flex-col gap-2"),h=t("flex flex-col"),E=c(l,"objective"),b=s("text",l,"objective","bg-white border-[1px] border-black h-[2em] focus:border-[2px] focus:border-[#2994b2] focus:outline-none");h.append(E,b),f.append(h);let k=t("flex flex-col"),j=c(l,"description"),x=i(l,"bg-white border-[1px] border-black focus:border-[2px] focus:border-[#2994b2] focus:outline-none");k.append(j,x),f.append(k);let L=t("flex justify-around"),A=t("flex justify-start gap-12"),I=t("flex flex-col"),B=c(l,"priority"),T=u(l,"bg-white border-[1px] border-black h-7 focus:border-[2px] focus:border-[#2994b2] focus:outline-none");I.append(B,T),A.append(I);let w=t("flex flex-col"),C=c(l,"date"),M=s("date",l,"date","bg-white border-[1px] border-black focus:border-[2px] focus:border-[#2994b2] focus:outline-none");w.append(C,M),A.append(w),L.append(A);let S=n("flex text-xl my-2 items-center");S.setAttribute("type","submit"),S.setAttribute("form","taskForm");let N=m(document.getElementById("title").innerHTML);S.addEventListener("click",(()=>{let e=l+"objective",t=l+"desc",n=l+"priority",o=l+"date",r=document.getElementById(e).value,a=document.getElementById(t).value,d=document.getElementById(n).value,c=document.getElementById(o).value;v.projectArray[N].tasks.push(makeTask(r,a,d,c)),v.projectArray[0].tasks.push(makeTask(r,a,d,c)),document.getElementById(e).value="",document.getElementById(t).value="",document.getElementById(n).value="0",document.getElementById(o).value="",storage.updateProjectInfo(v)}));let P=t("mx-2 relative"),q=r(!0),D=r(!1),H=t("","","Add");return P.append(q,D),S.append(P,H),L.append(S),f.append(L),y.append(f),g.append(y),o.append(g),o}}})(),g=e=>{console.log("killTask")},y=(e,r)=>{let d=t(),c=t("rounded-[10px] flex justify-between hover:bg-[#cccccc] min-h-[3rem] items-center hover:relative hover:bottom-1 hover:shadow-xl flex-col lg:flex-row py-2"),s=t("flex items-start justify-start lg:justify-start lg:items-center w-full"),i=o(e);i.addEventListener("click",(()=>{g(e)}));let u=m(document.getElementById("title").innerHTML),y=v.projectArray[u].tasks[e].objective,f=t("","",y);s.append(i,f),c.append(s);let h=t("flex gap-6 mr-8"),E=t(),b=n("hover:-translate-y-1 hover:scale-110 transition ease-in-out duration-300","","Details");b.dataset.modalTarget=e+"Modal",b.addEventListener("click",(()=>{var e;null!=(e=document.getElementById(b.dataset.modalTarget))&&(e.classList.add("active"),overlay.classList.add("active"))}));let k=p.taskModal(e);E.append(b,k),h.append(E);let j=l(e);j.addEventListener("click",(()=>{var e;null!=(e=document.querySelector(j.dataset.modalTarget))&&(e.classList.remove("active"),overlay.classList.remove("active"))}));let x=p.editModal(e);h.append(j,x);let L=a(e);return L.addEventListener("click",(()=>{g(e)})),h.append(L),c.append(h),d.append(c),d},f=(()=>{const e=e=>{localStorage.setItem("projectInfo",JSON.stringify(e))},t=()=>JSON.parse(localStorage.getItem("projectInfo"));return{updateProjectInfo:e,getProjectItem:t,initialize:()=>{let n=t();e(n),t().projectArray[0].tasks.length}}})(),v=(()=>{const t=[],n=[];return document.querySelectorAll("[data-project-name]").forEach((l=>{t.push(l.dataset.projectName);let o=e(l.dataset.projectName);n.push(o)})),{nameArray:t,projectArray:n}})();function h(e){e.forEach((e=>{let t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)}))}const E=(e,t,n,l,o)=>({objective:e,desc:t,priority:n,date:l,project:o}),b=e=>{let t=m(document.getElementById("title").innerHTML.trim()),n=document.getElementById("content");for(;n.childNodes.length>4;)n.removeChild(n.firstChild);if(!e.classList.contains("gettingDeleted")){let e=f.getProjectItem();if(e.projectArray[t].tasks.length>0)for(let n=0;n<e.projectArray[t].tasks.length;n++){let e=y(n);document.getElementById("content").insertBefore(e,document.getElementById("taskButton"))}}},k=(()=>{const t=()=>{let e=document.querySelectorAll(".directory");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{e.forEach((e=>{e.classList.contains("toggled")&&e.classList.remove("toggled")}));const n=document.getElementById("title");let l,o=e[t].childNodes;l=o.length>3?o[3].textContent:o[1].textContent,e[t].classList.add("toggled"),n.textContent=l}))};return{buttonChange:t,navToggle:()=>{const e=document.getElementsByClassName("toggle-button")[0],t=document.getElementById("nav"),n=document.getElementById("main");e.addEventListener("click",(()=>{t.classList.toggle("active"),n.classList.toggle("active")}))},activateModals:()=>{const e=document.querySelectorAll("[data-modal-target"),t=document.querySelectorAll("[data-close-button]"),n=document.getElementById("overlay");e.forEach((e=>{e.addEventListener("click",(()=>{var t;null!=(t=document.querySelector(e.dataset.modalTarget))&&(t.classList.add("active"),n.classList.add("active"))}))})),t.forEach((e=>{e.addEventListener("click",(()=>{var t;null!=(t=e.closest(".modal"))&&(t.classList.remove("active"),n.classList.remove("active"))}))}))},addProject:()=>{document.getElementById("addProject").addEventListener("click",(n=>{n.preventDefault(),function(){const n=document.getElementById("name").value;document.getElementById("name").value="";let l=0,o=0;for(;l<v.nameArray.length;){if(v.nameArray[l]===n){o++;break}l++}if(0==o){let l=e(n);v.projectArray.push(l),v.nameArray.push(n),f.updateProjectInfo(v);const o=document.getElementById("additionalProjects"),r=function(e){const t=document.createElement("button");for(let n=0;n<e.length;n++)t.classList.add(e[n]);return t}(["hover:bg-[#cccccc]","rounded-md","w-full","py-2","flex","justify-between","items-center","h-12","px-1","directory"]),a=function(e){const t=new Image(20,20);t.src="/src/modules/project-image.png";for(let n=0;n<e.length;n++)t.classList.add(e[n]);return t}(["h-[1.3rem]","w-[1.3rem]","flex","justify-start","items-center","mx-4","box-content"]),d=function(e){const t=document.createElement("div");return t.textContent=e,t.dataset.projectName=e,t.dataset.id=v.nameArray.length-1,t}(n);d.classList.add("closest");const c=function(e){const t=document.createElement("div");t.innerHTML="&times;";for(let n=0;n<e.length;n++)t.classList.add(e[n]);return t}(["ml-4","z-10","flex","justify-end","killbill"]);r.append(a),r.append(d),r.append(c),o.insertBefore(r,document.getElementById("addBefore")),h(document.querySelectorAll(".directory")),t(),h(document.querySelectorAll(".killbill")),document.querySelectorAll(".killbill").forEach((e=>{e.addEventListener("click",(()=>{console.log("killbill is getting clicked"),e.parentElement.classList.add("gettingDeleted");let t=e.previousElementSibling.dataset.id;v.nameArray.splice(t,1),v.projectArray.splice(t,1);let n=e.previousElementSibling.dataset.projectName.trim();if(console.log(n),console.log(v.projectArray[0].tasks.length),v.projectArray[0].tasks.length>0)for(let e=0;e<v.projectArray[0].tasks.length;e++)v.projectArray[0].tasks[e].project==n&&(v.projectArray[0].tasks.splice(e,1),console.log("its going through"),e-=1);f.updateProjectInfo(v),e.parentElement.remove()}))})),document.querySelectorAll(".directory").forEach((e=>{e.addEventListener("click",(()=>{b(e)}))}))}}()}))},addTask:()=>{document.getElementById("addTask").addEventListener("click",(e=>{e.preventDefault(),function(){const e=document.getElementById("title");let t=m(e.innerHTML);console.log("clicked");let n=document.getElementById("objective").value,l=document.getElementById("description").value,o=document.getElementById("priority").value,r=document.getElementById("date").value;"Inbox"!=e.textContent?(v.projectArray[0].tasks.push(E(n,l,o,r,e.textContent.trim())),v.projectArray[t].tasks.push(E(n,l,o,r,e.textContent.trim()))):v.projectArray[0].tasks.push(E(n,l,o,r)),document.getElementById("objective").value="",document.getElementById("description").value="",document.getElementById("priority").value="0",document.getElementById("date").value="";let a=v.projectArray[t].tasks.length-1,d=y(a);f.updateProjectInfo(v),document.getElementById("content").insertBefore(d,document.getElementById("taskButton"))}()}))}}})();console.log({testString:"This is working, along with Tailwind!"}),k.buttonChange(),k.navToggle(),k.activateModals(),f.initialize(),k.addProject(),k.addTask()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUIsU0FBVW1HLElBQzFEQSxFQUFNQyxpQkFLZCxXQUVJLE1BQU1oSCxFQUFRckMsU0FBU3FELGVBQWUsU0FDdEMsSUFBSWYsRUFBUUYsRUFBTUMsRUFBTVUsV0FDeEIwQyxRQUFRQyxJQUFJLFdBQ1osSUFBSW5DLEVBQVl2RCxTQUFTcUQsZUFBZSxhQUFhdEIsTUFDakRnRCxFQUFjL0UsU0FBU3FELGVBQWUsZUFBZXRCLE1BQ3JEMkIsRUFBVzFELFNBQVNxRCxlQUFlLFlBQVl0QixNQUMvQzBCLEVBQU96RCxTQUFTcUQsZUFBZSxRQUFRdEIsTUFDbEIsU0FBckJNLEVBQU03QixhQUNOLDZCQUE4QyxFQUFTK0MsRUFBVXdCLEVBQVlyQixFQUFTRCxFQUFNcEIsRUFBTTdCLFlBQVlxSCxTQUM5RyxlQUFnQ3ZGLEdBQU81QyxNQUFNc0YsS0FBSyxFQUFTekIsRUFBVXdCLEVBQVlyQixFQUFTRCxFQUFNcEIsRUFBTTdCLFlBQVlxSCxVQUVsSCw2QkFBOEMsRUFBU3RFLEVBQVV3QixFQUFZckIsRUFBU0QsSUFFMUZ6RCxTQUFTcUQsZUFBZSxhQUFhdEIsTUFBUSxHQUM3Qy9CLFNBQVNxRCxlQUFlLGVBQWV0QixNQUFRLEdBQy9DL0IsU0FBU3FELGVBQWUsWUFBWXRCLE1BQVEsSUFDNUMvQixTQUFTcUQsZUFBZSxRQUFRdEIsTUFBUSxHQUN4QyxJQUFJa0ksRUFBWSxlQUFnQzNILEdBQU81QyxNQUFNVSxPQUFTLEVBQ2xFZ0ksRUFBVSxFQUFtQjZCLEdBQ2pDLG9CQUEwQixHQUMxQmpLLFNBQVNxRCxlQUFlLFdBQVdnRixhQUFhRCxFQUFTcEksU0FBU3FELGVBQWUsY0FDckYsQ0EzQlE2RyxFQUFlLEdBQ2xCLEVBbUNSLEVBM0xjLEdFTGZ6RSxRQUFRQyxJQUFJLENBQUN5RSxXQUFZLDBDQUd6QixpQkFFQSxjQUVBLG1CQUdBLGVBR0EsZUFFQSxXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9pbmZvcm1hdGlvbkZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9jcmVhdGVFbGVtZW50cy5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2dldElkLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvY3JlYXRlTW9kYWwuanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9raWxsVGFzay5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3VwbG9hZFRhc2tzLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvbG9jYWxTdG9yYWdlLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdEluZm9ybWF0aW9uLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvdXBkYXRlQnV0dG9ucy5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL21ha2VUYXNrLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvdXBkYXRlRGlyZWN0b3J5LmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvZG9tTWFuaXB1bGF0aW9uLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMva2lsbFByb2plY3QuanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGlGYWN0b3J5ID0gKHByb2plY3ROYW1lKSA9PiB7XG4gICAgbGV0IHRhc2tzID0gW11cbiAgICByZXR1cm4ge3Byb2plY3ROYW1lLCB0YXNrc31cbn1cblxuZXhwb3J0IGRlZmF1bHQgaUZhY3RvcnkiLCJjb25zdCBuZXdFbGVtZW50ID0gKCgpID0+IHtcbiAgICBmdW5jdGlvbiBtYWtlRGl2KHN0cmluZyA9ICdub25lJywgaWQgPSAnJywgaW5uZXJDb250ZW50ID0gJycpIHtcbiAgICAgICAgbGV0IGFycmF5XG4gICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBpZiAoc3RyaW5nICE9ICcnKSB7XG4gICAgICAgICAgICBhcnJheSA9IHN0cmluZy5zcGxpdCgnICcpXG4gICAgICAgICAgICBmb3IgKGxldCBpPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCBpZCAhPSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICBkaXYuaWQgPSBpZFxuICAgICAgICB9XG4gICAgICAgIGlmICggaW5uZXJDb250ZW50ICE9IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgICBkaXYudGV4dENvbnRlbnQgPSBpbm5lckNvbnRlbnRcblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaXZcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlQnV0dG9uKHN0cmluZyA9ICcnLCBpZCA9ICcnLCBpbm5lckNvbnRlbnQgPSAnJykge1xuICAgICAgICBsZXQgYXJyYXkgPSBzdHJpbmcuc3BsaXQoJyAnKVxuICAgICAgICBsZXQgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICAgICAgaWYgKHN0cmluZyAhPSAnJykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9MDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoYXJyYXlbaV0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnRuLmlkID0gaWRcbiAgICAgICAgYnRuLnRleHRDb250ZW50ID0gaW5uZXJDb250ZW50XG4gICAgICAgIHJldHVybiBidG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlRWRpdEltZyhpZCkge1xuICAgICAgICBsZXQgc3RyID0gXCJoLTYgdy02IGN1cnNvci1wb2ludGVyIGhvdmVyOi10cmFuc2xhdGUteS0xIGhvdmVyOnNjYWxlLTExMCB0cmFuc2l0aW9uIGVhc2UtaW4tb3V0IGR1cmF0aW9uLTMwMFwiXG4gICAgICAgIGxldCBhcnJheSA9IHN0ci5zcGxpdCgnICcpXG4gICAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxuICAgICAgICBpbWcuc3JjID0gJy9zcmMvbW9kdWxlcy9lZGl0LnN2ZydcbiAgICAgICAgaW1nLmRhdGFzZXQubW9kYWxUYXJnZXQgPSAnIycgKyBpZCArICdvdGhlck1vZGFsJ1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbWcuY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1nXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZVRyYXNoSW1nKGlkKSB7XG4gICAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxuICAgICAgICBpbWcuc3JjID0gJy9zcmMvbW9kdWxlcy90cmFzaC5zdmcnXG4gICAgICAgIGltZy5kYXRhc2V0LmlkID0gaWRcbiAgICAgICAgbGV0IHN0ciA9IFwiaC02IHctNiBjdXJzb3ItcG9pbnRlciB0cmFzaCBob3ZlcjotdHJhbnNsYXRlLXktMSBob3ZlcjpzY2FsZS0xMTAgdHJhbnNpdGlvbiBlYXNlLWluLW91dCBkdXJhdGlvbi0zMDBcIlxuICAgICAgICBsZXQgYXJyYXkgPSBzdHIuc3BsaXQoJyAnKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbWcuY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1nXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2lyY2xlU3BhbihpZCkge1xuICAgICAgICBsZXQgc3RyID0gXCJtaW4taC1bMjBweF0gbWluLXctWzIwcHhdIGlubGluZS1ibG9jayBiZy13aGl0ZSBib3JkZXItcmVkLTUwMCBib3JkZXItWzNweF0gcm91bmRlZC1bNTAlXSBob3ZlcjpiZy1zbGF0ZS0zMDAgbXgtM1wiXG4gICAgICAgIGxldCBhcnJheSA9IHN0ci5zcGxpdCgnICcpXG4gICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICBzcGFuLmRhdGFzZXQuaWQgPSBpZFxuICAgICAgICByZXR1cm4gc3BhblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG90aGVyU3BhbihmaXJzdCkge1xuICAgICAgICBsZXQgc3RyID0gXCJoLVsycHhdIGJnLXNsYXRlLTcwMCB3LVsxMnB4XSBibG9ja1wiXG4gICAgICAgIGxldCBhcnJheSA9IHN0ci5zcGxpdCgnICcpXG4gICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3QpIHNwYW4uY2xhc3NMaXN0LmFkZCgndHJhbnNsYXRlLXktWzJweF0nKTtcbiAgICAgICAgZWxzZSBzcGFuLmNsYXNzTGlzdC5hZGQoJ3JvdGF0ZS1bOTBkZWddJyk7XG4gICAgICAgIHJldHVybiBzcGFuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUZvcm0oaWQpIHtcbiAgICAgICAgbGV0IHN0cklkID0gaWQgKyAnZm9ybSdcbiAgICAgICAgbGV0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJylcbiAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ2lkJywgc3RySWQpXG4gICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKCdhY3Rpb24nLCAnJylcbiAgICAgICAgcmV0dXJuIGZvcm1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlTGFiZWwoaWQsIHNlbGVjdG9yKSB7XG4gICAgICAgIGxldCBzdHJJZCA9IGlkICsgc2VsZWN0b3JcbiAgICAgICAgbGV0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKVxuICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIHN0cklkKVxuICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9IHNlbGVjdG9yWzBdLnRvVXBwZXJDYXNlKCkgKyBzZWxlY3Rvci5zbGljZSgxLCAoc2VsZWN0b3IubGVuZ3RoKSkgKyAnOidcbiAgICAgICAgcmV0dXJuIGxhYmVsXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUlucHV0KHR5cGUsIGlkLCBzZWxlY3Rvciwgc3RyaW5nKSB7XG4gICAgICAgIGxldCBhcnJheSA9IHN0cmluZy5zcGxpdCgnICcpXG4gICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgICAgICAgZm9yIChsZXQgaSA9MDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKGFycmF5W2ldKVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdHJJZCA9IGlkICsgc2VsZWN0b3JcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgdHlwZSlcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsIHN0cklkKVxuICAgICAgICBpZiAoIHR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsICcnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnB1dFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VUZXh0QXJlYShpZCwgc3RyaW5nKSB7XG4gICAgICAgIGxldCBhcnJheSA9IHN0cmluZy5zcGxpdCgnICcpXG4gICAgICAgIGxldCB0ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJylcbiAgICAgICAgdGV4dGFyZWEuc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsICcnKVxuICAgICAgICBsZXQgc3RySWQgPSBpZCArICdkZXNjcmlwdGlvbidcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGV4dGFyZWEuY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICB0ZXh0YXJlYS5jb2xzID0gJzUnXG4gICAgICAgIHRleHRhcmVhLnJvd3MgPSAnNSdcbiAgICAgICAgcmV0dXJuIHRleHRhcmVhXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZVNlbGVjdChpZCwgc3RyaW5nKSB7XG4gICAgICAgIGxldCBhcnJheSA9IHN0cmluZy5zcGxpdCgnICcpXG4gICAgICAgIGxldCBzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKVxuICAgICAgICBsZXQgcHJpb3JpdHlJZCA9IGlkICsgJ3ByaW9yaXR5J1xuICAgICAgICBzZWxlY3Quc2V0QXR0cmlidXRlKCdpZCcsIHByaW9yaXR5SWQpXG4gICAgICAgIGZvciAobGV0IGkgPTA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc2VsZWN0LmNsYXNzTGlzdC5hZGQoYXJyYXlbaV0pXG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9wMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpXG4gICAgICAgIG9wMS52YWx1ZSA9ICcwJ1xuICAgICAgICBvcDEudGV4dENvbnRlbnQgPSAnTm9uZSdcbiAgICAgICAgbGV0IG9wMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpXG4gICAgICAgIG9wMi52YWx1ZSA9ICcxJ1xuICAgICAgICBvcDIudGV4dENvbnRlbnQgPSAnTG93J1xuICAgICAgICBsZXQgb3AzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJylcbiAgICAgICAgb3AzLnZhbHVlID0gJzInXG4gICAgICAgIG9wMy50ZXh0Q29udGVudCA9ICdNZWRpdW0nXG4gICAgICAgIGxldCBvcDQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKVxuICAgICAgICBvcDQudmFsdWUgPSAnMydcbiAgICAgICAgb3A0LnRleHRDb250ZW50ID0gJ0hpZ2gnXG4gICAgICAgIHNlbGVjdC5hcHBlbmQob3AxLCBvcDIsIG9wMywgb3A0KVxuICAgICAgICByZXR1cm4gc2VsZWN0XG5cbiAgICB9XG5cbiAgICByZXR1cm4geyBtYWtlRGl2LCBtYWtlQnV0dG9uLCBtYWtlRWRpdEltZywgY2lyY2xlU3Bhbiwgb3RoZXJTcGFuLCBtYWtlVHJhc2hJbWcsIG1ha2VGb3JtLCBtYWtlTGFiZWwsIG1ha2VJbnB1dCwgbWFrZVRleHRBcmVhLCBtYWtlU2VsZWN0fVxufSkoKVxuXG5leHBvcnQgZGVmYXVsdCBuZXdFbGVtZW50IiwiaW1wb3J0IHByb2plY3RJbmZvcm1hdGlvbiBmcm9tIFwiLi9wcm9qZWN0SW5mb3JtYXRpb25cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRJZCh0aXRsZSkge1xuICAgIGxldCBpbmRleCA9IDBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RJbmZvcm1hdGlvbi5uYW1lQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHByb2plY3RJbmZvcm1hdGlvbi5uYW1lQXJyYXlbaV0gPT0gdGl0bGUpIHtcbiAgICAgICAgICAgIGluZGV4ID0gaVxuICAgICAgICB9IFxuICAgIH1cbiAgICByZXR1cm4gaW5kZXhcbn0iLCJpbXBvcnQgbmV3RWxlbWVudCBmcm9tIFwiLi9jcmVhdGVFbGVtZW50c1wiXG5pbXBvcnQgcHJvamVjdEluZm9ybWF0aW9uIGZyb20gXCIuL3Byb2plY3RJbmZvcm1hdGlvblwiXG5pbXBvcnQgZ2V0SWQgZnJvbSBcIi4vZ2V0SWRcIlxuXG5jb25zdCBjcmVhdGVNb2RhbCA9ICgoKSA9PiB7XG4gICAgY29uc3QgdGFza01vZGFsID0gKGlkKSA9PiB7XG4gICAgICAgIGxldCBzdHJNb2RhbCA9IGlkICsgJ01vZGFsJ1xuICAgICAgICBsZXQgZ29kRGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KCdtb2RhbCBicmVhay1ub3JtYWwnLCBzdHJNb2RhbClcbiAgICAgICAgbGV0IG1vZGFsSGVhZGVyID0gbmV3RWxlbWVudC5tYWtlRGl2KCdtb2RhbC1oZWFkZXInKVxuICAgICAgICBsZXQgY2xvc2VCdG4gPSBuZXdFbGVtZW50Lm1ha2VCdXR0b24oJ2Nsb3NlLWJ1dHRvbicsICcnLCAnJylcbiAgICAgICAgY2xvc2VCdG4uaW5uZXJIVE1MID0gJyZ0aW1lczsnXG4gICAgICAgIGNsb3NlQnRuLmRhdGFzZXQuY2xvc2VCdXR0b25cbiAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb2RhbCA9IGNsb3NlQnRuLmNsb3Nlc3QoJy5tb2RhbCcpXG4gICAgICAgICAgICBjbG9zZU1vZGFsKG1vZGFsKVxuICAgICAgICB9KVxuICAgICAgICBtb2RhbEhlYWRlci5hcHBlbmQobmV3RWxlbWVudC5tYWtlRGl2KCd0aXRsZScsICcnLCAnVGFzayBEZXRhaWxzJyksIGNsb3NlQnRuKVxuICAgICAgICBnb2REaXYuYXBwZW5kKG1vZGFsSGVhZGVyKVxuICAgICAgICBsZXQgbW9kYWxCb2R5ID0gbmV3RWxlbWVudC5tYWtlRGl2KCdtb2RhbC1ib2R5JylcbiAgICAgICAgbGV0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJykudGV4dENvbnRlbnRcbiAgICAgICAgbGV0IGo7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdEluZm9ybWF0aW9uLm5hbWVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHByb2plY3RJbmZvcm1hdGlvbi5uYW1lQXJyYXlbaV0gPT0gdGl0bGUpIHtcbiAgICAgICAgICAgICAgICBqID0gaVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1vZGFsQm9keS5hcHBlbmQobmV3RWxlbWVudC5tYWtlRGl2KCcnLCcnLCAoJ1Byb2plY3Q6ICcgKyBwcm9qZWN0SW5mb3JtYXRpb24ucHJvamVjdEFycmF5W2pdLnRhc2tzW2lkXS5wcm9qZWN0KSkpXG4gICAgICAgIG1vZGFsQm9keS5hcHBlbmQobmV3RWxlbWVudC5tYWtlRGl2KCcnLCcnLCAoJ1RpdGxlOiAnICsgcHJvamVjdEluZm9ybWF0aW9uLnByb2plY3RBcnJheVtqXS50YXNrc1tpZF0ub2JqZWN0aXZlKSkpXG4gICAgICAgIG1vZGFsQm9keS5hcHBlbmQobmV3RWxlbWVudC5tYWtlRGl2KCcnLCcnLCAoJ0Rlc2NyaXB0aW9uOiAnICsgcHJvamVjdEluZm9ybWF0aW9uLnByb2plY3RBcnJheVtqXS50YXNrc1tpZF0uZGVzYykpKVxuICAgICAgICBtb2RhbEJvZHkuYXBwZW5kKG5ld0VsZW1lbnQubWFrZURpdignJywnJywgKCdEdWUgRGF0ZTogJyArIHByb2plY3RJbmZvcm1hdGlvbi5wcm9qZWN0QXJyYXlbal0udGFza3NbaWRdLmRhdGUpKSlcbiAgICAgICAgbW9kYWxCb2R5LmFwcGVuZChuZXdFbGVtZW50Lm1ha2VEaXYoJycsJycsICgnUHJpb3JpdHk6ICcgKyBwcm9qZWN0SW5mb3JtYXRpb24ucHJvamVjdEFycmF5W2pdLnRhc2tzW2lkXS5wcmlvcml0eSkpKVxuICAgICAgICBnb2REaXYuYXBwZW5kKG1vZGFsQm9keSlcbiAgICAgICAgcmV0dXJuIGdvZERpdlxuICAgIH1cblxuICAgIGNvbnN0IGVkaXRNb2RhbCA9IChpZCkgPT4ge1xuICAgICAgICBsZXQgc3RyTW9kYWwgPSBpZCArICdvdGhlck1vZGFsJ1xuICAgICAgICBsZXQgZ29kRGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KCdtb2RhbCcsIHN0ck1vZGFsKVxuICAgICAgICBsZXQgbW9kYWxIZWFkZXIgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJ21vZGFsLWhlYWRlcicpXG4gICAgICAgIGxldCBjbG9zZUJ0biA9IG5ld0VsZW1lbnQubWFrZUJ1dHRvbignY2xvc2UtYnV0dG9uJylcbiAgICAgICAgY2xvc2VCdG4uaW5uZXJIVE1MID0gJyZ0aW1lczsnXG4gICAgICAgIGNsb3NlQnRuLmRhdGFzZXQuY2xvc2VCdXR0b25cbiAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb2RhbCA9IGNsb3NlQnRuLmNsb3Nlc3QoJy5tb2RhbCcpXG4gICAgICAgICAgICBjbG9zZU1vZGFsKG1vZGFsKVxuICAgICAgICB9KVxuICAgICAgICBtb2RhbEhlYWRlci5hcHBlbmQobmV3RWxlbWVudC5tYWtlRGl2KCd0aXRsZScsICcnLCAnRWRpdCBUYXNrJyksIGNsb3NlQnRuKVxuICAgICAgICBnb2REaXYuYXBwZW5kKG1vZGFsSGVhZGVyKVxuICAgICAgICBsZXQgbW9kYWxCb2R5ID0gbmV3RWxlbWVudC5tYWtlRGl2KCdtb2RhbC1ib2R5JylcbiAgICAgICAgbGV0IGZvcm0gPSBuZXdFbGVtZW50Lm1ha2VGb3JtKGlkKVxuICAgICAgICBsZXQgY29udGFpbmVyID0gbmV3RWxlbWVudC5tYWtlRGl2KCdmbGV4IGZsZXgtY29sIGdhcC0yJylcbiAgICAgICAgbGV0IG9iamVjdGl2ZURpdiA9IG5ld0VsZW1lbnQubWFrZURpdihcImZsZXggZmxleC1jb2xcIilcbiAgICAgICAgbGV0IG9iamVjdGl2ZUxhYmVsID0gbmV3RWxlbWVudC5tYWtlTGFiZWwoaWQsICdvYmplY3RpdmUnKVxuICAgICAgICBsZXQgb2JqZWN0aXZlSW5wdXQgPSBuZXdFbGVtZW50Lm1ha2VJbnB1dCgndGV4dCcsIGlkLCAnb2JqZWN0aXZlJywgXCJiZy13aGl0ZSBib3JkZXItWzFweF0gYm9yZGVyLWJsYWNrIGgtWzJlbV0gZm9jdXM6Ym9yZGVyLVsycHhdIGZvY3VzOmJvcmRlci1bIzI5OTRiMl0gZm9jdXM6b3V0bGluZS1ub25lXCIpXG4gICAgICAgIG9iamVjdGl2ZURpdi5hcHBlbmQob2JqZWN0aXZlTGFiZWwsIG9iamVjdGl2ZUlucHV0KVxuICAgICAgICBjb250YWluZXIuYXBwZW5kKG9iamVjdGl2ZURpdilcbiAgICAgICAgbGV0IGRlc2NEaXYgPSBuZXdFbGVtZW50Lm1ha2VEaXYoXCJmbGV4IGZsZXgtY29sXCIpXG4gICAgICAgIGxldCBkZXNjTGFiZWwgPSBuZXdFbGVtZW50Lm1ha2VMYWJlbChpZCwgJ2Rlc2NyaXB0aW9uJylcbiAgICAgICAgbGV0IGRlc2NUZXh0ID0gbmV3RWxlbWVudC5tYWtlVGV4dEFyZWEoaWQsIFwiYmctd2hpdGUgYm9yZGVyLVsxcHhdIGJvcmRlci1ibGFjayBmb2N1czpib3JkZXItWzJweF0gZm9jdXM6Ym9yZGVyLVsjMjk5NGIyXSBmb2N1czpvdXRsaW5lLW5vbmVcIilcbiAgICAgICAgZGVzY0Rpdi5hcHBlbmQoZGVzY0xhYmVsLCBkZXNjVGV4dClcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZChkZXNjRGl2KVxuICAgICAgICBsZXQgdHdvU2VsZWN0b3JzID0gbmV3RWxlbWVudC5tYWtlRGl2KFwiZmxleCBqdXN0aWZ5LWFyb3VuZFwiKVxuICAgICAgICBsZXQgcGFyZW50RGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KCdmbGV4IGp1c3RpZnktc3RhcnQgZ2FwLTEyJylcbiAgICAgICAgbGV0IHByaW9yaXR5RGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KFwiZmxleCBmbGV4LWNvbFwiKVxuICAgICAgICBsZXQgcHJpb3JpdHlMYWJlbCA9IG5ld0VsZW1lbnQubWFrZUxhYmVsKGlkLCBcInByaW9yaXR5XCIpXG4gICAgICAgIGxldCBwcmlvcml0eVNlbGVjdCA9IG5ld0VsZW1lbnQubWFrZVNlbGVjdChpZCwgJ2JnLXdoaXRlIGJvcmRlci1bMXB4XSBib3JkZXItYmxhY2sgaC03IGZvY3VzOmJvcmRlci1bMnB4XSBmb2N1czpib3JkZXItWyMyOTk0YjJdIGZvY3VzOm91dGxpbmUtbm9uZScpXG4gICAgICAgIHByaW9yaXR5RGl2LmFwcGVuZChwcmlvcml0eUxhYmVsLCBwcmlvcml0eVNlbGVjdClcbiAgICAgICAgcGFyZW50RGl2LmFwcGVuZChwcmlvcml0eURpdilcbiAgICAgICAgbGV0IGRhdGVEaXYgPSBuZXdFbGVtZW50Lm1ha2VEaXYoXCJmbGV4IGZsZXgtY29sXCIpXG4gICAgICAgIGxldCBkYXRlTGFiZWwgPSBuZXdFbGVtZW50Lm1ha2VMYWJlbChpZCwgXCJkYXRlXCIpXG4gICAgICAgIGxldCBkYXRlSW5wdXQgPSBuZXdFbGVtZW50Lm1ha2VJbnB1dCgnZGF0ZScsIGlkLCAnZGF0ZScsIFwiYmctd2hpdGUgYm9yZGVyLVsxcHhdIGJvcmRlci1ibGFjayBmb2N1czpib3JkZXItWzJweF0gZm9jdXM6Ym9yZGVyLVsjMjk5NGIyXSBmb2N1czpvdXRsaW5lLW5vbmVcIilcbiAgICAgICAgZGF0ZURpdi5hcHBlbmQoZGF0ZUxhYmVsLCBkYXRlSW5wdXQpXG4gICAgICAgIHBhcmVudERpdi5hcHBlbmQoZGF0ZURpdilcbiAgICAgICAgdHdvU2VsZWN0b3JzLmFwcGVuZChwYXJlbnREaXYpXG4gICAgICAgIGxldCBsYXN0QnRuID0gbmV3RWxlbWVudC5tYWtlQnV0dG9uKFwiZmxleCB0ZXh0LXhsIG15LTIgaXRlbXMtY2VudGVyXCIpXG4gICAgICAgIGxhc3RCdG4uc2V0QXR0cmlidXRlKCd0eXBlJywgJ3N1Ym1pdCcpXG4gICAgICAgIGxhc3RCdG4uc2V0QXR0cmlidXRlKCdmb3JtJywgJ3Rhc2tGb3JtJylcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKS5pbm5lckhUTUxcbiAgICAgICAgbGV0IGluZGV4ID0gZ2V0SWQodGl0bGUpXG4gICAgICAgIGxhc3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PntcbiAgICAgICAgICAgIGxldCBvYmplY3RJZCA9IGlkICsgJ29iamVjdGl2ZSdcbiAgICAgICAgICAgIGxldCBkZXNjSWQgPSBpZCArICdkZXNjJ1xuICAgICAgICAgICAgbGV0IHByaW9yaXR5SWQgPSBpZCArICdwcmlvcml0eSdcbiAgICAgICAgICAgIGxldCBkYXRlSWQgPSBpZCArICdkYXRlJ1xuICAgICAgICAgICAgbGV0IG9iamVjdGl2ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9iamVjdElkKS52YWx1ZVxuICAgICAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVzY0lkKS52YWx1ZVxuICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJpb3JpdHlJZCkudmFsdWVcbiAgICAgICAgICAgIGxldCBkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGF0ZUlkKS52YWx1ZVxuICAgICAgICAgICAgcHJvamVjdEluZm9ybWF0aW9uLnByb2plY3RBcnJheVtpbmRleF0udGFza3MucHVzaChtYWtlVGFzayhvYmplY3RpdmUsZGVzY3JpcHRpb24scHJpb3JpdHksZGF0ZSkpXG4gICAgICAgICAgICBwcm9qZWN0SW5mb3JtYXRpb24ucHJvamVjdEFycmF5WzBdLnRhc2tzLnB1c2gobWFrZVRhc2sob2JqZWN0aXZlLGRlc2NyaXB0aW9uLHByaW9yaXR5LGRhdGUpKVxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob2JqZWN0SWQpLnZhbHVlID0gJydcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlc2NJZCkudmFsdWUgPSAnJ1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJpb3JpdHlJZCkudmFsdWUgPSAnMCdcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGVJZCkudmFsdWUgPSAnJ1xuICAgICAgICAgICAgc3RvcmFnZS51cGRhdGVQcm9qZWN0SW5mbyhwcm9qZWN0SW5mb3JtYXRpb24pXG4gICAgICAgIH0pXG4gICAgICAgIGxldCBsYXN0RGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KFwibXgtMiByZWxhdGl2ZVwiKVxuICAgICAgICBsZXQgZmlyc3RTcGFuID0gbmV3RWxlbWVudC5vdGhlclNwYW4odHJ1ZSlcbiAgICAgICAgbGV0IHNlY1NwYW4gPSBuZXdFbGVtZW50Lm90aGVyU3BhbihmYWxzZSlcbiAgICAgICAgbGV0IGlMaWVkRGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KCcnLCcnLCdBZGQnKVxuICAgICAgICBsYXN0RGl2LmFwcGVuZChmaXJzdFNwYW4sIHNlY1NwYW4pXG4gICAgICAgIGxhc3RCdG4uYXBwZW5kKGxhc3REaXYsIGlMaWVkRGl2KVxuICAgICAgICAvLyBsYXN0QnRuLnRleHRDb250ZW50ID0gJ0FkZCdcbiAgICAgICAgdHdvU2VsZWN0b3JzLmFwcGVuZChsYXN0QnRuKVxuICAgICAgICBjb250YWluZXIuYXBwZW5kKHR3b1NlbGVjdG9ycylcbiAgICAgICAgZm9ybS5hcHBlbmQoY29udGFpbmVyKVxuICAgICAgICBtb2RhbEJvZHkuYXBwZW5kKGZvcm0pXG4gICAgICAgIGdvZERpdi5hcHBlbmQobW9kYWxCb2R5KVxuICAgICAgICByZXR1cm4gZ29kRGl2XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xuICAgICAgICBpZiAobW9kYWwgPT0gbnVsbCkgcmV0dXJuXG4gICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICB9XG5cbiAgICByZXR1cm4geyB0YXNrTW9kYWwsIGVkaXRNb2RhbH1cbn0pKClcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlTW9kYWwiLCJpbXBvcnQgZ2V0SWQgZnJvbSBcIi4vZ2V0SWRcIlxuXG5jb25zdCBraWxsVGFzayA9ICgoKSA9PiB7XG4gICAgY29uc3Qga2lsbCA9ICh0YXNrSWQpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJraWxsVGFza1wiKVxuICAgICAgICAvLyBsZXQgcHJvamVjdEluZGV4ID0gZ2V0SWQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJykpXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHByb2plY3RJbmRleClcbiAgICB9XG5cbiAgICByZXR1cm4geyBraWxsIH1cbn0pKClcblxuZXhwb3J0IGRlZmF1bHQga2lsbFRhc2siLCJpbXBvcnQgbmV3RWxlbWVudCBmcm9tIFwiLi9jcmVhdGVFbGVtZW50c1wiXG5pbXBvcnQgY3JlYXRlTW9kYWwgZnJvbSBcIi4vY3JlYXRlTW9kYWxcIlxuaW1wb3J0IHByb2plY3RJbmZvcm1hdGlvbiBmcm9tIFwiLi9wcm9qZWN0SW5mb3JtYXRpb25cIlxuaW1wb3J0IGdldElkIGZyb20gXCIuL2dldElkXCJcbmltcG9ydCBraWxsVGFzayBmcm9tIFwiLi9raWxsVGFza1wiXG5cbmNvbnN0IHVwbG9hZFRhc2tzID0gKCgpID0+IHtcbiAgICBjb25zdCB1cGxvYWQgPSAoaWQsIHByaW9yaXR5KSA9PiB7XG4gICAgICAgIGxldCB0YXNrRGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KClcbiAgICAgICAgbGV0IGdyYW5kRmF0aGVyID0gbmV3RWxlbWVudC5tYWtlRGl2KCdyb3VuZGVkLVsxMHB4XSBmbGV4IGp1c3RpZnktYmV0d2VlbiBob3ZlcjpiZy1bI2NjY2NjY10gbWluLWgtWzNyZW1dIGl0ZW1zLWNlbnRlciBob3ZlcjpyZWxhdGl2ZSBob3Zlcjpib3R0b20tMSBob3ZlcjpzaGFkb3cteGwgZmxleC1jb2wgbGc6ZmxleC1yb3cgcHktMicpXG4gICAgICAgIGxldCB0YXNrTmFtZSA9IG5ld0VsZW1lbnQubWFrZURpdignZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LXN0YXJ0IGxnOmp1c3RpZnktc3RhcnQgbGc6aXRlbXMtY2VudGVyIHctZnVsbCcpXG4gICAgICAgIGxldCBjaXJjbGUgPSBuZXdFbGVtZW50LmNpcmNsZVNwYW4oaWQpXG4gICAgICAgIGNpcmNsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGtpbGxUYXNrLmtpbGwoaWQpXG4gICAgICAgIH0pXG4gICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpXG4gICAgICAgIGxldCBpbmRleCA9IGdldElkKHRpdGxlLmlubmVySFRNTClcbiAgICAgICAgbGV0IG9iamVjdFRpdGxlID0gcHJvamVjdEluZm9ybWF0aW9uLnByb2plY3RBcnJheVtpbmRleF0udGFza3NbaWRdLm9iamVjdGl2ZVxuICAgICAgICBsZXQgdGFza05hbWVTdHJpbmdEaXYgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJycsJycsIG9iamVjdFRpdGxlKVxuICAgICAgICB0YXNrTmFtZS5hcHBlbmQoY2lyY2xlLCB0YXNrTmFtZVN0cmluZ0RpdilcbiAgICAgICAgZ3JhbmRGYXRoZXIuYXBwZW5kKHRhc2tOYW1lKVxuICAgICAgICBsZXQgdGFza0h1YiA9IG5ld0VsZW1lbnQubWFrZURpdihcImZsZXggZ2FwLTYgbXItOFwiKVxuICAgICAgICBsZXQgZGV0YWlsRGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KClcbiAgICAgICAgbGV0IGRldGFpbHNCdXR0b24gPSBuZXdFbGVtZW50Lm1ha2VCdXR0b24oXCJob3ZlcjotdHJhbnNsYXRlLXktMSBob3ZlcjpzY2FsZS0xMTAgdHJhbnNpdGlvbiBlYXNlLWluLW91dCBkdXJhdGlvbi0zMDBcIiwgXCJcIiwgXCJEZXRhaWxzXCIpXG4gICAgICAgIGRldGFpbHNCdXR0b24uZGF0YXNldC5tb2RhbFRhcmdldCA9IGlkICsgJ01vZGFsJ1xuICAgICAgICBkZXRhaWxzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGRldGFpbHNNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRldGFpbHNCdXR0b24uZGF0YXNldC5tb2RhbFRhcmdldClcbiAgICAgICAgICAgIG9wZW5Nb2RhbChkZXRhaWxzTW9kYWwpXG4gICAgICAgIH0pXG4gICAgICAgIGxldCB0YXNrTW9kYWwgPSBjcmVhdGVNb2RhbC50YXNrTW9kYWwoaWQpXG4gICAgICAgIGRldGFpbERpdi5hcHBlbmQoZGV0YWlsc0J1dHRvbiwgdGFza01vZGFsKVxuICAgICAgICB0YXNrSHViLmFwcGVuZChkZXRhaWxEaXYpXG4gICAgICAgIGxldCBlZGl0SW1nID0gbmV3RWxlbWVudC5tYWtlRWRpdEltZyhpZClcbiAgICAgICAgZWRpdEltZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWRpdEltZy5kYXRhc2V0Lm1vZGFsVGFyZ2V0KVxuICAgICAgICAgICAgY2xvc2VNb2RhbChlZGl0TW9kYWwpXG4gICAgICAgIH0pXG4gICAgICAgIGxldCBvdGhlckVkaXRNb2RhbCA9IGNyZWF0ZU1vZGFsLmVkaXRNb2RhbChpZClcbiAgICAgICAgdGFza0h1Yi5hcHBlbmQoZWRpdEltZywgb3RoZXJFZGl0TW9kYWwpXG4gICAgICAgIGxldCB0cmFzaEltZyA9IG5ld0VsZW1lbnQubWFrZVRyYXNoSW1nKGlkKVxuICAgICAgICB0cmFzaEltZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGtpbGxUYXNrLmtpbGwoaWQpXG4gICAgICAgIH0pXG4gICAgICAgIHRhc2tIdWIuYXBwZW5kKHRyYXNoSW1nKVxuICAgICAgICBncmFuZEZhdGhlci5hcHBlbmQodGFza0h1YilcbiAgICAgICAgdGFza0Rpdi5hcHBlbmQoZ3JhbmRGYXRoZXIpXG4gICAgICAgIHJldHVybiB0YXNrRGl2XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XG4gICAgICAgIGlmIChtb2RhbCA9PSBudWxsKSByZXR1cm5cbiAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcbiAgICAgICAgaWYgKG1vZGFsID09IG51bGwpIHJldHVyblxuICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgfVxuICAgICBcbiAgICByZXR1cm4geyB1cGxvYWQgfVxufSkoKVxuXG5leHBvcnQgZGVmYXVsdCB1cGxvYWRUYXNrc1xuLy8gdGhlIGFycmF5IGhlcmUgaXMgYW4gYXJyYXkgb2Ygb2JqZWN0cyB0aGF0IHdoZXJlIG1hZGUgd2l0aCBtYWtlVGFza3MgZnVuY3Rpb24sIGNoZWNrIGl0IG91dCBpZiB5b3UgZG8gbm90IGtub3cgd2hhdCBwcm9wZXJ0aWVzIHRoZSBvYmplY3QgaGFzIiwiaW1wb3J0IHByb2plY3RJbmZvcm1hdGlvbiBmcm9tIFwiLi9wcm9qZWN0SW5mb3JtYXRpb25cIlxuaW1wb3J0IHVwbG9hZFRhc2tzIGZyb20gXCIuL3VwbG9hZFRhc2tzXCJcblxuY29uc3Qgc3RvcmFnZSA9ICgoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbGl6ZSA9ICgpID0+IHtcbiAgICAgICAgbGV0IG5ld09iamVjdCA9IGdldFByb2plY3RJdGVtKClcbiAgICAgICAgdXBkYXRlUHJvamVjdEluZm8obmV3T2JqZWN0KVxuICAgICAgICBpZiAoZ2V0UHJvamVjdEl0ZW0oKS5wcm9qZWN0QXJyYXlbMF0udGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyB1cGxvYWRUYXNrcyhnZXRQcm9qZWN0SXRlbSgpLnByb2plY3RBcnJheVswXS50YXNrcylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZVByb2plY3RJbmZvID0gKHVwZGF0ZWRPYmplY3QpID0+IHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RJbmZvJywgSlNPTi5zdHJpbmdpZnkodXBkYXRlZE9iamVjdCkpXG4gICAgfVxuXG4gICAgY29uc3QgZ2V0UHJvamVjdEl0ZW0gPSAoKSA9PiB7XG4gICAgICAgIGxldCBpdGVtID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvamVjdEluZm8nKSlcbiAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICB9XG5cbiAgICByZXR1cm4geyB1cGRhdGVQcm9qZWN0SW5mbywgZ2V0UHJvamVjdEl0ZW0sIGluaXRpYWxpemUsIH1cbn0pKClcblxuZXhwb3J0IGRlZmF1bHQgc3RvcmFnZSIsImltcG9ydCBpRmFjdG9yeSBmcm9tIFwiLi9pbmZvcm1hdGlvbkZhY3RvcnlcIjtcbmltcG9ydCBzdG9yYWdlIGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiO1xuXG5jb25zdCBwcm9qZWN0SW5mb3JtYXRpb24gPSAoKCkgPT4ge1xuICAgIC8vIHRoaXMgaXMgdGhlIHByb2plY3QgbmFtZSBpbmZvcm1hdGlvbiBhcnJheSB0aGF0IHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSB0YXNrIGluZm9ybWF0aW9uIG9iamVjdCBhcnJheVxuICAgIGNvbnN0IG5hbWVBcnJheSA9IFtdXG4gICAgY29uc3QgcHJvamVjdEFycmF5ID0gW11cbiAgICAvLyB0aGVzZSBhcmUgdGhlIGJhc2UgcHJvamVjdCBmaWxlcyB0aGF0IHdpbGwgYmUgcHJlbG9hZGVkIGludG8gdGhlIGRvbVxuICAgIGNvbnN0IGJhc2VQcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByb2plY3QtbmFtZV0nKVxuICAgIGJhc2VQcm9qZWN0cy5mb3JFYWNoKCBwcm9qZWN0ID0+IHtcbiAgICAgICAgbmFtZUFycmF5LnB1c2gocHJvamVjdC5kYXRhc2V0LnByb2plY3ROYW1lKVxuICAgICAgICBsZXQgZWxlbWVudCA9IGlGYWN0b3J5KHByb2plY3QuZGF0YXNldC5wcm9qZWN0TmFtZSlcbiAgICAgICAgcHJvamVjdEFycmF5LnB1c2goZWxlbWVudClcbiAgICB9KVxuICAgIHJldHVybiB7bmFtZUFycmF5LCBwcm9qZWN0QXJyYXl9XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9qZWN0SW5mb3JtYXRpb24iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVCdXR0b25zKGJ1dHRvbikge1xuICAgIGJ1dHRvbi5mb3JFYWNoKCBidG4gPT4ge1xuICAgICAgICBsZXQgbmV3QnRuID0gYnRuLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgYnRuLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5ld0J0biwgYnRuKVxuICAgIH0pXG59IiwiY29uc3QgbWFrZVRhc2sgPSAob2JqZWN0aXZlLCBkZXNjLCBwcmlvcml0eSwgZGF0ZSwgcHJvamVjdCkgPT4ge1xuICAgIHJldHVybiB7b2JqZWN0aXZlLCBkZXNjLCBwcmlvcml0eSwgZGF0ZSwgcHJvamVjdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZVRhc2siLCJpbXBvcnQgdXBsb2FkVGFza3MgZnJvbSBcIi4vdXBsb2FkVGFza3NcIjtcbmltcG9ydCBnZXRJZCBmcm9tIFwiLi9nZXRJZFwiO1xuaW1wb3J0IHN0b3JhZ2UgZnJvbSBcIi4vbG9jYWxTdG9yYWdlXCI7XG5cblxuY29uc3QgdXBkYXRlRGlyZWN0b3J5ID0gKCgpID0+IHtcbiAgICAgICAgbGV0IHJlZnJlc2ggPSAoYnRuKSA9PiB7XG4gICAgICAgICAgICBsZXQgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKS5pbm5lckhUTUwudHJpbSgpXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBnZXRJZChwcm9qZWN0TmFtZSlcbiAgICAgICAgICAgIGxldCB0YXNrQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKVxuICAgICAgICAgICAgd2hpbGUgKHRhc2tDb250YWluZXIuY2hpbGROb2Rlcy5sZW5ndGggPiA0KSB7XG4gICAgICAgICAgICAgICAgdGFza0NvbnRhaW5lci5yZW1vdmVDaGlsZCh0YXNrQ29udGFpbmVyLmZpcnN0Q2hpbGQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2dldHRpbmdEZWxldGVkJykpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvamVjdEluZm8gPSBzdG9yYWdlLmdldFByb2plY3RJdGVtKClcbiAgICAgICAgICAgICAgICBpZiAocHJvamVjdEluZm8ucHJvamVjdEFycmF5W2luZGV4XS50YXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdEluZm8ucHJvamVjdEFycmF5W2luZGV4XS50YXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1Rhc2sgPSB1cGxvYWRUYXNrcy51cGxvYWQoaSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JykuaW5zZXJ0QmVmb3JlKG5ld1Rhc2ssIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrQnV0dG9uJykpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIHJldHVybiB7IHJlZnJlc2gsIH1cbn0pKClcblxuZXhwb3J0IGRlZmF1bHQgdXBkYXRlRGlyZWN0b3J5IiwiaW1wb3J0IHByb2plY3RJbmZvcm1hdGlvbiBmcm9tIFwiLi9wcm9qZWN0SW5mb3JtYXRpb25cIjtcbmltcG9ydCB1cGRhdGVCdXR0b25zIGZyb20gXCIuL3VwZGF0ZUJ1dHRvbnNcIjtcbmltcG9ydCBpRmFjdG9yeSBmcm9tIFwiLi9pbmZvcm1hdGlvbkZhY3RvcnlcIjtcbmltcG9ydCBraWxsUHJvamVjdCBmcm9tIFwiLi9raWxsUHJvamVjdFwiO1xuaW1wb3J0IGdldElkIGZyb20gXCIuL2dldElkXCI7XG5pbXBvcnQgbWFrZVRhc2sgZnJvbSBcIi4vbWFrZVRhc2tcIjtcbmltcG9ydCBzdG9yYWdlIGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiO1xuaW1wb3J0IHVwbG9hZFRhc2tzIGZyb20gXCIuL3VwbG9hZFRhc2tzXCI7XG5pbXBvcnQgdXBkYXRlRGlyZWN0b3J5IGZyb20gXCIuL3VwZGF0ZURpcmVjdG9yeVwiO1xuXG5jb25zdCBkb21NYW4gPSAoKCkgPT4ge1xuXG4gICAgY29uc3QgYnV0dG9uQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBsZXQgZG9tQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpcmVjdG9yeScpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG9tQnRuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkb21CdG5baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZG9tQnRuLmZvckVhY2goIGJ0biA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCd0b2dnbGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCd0b2dnbGVkJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKVxuICAgICAgICAgICAgICAgIGxldCBkaXZDaGlsZCA9IGRvbUJ0bltpXS5jaGlsZE5vZGVzXG4gICAgICAgICAgICAgICAgbGV0IHRleHRcbiAgICAgICAgICAgICAgICBpZiAoZGl2Q2hpbGQubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gZGl2Q2hpbGRbM10udGV4dENvbnRlbnRcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gZGl2Q2hpbGRbMV0udGV4dENvbnRlbnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG9tQnRuW2ldLmNsYXNzTGlzdC5hZGQoJ3RvZ2dsZWQnKVxuICAgICAgICAgICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gdGV4dFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIGNvbnN0IG5hdlRvZ2dsZSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndG9nZ2xlLWJ1dHRvbicpWzBdXG4gICAgICAgIGNvbnN0IG5hdmJhckxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmF2JylcbiAgICAgICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJylcbiAgICAgICAgdG9nZ2xlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgbmF2YmFyTGluay5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxuICAgICAgICAgICAgbWFpbi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxuICAgICAgICB9KVxuICAgIH07XG5cbiAgICBjb25zdCBhY3RpdmF0ZU1vZGFscyA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgb3Blbk1vZGFsQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1vZGFsLXRhcmdldCcpXG4gICAgICAgIGNvbnN0IGNsb3NlTW9kYWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY2xvc2UtYnV0dG9uXScpXG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpXG5cbiAgICAgICAgb3Blbk1vZGFsQnV0dG9ucy5mb3JFYWNoKCBidG4gPT4ge1xuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidG4uZGF0YXNldC5tb2RhbFRhcmdldClcbiAgICAgICAgICAgICAgICBvcGVuTW9kYWwobW9kYWwpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIGNsb3NlTW9kYWxCdXR0b25zLmZvckVhY2goIGJ0biA9PiB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBidG4uY2xvc2VzdCgnLm1vZGFsJylcbiAgICAgICAgICAgICAgICBjbG9zZU1vZGFsKG1vZGFsKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBmdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcbiAgICAgICAgICAgIGlmIChtb2RhbCA9PSBudWxsKSByZXR1cm5cbiAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XG4gICAgICAgICAgICBpZiAobW9kYWwgPT0gbnVsbCkgcmV0dXJuXG4gICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGFkZFByb2plY3QgPSAoKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRQcm9qZWN0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBhZGRpdGlvbmFsUHJvamVjdCgpXG4gICAgICAgIH0pXG5cbiAgICAgICAgZnVuY3Rpb24gYWRkaXRpb25hbFByb2plY3QoKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lJykudmFsdWVcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lJykudmFsdWUgPSAnJ1xuICAgICAgICAgICAgbGV0IGkgPSAwXG4gICAgICAgICAgICBsZXQgaiA9MFxuICAgICAgICAgICAgd2hpbGUgKGkgPCBwcm9qZWN0SW5mb3JtYXRpb24ubmFtZUFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0SW5mb3JtYXRpb24ubmFtZUFycmF5W2ldID09PSBwcm9qZWN0TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBqKytcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChqID09IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IGlGYWN0b3J5KHByb2plY3ROYW1lKVxuICAgICAgICAgICAgICAgIHByb2plY3RJbmZvcm1hdGlvbi5wcm9qZWN0QXJyYXkucHVzaChlbGVtZW50KVxuICAgICAgICAgICAgICAgIHByb2plY3RJbmZvcm1hdGlvbi5uYW1lQXJyYXkucHVzaChwcm9qZWN0TmFtZSlcbiAgICAgICAgICAgICAgICBzdG9yYWdlLnVwZGF0ZVByb2plY3RJbmZvKHByb2plY3RJbmZvcm1hdGlvbilcbiAgICAgICAgICAgICAgICBjb25zdCBhZGRPbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRpdGlvbmFsUHJvamVjdHMnKVxuICAgICAgICAgICAgICAgIGNvbnN0IGJ0biA9IG1ha2VCdG4oW1wiaG92ZXI6YmctWyNjY2NjY2NdXCIsIFwicm91bmRlZC1tZFwiLCBcInctZnVsbFwiLCBcInB5LTJcIiwgXCJmbGV4XCIsIFwianVzdGlmeS1iZXR3ZWVuXCIsIFwiaXRlbXMtY2VudGVyXCIsIFwiaC0xMlwiLCBcInB4LTFcIiwgJ2RpcmVjdG9yeSddKVxuICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IG1ha2VJbWcoW1wiaC1bMS4zcmVtXVwiLCBcInctWzEuM3JlbV1cIiwgXCJmbGV4XCIsIFwianVzdGlmeS1zdGFydFwiLCBcIml0ZW1zLWNlbnRlclwiLCBcIm14LTRcIiwgXCJib3gtY29udGVudFwiXSlcbiAgICAgICAgICAgICAgICBjb25zdCBkaXYgPSBtYWtlRGl2KHByb2plY3ROYW1lKVxuICAgICAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdjbG9zZXN0JylcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gbWFrZVgoWydtbC00Jywnei0xMCcsJ2ZsZXgnLCdqdXN0aWZ5LWVuZCcsICdraWxsYmlsbCddKVxuICAgICAgICAgICAgICAgIGJ0bi5hcHBlbmQoaW1nKVxuICAgICAgICAgICAgICAgIGJ0bi5hcHBlbmQoZGl2KVxuICAgICAgICAgICAgICAgIGJ0bi5hcHBlbmQoeClcbiAgICAgICAgICAgICAgICBhZGRPbi5pbnNlcnRCZWZvcmUoYnRuLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkQmVmb3JlJykpXG4gICAgICAgICAgICAgICAgdXBkYXRlQnV0dG9ucyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGlyZWN0b3J5JykpXG4gICAgICAgICAgICAgICAgYnV0dG9uQ2hhbmdlKClcbiAgICAgICAgICAgICAgICBraWxsUHJvamVjdCgpXG4gICAgICAgICAgICAgICAgbGV0IGNsaWNrZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGlyZWN0b3J5JylcbiAgICAgICAgICAgICAgICBjbGlja2VkLmZvckVhY2goIGJ0biA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURpcmVjdG9yeS5yZWZyZXNoKGJ0bilcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbWFrZUJ0bihhcnJheSkge1xuICAgICAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBidG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG1ha2VYKGFycmF5KSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgIHguaW5uZXJIVE1MID0gJyZ0aW1lczsnXG4gICAgICAgICAgICBmb3IobGV0IGkgPTA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHguY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB4XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBtYWtlSW1nKGFycmF5KSB7XG4gICAgICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoMjAsMjApXG4gICAgICAgICAgICBpbWcuc3JjID0gJy9zcmMvbW9kdWxlcy9wcm9qZWN0LWltYWdlLnBuZydcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpbWcuY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbWdcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG1ha2VEaXYocHJvamVjdE5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICBkaXYudGV4dENvbnRlbnQgPSBwcm9qZWN0TmFtZVxuICAgICAgICAgICAgZGl2LmRhdGFzZXQucHJvamVjdE5hbWUgPSBwcm9qZWN0TmFtZVxuICAgICAgICAgICAgZGl2LmRhdGFzZXQuaWQgPSBwcm9qZWN0SW5mb3JtYXRpb24ubmFtZUFycmF5Lmxlbmd0aCAtIDFcbiAgICAgICAgICAgIHJldHVybiBkaXZcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGFkZFRhc2sgPSAoKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRUYXNrJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBhZGRpdGlvbmFsVGFzaygpXG4gICAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGFkZGl0aW9uYWxUYXNrKCkge1xuICAgICAgICAvLyB0aGlzIGNoZWNrcyB3aGVyZSB0aGUgdGFzayBpcyBiZWluZyBwbGFjZWQgaW5cbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKVxuICAgICAgICBsZXQgaW5kZXggPSBnZXRJZCh0aXRsZS5pbm5lckhUTUwpXG4gICAgICAgIGNvbnNvbGUubG9nKCdjbGlja2VkJylcbiAgICAgICAgbGV0IG9iamVjdGl2ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvYmplY3RpdmUnKS52YWx1ZVxuICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzY3JpcHRpb24nKS52YWx1ZVxuICAgICAgICBsZXQgcHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpb3JpdHknKS52YWx1ZVxuICAgICAgICBsZXQgZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJykudmFsdWVcbiAgICAgICAgaWYgKHRpdGxlLnRleHRDb250ZW50ICE9ICdJbmJveCcpIHtcbiAgICAgICAgICAgIHByb2plY3RJbmZvcm1hdGlvbi5wcm9qZWN0QXJyYXlbMF0udGFza3MucHVzaChtYWtlVGFzayhvYmplY3RpdmUsZGVzY3JpcHRpb24scHJpb3JpdHksZGF0ZSwgdGl0bGUudGV4dENvbnRlbnQudHJpbSgpKSlcbiAgICAgICAgICAgIHByb2plY3RJbmZvcm1hdGlvbi5wcm9qZWN0QXJyYXlbaW5kZXhdLnRhc2tzLnB1c2gobWFrZVRhc2sob2JqZWN0aXZlLGRlc2NyaXB0aW9uLHByaW9yaXR5LGRhdGUsIHRpdGxlLnRleHRDb250ZW50LnRyaW0oKSkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9qZWN0SW5mb3JtYXRpb24ucHJvamVjdEFycmF5WzBdLnRhc2tzLnB1c2gobWFrZVRhc2sob2JqZWN0aXZlLGRlc2NyaXB0aW9uLHByaW9yaXR5LGRhdGUpKVxuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvYmplY3RpdmUnKS52YWx1ZSA9ICcnXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbicpLnZhbHVlID0gJydcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaW9yaXR5JykudmFsdWUgPSAnMCdcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGUnKS52YWx1ZSA9ICcnXG4gICAgICAgIGxldCB0YXNrSW5kZXggPSBwcm9qZWN0SW5mb3JtYXRpb24ucHJvamVjdEFycmF5W2luZGV4XS50YXNrcy5sZW5ndGggLSAxXG4gICAgICAgIGxldCBuZXdUYXNrID0gdXBsb2FkVGFza3MudXBsb2FkKHRhc2tJbmRleClcbiAgICAgICAgc3RvcmFnZS51cGRhdGVQcm9qZWN0SW5mbyhwcm9qZWN0SW5mb3JtYXRpb24pXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JykuaW5zZXJ0QmVmb3JlKG5ld1Rhc2ssIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrQnV0dG9uJykpXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYnV0dG9uQ2hhbmdlLFxuICAgICAgICBuYXZUb2dnbGUsXG4gICAgICAgIGFjdGl2YXRlTW9kYWxzLFxuICAgICAgICBhZGRQcm9qZWN0LFxuICAgICAgICBhZGRUYXNrLFxuICAgIH1cbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGRvbU1hbjsiLCJpbXBvcnQgdXBkYXRlQnV0dG9ucyBmcm9tIFwiLi91cGRhdGVCdXR0b25zXCJcbmltcG9ydCBwcm9qZWN0SW5mb3JtYXRpb24gZnJvbSBcIi4vcHJvamVjdEluZm9ybWF0aW9uXCJcbmltcG9ydCBzdG9yYWdlIGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGtpbGxQcm9qZWN0KCkge1xuICAgIGxldCBraWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmtpbGxiaWxsJylcbiAgICB1cGRhdGVCdXR0b25zKGtpbGwpXG4gICAga2lsbEJpbGxDaGFuZ2UoKVxuXG4gICAgZnVuY3Rpb24ga2lsbEJpbGxDaGFuZ2UoKSB7XG4gICAgICAgIGxldCBraWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmtpbGxiaWxsJylcbiAgICAgICAga2lsbC5mb3JFYWNoKCBidG4gPT4ge1xuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdraWxsYmlsbCBpcyBnZXR0aW5nIGNsaWNrZWQnKVxuICAgICAgICAgICAgICAgIGJ0bi5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2dldHRpbmdEZWxldGVkJylcbiAgICAgICAgICAgICAgICBsZXQgcHJldiA9IGJ0bi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXG4gICAgICAgICAgICAgICAgbGV0IGlkID0gcHJldi5kYXRhc2V0LmlkXG4gICAgICAgICAgICAgICAgcHJvamVjdEluZm9ybWF0aW9uLm5hbWVBcnJheS5zcGxpY2UoaWQsIDEpXG4gICAgICAgICAgICAgICAgcHJvamVjdEluZm9ybWF0aW9uLnByb2plY3RBcnJheS5zcGxpY2UoaWQsIDEpXG4gICAgICAgICAgICAgICAgbGV0IHByb2plY3ROYW1lID0gYnRuLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuZGF0YXNldC5wcm9qZWN0TmFtZS50cmltKClcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0TmFtZSlcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0SW5mb3JtYXRpb24ucHJvamVjdEFycmF5WzBdLnRhc2tzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBpZiAocHJvamVjdEluZm9ybWF0aW9uLnByb2plY3RBcnJheVswXS50YXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdEluZm9ybWF0aW9uLnByb2plY3RBcnJheVswXS50YXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2plY3RJbmZvcm1hdGlvbi5wcm9qZWN0QXJyYXlbMF0udGFza3NbaV0ucHJvamVjdCA9PSBwcm9qZWN0TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RJbmZvcm1hdGlvbi5wcm9qZWN0QXJyYXlbMF0udGFza3Muc3BsaWNlKGksIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2l0cyBnb2luZyB0aHJvdWdoJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpIC09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdG9yYWdlLnVwZGF0ZVByb2plY3RJbmZvKHByb2plY3RJbmZvcm1hdGlvbilcbiAgICAgICAgICAgICAgICBidG4ucGFyZW50RWxlbWVudC5yZW1vdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG59IiwiaW1wb3J0IGRvbU1hbiBmcm9tICcuL21vZHVsZXMvZG9tTWFuaXB1bGF0aW9uJ1xuaW1wb3J0IHByb2plY3RJbmZvcm1hdGlvbiBmcm9tICcuL21vZHVsZXMvcHJvamVjdEluZm9ybWF0aW9uJ1xuaW1wb3J0IHN0b3JhZ2UgZnJvbSAnLi9tb2R1bGVzL2xvY2FsU3RvcmFnZSdcbmltcG9ydCBjcmVhdGVNb2RhbCBmcm9tICcuL21vZHVsZXMvY3JlYXRlTW9kYWwnXG4gXG5jb25zb2xlLmxvZyh7dGVzdFN0cmluZzogJ1RoaXMgaXMgd29ya2luZywgYWxvbmcgd2l0aCBUYWlsd2luZCEnfSlcblxuLy8gdGhpcyBjb250cm9scyB0aGUgYnV0dG9ucyBjaGFuZ2luZyBjb2xvciBzbyB0aGF0IHRoZXkgaG9sZCB0aGVpciBob3ZlciBlZmZlY3QgZm9yIHdoZW4gdGhleSBhcmUgY2xpY2tlZCBcbmRvbU1hbi5idXR0b25DaGFuZ2UoKSBcbi8vIHRoaXMgaW5zdXJlcyB0aGF0IHRoZSBuYXYgYmFyIHNob3dzIHVwIGFuZCBwcm9wZXJseSB3b3JrcyB3aGVuIGNsaWNrZWRcbmRvbU1hbi5uYXZUb2dnbGUoKSBcbi8vIHRoaXMgYWN0aXZlcyB0aGUgcG9wdXBzIHRoYXQgY29tZSB1cCB3aGVuIHlvdSBwcmVzcyBhZGQgcHJvamVjdCBhbmQgYWRkIHRhc2tcbmRvbU1hbi5hY3RpdmF0ZU1vZGFscygpXG5cbi8vIHRoaXMgY2hlY2tzIGxvY2FsIHN0b3JhZ2UgaWYgdGhlcmUgYXJlIGFueSBwcmV2aW91cyBwcm9qZWN0cywgYW5kIGl0IGxvYWRzIGl0XG5zdG9yYWdlLmluaXRpYWxpemUoKVxuXG4vLyB0aGlzIG1ha2VzIGl0IHNvIHRoYXQgZWFjaCB0aW1lIHlvdSBzdWJtaXQgYSBwcm9qZWN0LCBpdCBhcHBlYXJzIG9uIHRoZSBkb20gXG5kb21NYW4uYWRkUHJvamVjdCgpXG4vLyB0aGlzIG1ha2VzIGl0IHNvIHRoYXQgZWFjaCB0aW1lIHlvdSBzdWJtaXQgYSB0YXNrLCBpdCBnb2VzIGludG8gdGhlIHJlc3BlY3RpdmUgb2JqZWN0XG5kb21NYW4uYWRkVGFzaygpXG4iXSwibmFtZXMiOlsicHJvamVjdE5hbWUiLCJ0YXNrcyIsInN0cmluZyIsImlkIiwiaW5uZXJDb250ZW50IiwiYXJyYXkiLCJkaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzcGxpdCIsImkiLCJsZW5ndGgiLCJjbGFzc0xpc3QiLCJhZGQiLCJ1bmRlZmluZWQiLCJ0ZXh0Q29udGVudCIsImJ0biIsImltZyIsInNyYyIsImRhdGFzZXQiLCJtb2RhbFRhcmdldCIsInNwYW4iLCJmaXJzdCIsInN0cklkIiwiZm9ybSIsInNldEF0dHJpYnV0ZSIsInNlbGVjdG9yIiwibGFiZWwiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwidHlwZSIsImlucHV0IiwidGV4dGFyZWEiLCJjb2xzIiwicm93cyIsInNlbGVjdCIsInByaW9yaXR5SWQiLCJvcDEiLCJ2YWx1ZSIsIm9wMiIsIm9wMyIsIm9wNCIsImFwcGVuZCIsImdldElkIiwidGl0bGUiLCJpbmRleCIsImNsb3NlTW9kYWwiLCJtb2RhbCIsInJlbW92ZSIsIm92ZXJsYXkiLCJ0YXNrTW9kYWwiLCJnb2REaXYiLCJtb2RhbEhlYWRlciIsImNsb3NlQnRuIiwiaW5uZXJIVE1MIiwiY2xvc2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiY2xvc2VzdCIsImoiLCJtb2RhbEJvZHkiLCJnZXRFbGVtZW50QnlJZCIsInByb2plY3QiLCJvYmplY3RpdmUiLCJkZXNjIiwiZGF0ZSIsInByaW9yaXR5IiwiZWRpdE1vZGFsIiwiY29udGFpbmVyIiwib2JqZWN0aXZlRGl2Iiwib2JqZWN0aXZlTGFiZWwiLCJvYmplY3RpdmVJbnB1dCIsImRlc2NEaXYiLCJkZXNjTGFiZWwiLCJkZXNjVGV4dCIsInR3b1NlbGVjdG9ycyIsInBhcmVudERpdiIsInByaW9yaXR5RGl2IiwicHJpb3JpdHlMYWJlbCIsInByaW9yaXR5U2VsZWN0IiwiZGF0ZURpdiIsImRhdGVMYWJlbCIsImRhdGVJbnB1dCIsImxhc3RCdG4iLCJvYmplY3RJZCIsImRlc2NJZCIsImRhdGVJZCIsImRlc2NyaXB0aW9uIiwicHVzaCIsIm1ha2VUYXNrIiwic3RvcmFnZSIsInVwZGF0ZVByb2plY3RJbmZvIiwibGFzdERpdiIsImZpcnN0U3BhbiIsInNlY1NwYW4iLCJpTGllZERpdiIsInRhc2tJZCIsImNvbnNvbGUiLCJsb2ciLCJ0YXNrRGl2IiwiZ3JhbmRGYXRoZXIiLCJ0YXNrTmFtZSIsImNpcmNsZSIsIm9iamVjdFRpdGxlIiwidGFza05hbWVTdHJpbmdEaXYiLCJ0YXNrSHViIiwiZGV0YWlsRGl2IiwiZGV0YWlsc0J1dHRvbiIsImVkaXRJbWciLCJxdWVyeVNlbGVjdG9yIiwib3RoZXJFZGl0TW9kYWwiLCJ0cmFzaEltZyIsInVwZGF0ZWRPYmplY3QiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldFByb2plY3RJdGVtIiwicGFyc2UiLCJnZXRJdGVtIiwiaW5pdGlhbGl6ZSIsIm5ld09iamVjdCIsInByb2plY3RBcnJheSIsIm5hbWVBcnJheSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWxlbWVudCIsInVwZGF0ZUJ1dHRvbnMiLCJidXR0b24iLCJuZXdCdG4iLCJjbG9uZU5vZGUiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwidHJpbSIsInRhc2tDb250YWluZXIiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJmaXJzdENoaWxkIiwiY29udGFpbnMiLCJwcm9qZWN0SW5mbyIsIm5ld1Rhc2siLCJpbnNlcnRCZWZvcmUiLCJidXR0b25DaGFuZ2UiLCJkb21CdG4iLCJ0ZXh0IiwiZGl2Q2hpbGQiLCJuYXZUb2dnbGUiLCJ0b2dnbGVCdXR0b24iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwibmF2YmFyTGluayIsIm1haW4iLCJ0b2dnbGUiLCJhY3RpdmF0ZU1vZGFscyIsIm9wZW5Nb2RhbEJ1dHRvbnMiLCJjbG9zZU1vZGFsQnV0dG9ucyIsImFkZFByb2plY3QiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiYWRkT24iLCJtYWtlQnRuIiwiSW1hZ2UiLCJtYWtlSW1nIiwibWFrZURpdiIsIngiLCJtYWtlWCIsInBhcmVudEVsZW1lbnQiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiYWRkaXRpb25hbFByb2plY3QiLCJhZGRUYXNrIiwidGFza0luZGV4IiwiYWRkaXRpb25hbFRhc2siLCJ0ZXN0U3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==