(()=>{"use strict";const e=e=>({projectName:e,tasks:[]}),t=function(e="none",t="",n=""){let r,o=document.createElement("div");if(""!=e){r=e.split(" ");for(let e=0;e<r.length;e++)o.classList.add(r[e])}return null!=t&&(o.id=t),null!=n&&(o.textContent=n),o},n=function(e="",t="",n=""){let r=e.split(" "),o=document.createElement("button");if(""!=e)for(let e=0;e<r.length;e++)o.classList.add(r[e]);return o.id=t,o.textContent=n,o},r=function(e){let t="h-6 w-6 cursor-pointer hover:-translate-y-1 hover:scale-110 transition ease-in-out duration-300".split(" "),n=document.createElement("img");n.src="/src/modules/edit.svg",n.dataset.modalTarget="#"+e+"otherModal";for(let e=0;e<t.length;e++)n.classList.add(t[e]);return n},o=function(e){let t="min-h-[20px] min-w-[20px] inline-block bg-white border-red-500 border-[3px] rounded-[50%] hover:bg-slate-300 mx-3".split(" "),n=document.createElement("span");for(let e=0;e<t.length;e++)n.classList.add(t[e]);return n.dataset.id=e,n},l=function(e){let t="h-[2px] bg-slate-700 w-[12px] block".split(" "),n=document.createElement("span");for(let e=0;e<t.length;e++)n.classList.add(t[e]);return e?n.classList.add("translate-y-[2px]"):n.classList.add("rotate-[90deg]"),n},a=function(e){let t=document.createElement("img");t.src="/src/modules/trash.svg",t.dataset.id=e;let n="h-6 w-6 cursor-pointer trash hover:-translate-y-1 hover:scale-110 transition ease-in-out duration-300".split(" ");for(let e=0;e<n.length;e++)t.classList.add(n[e]);return t},c=function(e){let t=e+"form",n=document.createElement("form");return n.setAttribute("id",t),n.setAttribute("action",""),n},d=function(e,t){let n=e+t,r=document.createElement("label");return r.setAttribute("for",n),r.textContent=t[0].toUpperCase()+t.slice(1,t.length)+":",r},s=function(e,t,n,r){let o=r.split(" "),l=document.createElement("input");for(let e=0;e<o.length;e++)l.classList.add(o[e]);let a=t+n;return l.setAttribute("type",e),l.setAttribute("id",a),"text"===e&&l.setAttribute("required",""),l},i=function(e,t){let n=t.split(" "),r=document.createElement("textarea");r.setAttribute("required","");for(let e=0;e<n.length;e++)r.classList.add(n[e]);return r.cols="5",r.rows="5",r},m=function(e,t){let n=t.split(" "),r=document.createElement("select"),o=e+"priority";r.setAttribute("id",o);for(let e=0;e<n.length;e++)r.classList.add(n[e]);let l=document.createElement("option");l.value="0",l.textContent="None";let a=document.createElement("option");a.value="1",a.textContent="Low";let c=document.createElement("option");c.value="2",c.textContent="Medium";let d=document.createElement("option");return d.value="3",d.textContent="High",r.append(l,a,c,d),r};function u(e){let t=0;for(let n=0;n<j.getProjectItem().nameArray.length;n++)j.getProjectItem().nameArray[n]==e&&(t=n);return t}const p=(()=>{function e(e){null!=e&&(e.classList.remove("active"),overlay.classList.remove("active"))}return{taskModal:r=>{let o=t("modal break-normal",r+"Modal"),l=t("modal-header"),a=n("close-button","","");a.innerHTML="&times;",a.dataset.closeButton,a.addEventListener("click",(()=>{e(a.closest(".modal"))})),l.append(t("title","","Task Details"),a),o.append(l);let c,d=t("modal-body"),s=document.getElementById("title").textContent;for(let e=0;e<j.getProjectItem().nameArray.length;e++)j.getProjectItem().nameArray[e]==s&&(c=e);let i=j.getProjectItem().projectArray[c].projectName+" / "+j.getProjectItem().projectArray[c].tasks[r].project;return d.append(t("","","Project: "+i)),d.append(t("","","Title: "+j.getProjectItem().projectArray[c].tasks[r].objective)),d.append(t("","","Description: "+j.getProjectItem().projectArray[c].tasks[r].desc)),d.append(t("","","Due Date: "+j.getProjectItem().projectArray[c].tasks[r].date)),d.append(t("","","Priority: "+j.getProjectItem().projectArray[c].tasks[r].priority)),o.append(d),o},editModal:r=>{let o=t("modal",r+"otherModal"),a=t("modal-header"),p=n("close-button");p.innerHTML="&times;",p.dataset.closeButton,p.addEventListener("click",(()=>{e(p.closest(".modal"))})),a.append(t("title","","Edit Task"),p),o.append(a);let g=t("modal-body"),y=c(r),f=t("flex flex-col gap-2"),v=t("flex flex-col"),h=d(r,"objective"),b=s("text",r,"objective","bg-white border-[1px] border-black h-[2em] focus:border-[2px] focus:border-[#2994b2] focus:outline-none");v.append(h,b),f.append(v);let k=t("flex flex-col"),I=d(r,"description"),x=i(r,"bg-white border-[1px] border-black focus:border-[2px] focus:border-[#2994b2] focus:outline-none");k.append(I,x),f.append(k);let A=t("flex justify-around"),B=t("flex justify-start gap-12"),L=t("flex flex-col"),P=d(r,"priority"),w=m(r,"bg-white border-[1px] border-black h-7 focus:border-[2px] focus:border-[#2994b2] focus:outline-none");L.append(P,w),B.append(L);let C=t("flex flex-col"),T=d(r,"date"),M=s("date",r,"date","bg-white border-[1px] border-black focus:border-[2px] focus:border-[#2994b2] focus:outline-none");C.append(T,M),B.append(C),A.append(B);let S=n("flex text-xl my-2 items-center");S.setAttribute("type","submit"),S.setAttribute("form","taskForm");let N=u(document.getElementById("title").innerHTML);S.addEventListener("click",(()=>{let e=r+"objective",t=r+"desc",n=r+"priority",o=r+"date",l=document.getElementById(e).value,a=document.getElementById(t).value,c=document.getElementById(n).value,d=document.getElementById(o).value;E.projectArray[N].tasks.push(makeTask(l,a,c,d)),E.projectArray[0].tasks.push(makeTask(l,a,c,d)),document.getElementById(e).value="",document.getElementById(t).value="",document.getElementById(n).value="0",document.getElementById(o).value="",j.updateProjectInfo(E)}));let q=t("mx-2 relative"),D=l(!0),H=l(!1),z=t("","","Add");return q.append(D,H),S.append(q,z),A.append(S),f.append(A),y.append(f),g.append(y),o.append(g),o}}})(),g=(()=>{let e=0;return{kill:t=>{let n="task"+t,r=u(document.getElementById("title").innerHTML);document.getElementById("content").removeChild(document.getElementById(n));let o=j.getProjectItem();o.projectArray[r].tasks.splice(t-e,1),j.updateProjectInfo(o),0==o.projectArray[r].tasks.length?e=0:e++},reptitions:e}})(),y=(e,l)=>{let c=t("","task"+e),d=t("rounded-[10px] flex justify-between hover:bg-[#cccccc] min-h-[3rem] items-center hover:relative hover:bottom-1 hover:shadow-xl flex-col lg:flex-row py-2"),s=t("flex items-start justify-start lg:justify-start lg:items-center w-full"),i=o(e);i.addEventListener("click",(()=>{g.kill(e)}));let m=u(document.getElementById("title").innerHTML),y=j.getProjectItem().projectArray[m].tasks[e].objective,f=t("","",y);s.append(i,f),d.append(s);let v=t("flex gap-6 mr-8"),h=t(),E=n("hover:-translate-y-1 hover:scale-110 transition ease-in-out duration-300","","Details");E.dataset.modalTarget=e+"Modal",E.addEventListener("click",(()=>{var e;null!=(e=document.getElementById(E.dataset.modalTarget))&&(e.classList.add("active"),overlay.classList.add("active"))}));let b=p.taskModal(e);h.append(E,b),v.append(h);let k=r(e);k.addEventListener("click",(()=>{var e;null!=(e=document.querySelector(k.dataset.modalTarget))&&(e.classList.remove("active"),overlay.classList.remove("active"))}));let I=p.editModal(e);v.append(k,I);let x=a(e);return x.addEventListener("click",(()=>{g.kill(e)})),v.append(x),d.append(v),c.append(d),c},f=e=>{g.reptitions=0;let t=u(document.getElementById("title").innerHTML.trim()),n=document.getElementById("content");for(;n.childNodes.length>4;)n.removeChild(n.firstChild);if(!e.classList.contains("gettingDeleted")){let e=j.getProjectItem();if(e.projectArray[t].tasks.length>0)for(let n=0;n<e.projectArray[t].tasks.length;n++){let e=y(n);console.log(e),document.getElementById("content").insertBefore(e,document.getElementById("taskButton"))}}};function v(e){e.forEach((e=>{let t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)}))}function h(){v(document.querySelectorAll(".killbill")),document.querySelectorAll(".killbill").forEach((e=>{e.addEventListener("click",(()=>{console.log("killbill is getting clicked"),e.parentElement.classList.add("gettingDeleted");let t=u(e.previousElementSibling.dataset.projectName),n=j.getProjectItem();n.nameArray.splice(t,1),n.projectArray.splice(t,1);let r=e.previousElementSibling.dataset.projectName.trim();if(console.log(n.projectArray[0].tasks.length),n.projectArray[0].tasks.length>0)for(let e=0;e<n.projectArray[0].tasks.length;e++)n.projectArray[0].tasks[e].project==r&&(n.projectArray[0].tasks.splice(e,1),console.log("its going through"),e-=1);j.updateProjectInfo(n),e.parentElement.remove()}))}))}const j=(()=>{const e=e=>{localStorage.setItem("projectInfo",JSON.stringify(e))},t=()=>JSON.parse(localStorage.getItem("projectInfo"));return{updateProjectInfo:e,getProjectItem:t,initialize:()=>{let n=t();if(e(n),0!=t().projectArray[0].tasks.length)for(let e=0;e<t().projectArray[0].tasks.length;e++){let t=y(e);document.getElementById("content").insertBefore(t,document.getElementById("taskButton"))}(()=>{for(let e=3;e<t().nameArray.length;e++){let n=t().nameArray[e];const r=document.getElementById("additionalProjects"),o=k.makeBtn(["hover:bg-[#cccccc]","rounded-md","w-full","py-2","flex","justify-between","items-center","h-12","px-1","directory"]),l=k.makeImg(["h-[1.3rem]","w-[1.3rem]","flex","justify-start","items-center","mx-4","box-content"]),a=k.makeDiv(n);a.classList.add("closest");const c=k.makeX(["ml-4","z-10","flex","justify-end","killbill"]);o.append(l),o.append(a),o.append(c),r.insertBefore(o,document.getElementById("addBefore")),v(document.querySelectorAll(".directory")),k.buttonChange(),h()}})()}}})(),E=(()=>{const t=[],n=[];return document.querySelectorAll("[data-project-name]").forEach((r=>{t.push(r.dataset.projectName);let o=e(r.dataset.projectName);n.push(o)})),{nameArray:t,projectArray:n}})(),b=(e,t,n,r,o)=>({objective:e,desc:t,priority:n,date:r,project:o}),k=(()=>{const t=()=>{let e=document.querySelectorAll(".directory");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{e.forEach((e=>{e.classList.contains("toggled")&&e.classList.remove("toggled")}));const n=document.getElementById("title");let r,o=e[t].childNodes;r=o.length>3?o[3].textContent:o[1].textContent,e[t].classList.add("toggled"),n.textContent=r}));document.querySelectorAll(".directory").forEach((e=>{e.addEventListener("click",(()=>{f(e)}))}))};function n(e){const t=document.createElement("button");for(let n=0;n<e.length;n++)t.classList.add(e[n]);return t}function r(e){const t=document.createElement("div");t.innerHTML="&times;";for(let n=0;n<e.length;n++)t.classList.add(e[n]);return t}function o(e){const t=new Image(20,20);t.src="/src/modules/project-image.png";for(let n=0;n<e.length;n++)t.classList.add(e[n]);return t}function l(e){const t=document.createElement("div");return t.textContent=e,t.dataset.projectName=e,t.dataset.id=E.nameArray.length-1,t}return{buttonChange:t,navToggle:()=>{const e=document.getElementsByClassName("toggle-button")[0],t=document.getElementById("nav"),n=document.getElementById("main");e.addEventListener("click",(()=>{t.classList.toggle("active"),n.classList.toggle("active")}))},activateModals:()=>{const e=document.querySelectorAll("[data-modal-target"),t=document.querySelectorAll("[data-close-button]"),n=document.getElementById("overlay");e.forEach((e=>{e.addEventListener("click",(()=>{var t;null!=(t=document.querySelector(e.dataset.modalTarget))&&(t.classList.add("active"),n.classList.add("active"))}))})),t.forEach((e=>{e.addEventListener("click",(()=>{var t;null!=(t=e.closest(".modal"))&&(t.classList.remove("active"),n.classList.remove("active"))}))}))},addProject:()=>{document.getElementById("addProject").addEventListener("click",(a=>{a.preventDefault(),function(){const a=document.getElementById("name").value.trim();document.getElementById("name").value="";let c=0,d=0;for(;c<j.getProjectItem().nameArray.length;){if(j.getProjectItem().nameArray[c]===a){d++;break}c++}if(0==d){let c=e(a),d=j.getProjectItem();d.projectArray.push(c),d.nameArray.push(a);const s=document.getElementById("additionalProjects"),i=n(["hover:bg-[#cccccc]","rounded-md","w-full","py-2","flex","justify-between","items-center","h-12","px-1","directory"]),m=o(["h-[1.3rem]","w-[1.3rem]","flex","justify-start","items-center","mx-4","box-content"]),u=l(a);u.classList.add("closest");const p=r(["ml-4","z-10","flex","justify-end","killbill"]);i.append(m),i.append(u),i.append(p),s.insertBefore(i,document.getElementById("addBefore")),v(document.querySelectorAll(".directory")),t(),h(),j.updateProjectInfo(d)}}()}))},addTask:()=>{document.getElementById("addTask").addEventListener("click",(e=>{e.preventDefault(),function(){const e=document.getElementById("title");let t=u(e.innerHTML);console.log("clicked");let n=document.getElementById("objective").value,r=document.getElementById("description").value,o=document.getElementById("priority").value,l=document.getElementById("date").value,a=j.getProjectItem();"Inbox"!=e.textContent?(a.projectArray[0].tasks.push(b(n,r,o,l,e.textContent.trim())),a.projectArray[t].tasks.push(b(n,r,o,l,e.textContent.trim()))):a.projectArray[0].tasks.push(b(n,r,o,l,e.textContent.trim())),j.updateProjectInfo(a),document.getElementById("objective").value="",document.getElementById("description").value="",document.getElementById("priority").value="0",document.getElementById("date").value="";let c=a.projectArray[t].tasks.length-1,d=y(c);document.getElementById("content").insertBefore(d,document.getElementById("taskButton"))}()}))},makeBtn:n,makeDiv:l,makeImg:o,makeX:r}})();k.buttonChange(),j.initialize(),k.navToggle(),k.activateModals(),k.addProject(),k.addTask(),console.log({testString:"This is working, along with Tailwind!"})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU10QixFQUFNN0IsWUFBWXFHLFNBQ3hHMkQsRUFBYWpILGFBQWFqQixHQUFPNUMsTUFBTXdGLEtBQUssRUFBU3pCLEVBQVV3QixFQUFZckIsRUFBU0QsRUFBTXRCLEVBQU03QixZQUFZcUcsVUFFNUcyRCxFQUFhakgsYUFBYSxHQUFHN0QsTUFBTXdGLEtBQUssRUFBU3pCLEVBQVV3QixFQUFZckIsRUFBU0QsRUFBTXRCLEVBQU03QixZQUFZcUcsU0FFNUcsb0JBQTBCMkQsR0FDMUJ4SyxTQUFTc0QsZUFBZSxhQUFhdkIsTUFBUSxHQUM3Qy9CLFNBQVNzRCxlQUFlLGVBQWV2QixNQUFRLEdBQy9DL0IsU0FBU3NELGVBQWUsWUFBWXZCLE1BQVEsSUFDNUMvQixTQUFTc0QsZUFBZSxRQUFRdkIsTUFBUSxHQUN4QyxJQUFJMEksRUFBWUQsRUFBYWpILGFBQWFqQixHQUFPNUMsTUFBTVUsT0FBUyxFQUM1RCtHLEVBQVUsRUFBbUJzRCxHQUNqQ3pLLFNBQVNzRCxlQUFlLFdBQVdnRSxhQUFhSCxFQUFTbkgsU0FBU3NELGVBQWUsY0FDckYsQ0E1QlFvSCxFQUFlLEdBQ2xCLEVBbUNEckIsVUFDQUksVUFDQUYsVUFDQUQsUUFFUCxFQWpNYyxHQ0NmLGlCQUVBLGVBRUEsY0FFQSxtQkFFQSxlQUVBLFlBRUFsQyxRQUFRQyxJQUFJLENBQUNzRCxXQUFZLHlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9pbmZvcm1hdGlvbkZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9jcmVhdGVFbGVtZW50cy5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2dldElkLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvY3JlYXRlTW9kYWwuanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9raWxsVGFzay5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3VwbG9hZFRhc2tzLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvdXBkYXRlRGlyZWN0b3J5LmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvdXBkYXRlQnV0dG9ucy5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2tpbGxQcm9qZWN0LmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvbG9jYWxTdG9yYWdlLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdEluZm9ybWF0aW9uLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvbWFrZVRhc2suanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9kb21NYW5pcHVsYXRpb24uanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGlGYWN0b3J5ID0gKHByb2plY3ROYW1lKSA9PiB7XG4gICAgbGV0IHRhc2tzID0gW11cbiAgICByZXR1cm4ge3Byb2plY3ROYW1lLCB0YXNrc31cbn1cblxuZXhwb3J0IGRlZmF1bHQgaUZhY3RvcnkiLCJjb25zdCBuZXdFbGVtZW50ID0gKCgpID0+IHtcbiAgICBmdW5jdGlvbiBtYWtlRGl2KHN0cmluZyA9ICdub25lJywgaWQgPSAnJywgaW5uZXJDb250ZW50ID0gJycpIHtcbiAgICAgICAgbGV0IGFycmF5XG4gICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBpZiAoc3RyaW5nICE9ICcnKSB7XG4gICAgICAgICAgICBhcnJheSA9IHN0cmluZy5zcGxpdCgnICcpXG4gICAgICAgICAgICBmb3IgKGxldCBpPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCBpZCAhPSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICBkaXYuaWQgPSBpZFxuICAgICAgICB9XG4gICAgICAgIGlmICggaW5uZXJDb250ZW50ICE9IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgICBkaXYudGV4dENvbnRlbnQgPSBpbm5lckNvbnRlbnRcblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaXZcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlQnV0dG9uKHN0cmluZyA9ICcnLCBpZCA9ICcnLCBpbm5lckNvbnRlbnQgPSAnJykge1xuICAgICAgICBsZXQgYXJyYXkgPSBzdHJpbmcuc3BsaXQoJyAnKVxuICAgICAgICBsZXQgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICAgICAgaWYgKHN0cmluZyAhPSAnJykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9MDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoYXJyYXlbaV0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnRuLmlkID0gaWRcbiAgICAgICAgYnRuLnRleHRDb250ZW50ID0gaW5uZXJDb250ZW50XG4gICAgICAgIHJldHVybiBidG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlRWRpdEltZyhpZCkge1xuICAgICAgICBsZXQgc3RyID0gXCJoLTYgdy02IGN1cnNvci1wb2ludGVyIGhvdmVyOi10cmFuc2xhdGUteS0xIGhvdmVyOnNjYWxlLTExMCB0cmFuc2l0aW9uIGVhc2UtaW4tb3V0IGR1cmF0aW9uLTMwMFwiXG4gICAgICAgIGxldCBhcnJheSA9IHN0ci5zcGxpdCgnICcpXG4gICAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxuICAgICAgICBpbWcuc3JjID0gJy9zcmMvbW9kdWxlcy9lZGl0LnN2ZydcbiAgICAgICAgaW1nLmRhdGFzZXQubW9kYWxUYXJnZXQgPSAnIycgKyBpZCArICdvdGhlck1vZGFsJ1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbWcuY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1nXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZVRyYXNoSW1nKGlkKSB7XG4gICAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxuICAgICAgICBpbWcuc3JjID0gJy9zcmMvbW9kdWxlcy90cmFzaC5zdmcnXG4gICAgICAgIGltZy5kYXRhc2V0LmlkID0gaWRcbiAgICAgICAgbGV0IHN0ciA9IFwiaC02IHctNiBjdXJzb3ItcG9pbnRlciB0cmFzaCBob3ZlcjotdHJhbnNsYXRlLXktMSBob3ZlcjpzY2FsZS0xMTAgdHJhbnNpdGlvbiBlYXNlLWluLW91dCBkdXJhdGlvbi0zMDBcIlxuICAgICAgICBsZXQgYXJyYXkgPSBzdHIuc3BsaXQoJyAnKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbWcuY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1nXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2lyY2xlU3BhbihpZCkge1xuICAgICAgICBsZXQgc3RyID0gXCJtaW4taC1bMjBweF0gbWluLXctWzIwcHhdIGlubGluZS1ibG9jayBiZy13aGl0ZSBib3JkZXItcmVkLTUwMCBib3JkZXItWzNweF0gcm91bmRlZC1bNTAlXSBob3ZlcjpiZy1zbGF0ZS0zMDAgbXgtM1wiXG4gICAgICAgIGxldCBhcnJheSA9IHN0ci5zcGxpdCgnICcpXG4gICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICBzcGFuLmRhdGFzZXQuaWQgPSBpZFxuICAgICAgICByZXR1cm4gc3BhblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG90aGVyU3BhbihmaXJzdCkge1xuICAgICAgICBsZXQgc3RyID0gXCJoLVsycHhdIGJnLXNsYXRlLTcwMCB3LVsxMnB4XSBibG9ja1wiXG4gICAgICAgIGxldCBhcnJheSA9IHN0ci5zcGxpdCgnICcpXG4gICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3QpIHNwYW4uY2xhc3NMaXN0LmFkZCgndHJhbnNsYXRlLXktWzJweF0nKTtcbiAgICAgICAgZWxzZSBzcGFuLmNsYXNzTGlzdC5hZGQoJ3JvdGF0ZS1bOTBkZWddJyk7XG4gICAgICAgIHJldHVybiBzcGFuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUZvcm0oaWQpIHtcbiAgICAgICAgbGV0IHN0cklkID0gaWQgKyAnZm9ybSdcbiAgICAgICAgbGV0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJylcbiAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ2lkJywgc3RySWQpXG4gICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKCdhY3Rpb24nLCAnJylcbiAgICAgICAgcmV0dXJuIGZvcm1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlTGFiZWwoaWQsIHNlbGVjdG9yKSB7XG4gICAgICAgIGxldCBzdHJJZCA9IGlkICsgc2VsZWN0b3JcbiAgICAgICAgbGV0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKVxuICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIHN0cklkKVxuICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9IHNlbGVjdG9yWzBdLnRvVXBwZXJDYXNlKCkgKyBzZWxlY3Rvci5zbGljZSgxLCAoc2VsZWN0b3IubGVuZ3RoKSkgKyAnOidcbiAgICAgICAgcmV0dXJuIGxhYmVsXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUlucHV0KHR5cGUsIGlkLCBzZWxlY3Rvciwgc3RyaW5nKSB7XG4gICAgICAgIGxldCBhcnJheSA9IHN0cmluZy5zcGxpdCgnICcpXG4gICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgICAgICAgZm9yIChsZXQgaSA9MDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKGFycmF5W2ldKVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdHJJZCA9IGlkICsgc2VsZWN0b3JcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgdHlwZSlcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsIHN0cklkKVxuICAgICAgICBpZiAoIHR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsICcnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnB1dFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VUZXh0QXJlYShpZCwgc3RyaW5nKSB7XG4gICAgICAgIGxldCBhcnJheSA9IHN0cmluZy5zcGxpdCgnICcpXG4gICAgICAgIGxldCB0ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJylcbiAgICAgICAgdGV4dGFyZWEuc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsICcnKVxuICAgICAgICBsZXQgc3RySWQgPSBpZCArICdkZXNjcmlwdGlvbidcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGV4dGFyZWEuY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICB0ZXh0YXJlYS5jb2xzID0gJzUnXG4gICAgICAgIHRleHRhcmVhLnJvd3MgPSAnNSdcbiAgICAgICAgcmV0dXJuIHRleHRhcmVhXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZVNlbGVjdChpZCwgc3RyaW5nKSB7XG4gICAgICAgIGxldCBhcnJheSA9IHN0cmluZy5zcGxpdCgnICcpXG4gICAgICAgIGxldCBzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKVxuICAgICAgICBsZXQgcHJpb3JpdHlJZCA9IGlkICsgJ3ByaW9yaXR5J1xuICAgICAgICBzZWxlY3Quc2V0QXR0cmlidXRlKCdpZCcsIHByaW9yaXR5SWQpXG4gICAgICAgIGZvciAobGV0IGkgPTA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc2VsZWN0LmNsYXNzTGlzdC5hZGQoYXJyYXlbaV0pXG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9wMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpXG4gICAgICAgIG9wMS52YWx1ZSA9ICcwJ1xuICAgICAgICBvcDEudGV4dENvbnRlbnQgPSAnTm9uZSdcbiAgICAgICAgbGV0IG9wMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpXG4gICAgICAgIG9wMi52YWx1ZSA9ICcxJ1xuICAgICAgICBvcDIudGV4dENvbnRlbnQgPSAnTG93J1xuICAgICAgICBsZXQgb3AzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJylcbiAgICAgICAgb3AzLnZhbHVlID0gJzInXG4gICAgICAgIG9wMy50ZXh0Q29udGVudCA9ICdNZWRpdW0nXG4gICAgICAgIGxldCBvcDQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKVxuICAgICAgICBvcDQudmFsdWUgPSAnMydcbiAgICAgICAgb3A0LnRleHRDb250ZW50ID0gJ0hpZ2gnXG4gICAgICAgIHNlbGVjdC5hcHBlbmQob3AxLCBvcDIsIG9wMywgb3A0KVxuICAgICAgICByZXR1cm4gc2VsZWN0XG5cbiAgICB9XG5cbiAgICByZXR1cm4geyBtYWtlRGl2LCBtYWtlQnV0dG9uLCBtYWtlRWRpdEltZywgY2lyY2xlU3Bhbiwgb3RoZXJTcGFuLCBtYWtlVHJhc2hJbWcsIG1ha2VGb3JtLCBtYWtlTGFiZWwsIG1ha2VJbnB1dCwgbWFrZVRleHRBcmVhLCBtYWtlU2VsZWN0fVxufSkoKVxuXG5leHBvcnQgZGVmYXVsdCBuZXdFbGVtZW50IiwiaW1wb3J0IHByb2plY3RJbmZvcm1hdGlvbiBmcm9tIFwiLi9wcm9qZWN0SW5mb3JtYXRpb25cIlxuaW1wb3J0IHN0b3JhZ2UgZnJvbSBcIi4vbG9jYWxTdG9yYWdlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0SWQodGl0bGUpIHtcbiAgICBsZXQgaW5kZXggPSAwXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdG9yYWdlLmdldFByb2plY3RJdGVtKCkubmFtZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzdG9yYWdlLmdldFByb2plY3RJdGVtKCkubmFtZUFycmF5W2ldID09IHRpdGxlKSB7XG4gICAgICAgICAgICBpbmRleCA9IGlcbiAgICAgICAgfSBcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4XG59IiwiaW1wb3J0IG5ld0VsZW1lbnQgZnJvbSBcIi4vY3JlYXRlRWxlbWVudHNcIlxuaW1wb3J0IHByb2plY3RJbmZvcm1hdGlvbiBmcm9tIFwiLi9wcm9qZWN0SW5mb3JtYXRpb25cIlxuaW1wb3J0IGdldElkIGZyb20gXCIuL2dldElkXCJcbmltcG9ydCBzdG9yYWdlIGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiXG5cbmNvbnN0IGNyZWF0ZU1vZGFsID0gKCgpID0+IHtcbiAgICBjb25zdCB0YXNrTW9kYWwgPSAoaWQpID0+IHtcbiAgICAgICAgbGV0IHN0ck1vZGFsID0gaWQgKyAnTW9kYWwnXG4gICAgICAgIGxldCBnb2REaXYgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJ21vZGFsIGJyZWFrLW5vcm1hbCcsIHN0ck1vZGFsKVxuICAgICAgICBsZXQgbW9kYWxIZWFkZXIgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJ21vZGFsLWhlYWRlcicpXG4gICAgICAgIGxldCBjbG9zZUJ0biA9IG5ld0VsZW1lbnQubWFrZUJ1dHRvbignY2xvc2UtYnV0dG9uJywgJycsICcnKVxuICAgICAgICBjbG9zZUJ0bi5pbm5lckhUTUwgPSAnJnRpbWVzOydcbiAgICAgICAgY2xvc2VCdG4uZGF0YXNldC5jbG9zZUJ1dHRvblxuICAgICAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gY2xvc2VCdG4uY2xvc2VzdCgnLm1vZGFsJylcbiAgICAgICAgICAgIGNsb3NlTW9kYWwobW9kYWwpXG4gICAgICAgIH0pXG4gICAgICAgIG1vZGFsSGVhZGVyLmFwcGVuZChuZXdFbGVtZW50Lm1ha2VEaXYoJ3RpdGxlJywgJycsICdUYXNrIERldGFpbHMnKSwgY2xvc2VCdG4pXG4gICAgICAgIGdvZERpdi5hcHBlbmQobW9kYWxIZWFkZXIpXG4gICAgICAgIGxldCBtb2RhbEJvZHkgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJ21vZGFsLWJvZHknKVxuICAgICAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKS50ZXh0Q29udGVudFxuICAgICAgICBsZXQgajtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdG9yYWdlLmdldFByb2plY3RJdGVtKCkubmFtZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpLm5hbWVBcnJheVtpXSA9PSB0aXRsZSkge1xuICAgICAgICAgICAgICAgIGogPSBpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByb2plY3ROYW1lID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpLnByb2plY3RBcnJheVtqXS5wcm9qZWN0TmFtZSArIFwiIC8gXCIgKyBzdG9yYWdlLmdldFByb2plY3RJdGVtKCkucHJvamVjdEFycmF5W2pdLnRhc2tzW2lkXS5wcm9qZWN0XG4gICAgICAgIG1vZGFsQm9keS5hcHBlbmQobmV3RWxlbWVudC5tYWtlRGl2KCcnLCcnLCAoJ1Byb2plY3Q6ICcgKyBwcm9qZWN0TmFtZSkpKVxuICAgICAgICBtb2RhbEJvZHkuYXBwZW5kKG5ld0VsZW1lbnQubWFrZURpdignJywnJywgKCdUaXRsZTogJyArIHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKS5wcm9qZWN0QXJyYXlbal0udGFza3NbaWRdLm9iamVjdGl2ZSkpKVxuICAgICAgICBtb2RhbEJvZHkuYXBwZW5kKG5ld0VsZW1lbnQubWFrZURpdignJywnJywgKCdEZXNjcmlwdGlvbjogJyArIHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKS5wcm9qZWN0QXJyYXlbal0udGFza3NbaWRdLmRlc2MpKSlcbiAgICAgICAgbW9kYWxCb2R5LmFwcGVuZChuZXdFbGVtZW50Lm1ha2VEaXYoJycsJycsICgnRHVlIERhdGU6ICcgKyBzdG9yYWdlLmdldFByb2plY3RJdGVtKCkucHJvamVjdEFycmF5W2pdLnRhc2tzW2lkXS5kYXRlKSkpXG4gICAgICAgIG1vZGFsQm9keS5hcHBlbmQobmV3RWxlbWVudC5tYWtlRGl2KCcnLCcnLCAoJ1ByaW9yaXR5OiAnICsgc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpLnByb2plY3RBcnJheVtqXS50YXNrc1tpZF0ucHJpb3JpdHkpKSlcbiAgICAgICAgZ29kRGl2LmFwcGVuZChtb2RhbEJvZHkpXG4gICAgICAgIHJldHVybiBnb2REaXZcbiAgICB9XG5cbiAgICBjb25zdCBlZGl0TW9kYWwgPSAoaWQpID0+IHtcbiAgICAgICAgbGV0IHN0ck1vZGFsID0gaWQgKyAnb3RoZXJNb2RhbCdcbiAgICAgICAgbGV0IGdvZERpdiA9IG5ld0VsZW1lbnQubWFrZURpdignbW9kYWwnLCBzdHJNb2RhbClcbiAgICAgICAgbGV0IG1vZGFsSGVhZGVyID0gbmV3RWxlbWVudC5tYWtlRGl2KCdtb2RhbC1oZWFkZXInKVxuICAgICAgICBsZXQgY2xvc2VCdG4gPSBuZXdFbGVtZW50Lm1ha2VCdXR0b24oJ2Nsb3NlLWJ1dHRvbicpXG4gICAgICAgIGNsb3NlQnRuLmlubmVySFRNTCA9ICcmdGltZXM7J1xuICAgICAgICBjbG9zZUJ0bi5kYXRhc2V0LmNsb3NlQnV0dG9uXG4gICAgICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBjbG9zZUJ0bi5jbG9zZXN0KCcubW9kYWwnKVxuICAgICAgICAgICAgY2xvc2VNb2RhbChtb2RhbClcbiAgICAgICAgfSlcbiAgICAgICAgbW9kYWxIZWFkZXIuYXBwZW5kKG5ld0VsZW1lbnQubWFrZURpdigndGl0bGUnLCAnJywgJ0VkaXQgVGFzaycpLCBjbG9zZUJ0bilcbiAgICAgICAgZ29kRGl2LmFwcGVuZChtb2RhbEhlYWRlcilcbiAgICAgICAgbGV0IG1vZGFsQm9keSA9IG5ld0VsZW1lbnQubWFrZURpdignbW9kYWwtYm9keScpXG4gICAgICAgIGxldCBmb3JtID0gbmV3RWxlbWVudC5tYWtlRm9ybShpZClcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IG5ld0VsZW1lbnQubWFrZURpdignZmxleCBmbGV4LWNvbCBnYXAtMicpXG4gICAgICAgIGxldCBvYmplY3RpdmVEaXYgPSBuZXdFbGVtZW50Lm1ha2VEaXYoXCJmbGV4IGZsZXgtY29sXCIpXG4gICAgICAgIGxldCBvYmplY3RpdmVMYWJlbCA9IG5ld0VsZW1lbnQubWFrZUxhYmVsKGlkLCAnb2JqZWN0aXZlJylcbiAgICAgICAgbGV0IG9iamVjdGl2ZUlucHV0ID0gbmV3RWxlbWVudC5tYWtlSW5wdXQoJ3RleHQnLCBpZCwgJ29iamVjdGl2ZScsIFwiYmctd2hpdGUgYm9yZGVyLVsxcHhdIGJvcmRlci1ibGFjayBoLVsyZW1dIGZvY3VzOmJvcmRlci1bMnB4XSBmb2N1czpib3JkZXItWyMyOTk0YjJdIGZvY3VzOm91dGxpbmUtbm9uZVwiKVxuICAgICAgICBvYmplY3RpdmVEaXYuYXBwZW5kKG9iamVjdGl2ZUxhYmVsLCBvYmplY3RpdmVJbnB1dClcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZChvYmplY3RpdmVEaXYpXG4gICAgICAgIGxldCBkZXNjRGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KFwiZmxleCBmbGV4LWNvbFwiKVxuICAgICAgICBsZXQgZGVzY0xhYmVsID0gbmV3RWxlbWVudC5tYWtlTGFiZWwoaWQsICdkZXNjcmlwdGlvbicpXG4gICAgICAgIGxldCBkZXNjVGV4dCA9IG5ld0VsZW1lbnQubWFrZVRleHRBcmVhKGlkLCBcImJnLXdoaXRlIGJvcmRlci1bMXB4XSBib3JkZXItYmxhY2sgZm9jdXM6Ym9yZGVyLVsycHhdIGZvY3VzOmJvcmRlci1bIzI5OTRiMl0gZm9jdXM6b3V0bGluZS1ub25lXCIpXG4gICAgICAgIGRlc2NEaXYuYXBwZW5kKGRlc2NMYWJlbCwgZGVzY1RleHQpXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoZGVzY0RpdilcbiAgICAgICAgbGV0IHR3b1NlbGVjdG9ycyA9IG5ld0VsZW1lbnQubWFrZURpdihcImZsZXgganVzdGlmeS1hcm91bmRcIilcbiAgICAgICAgbGV0IHBhcmVudERpdiA9IG5ld0VsZW1lbnQubWFrZURpdignZmxleCBqdXN0aWZ5LXN0YXJ0IGdhcC0xMicpXG4gICAgICAgIGxldCBwcmlvcml0eURpdiA9IG5ld0VsZW1lbnQubWFrZURpdihcImZsZXggZmxleC1jb2xcIilcbiAgICAgICAgbGV0IHByaW9yaXR5TGFiZWwgPSBuZXdFbGVtZW50Lm1ha2VMYWJlbChpZCwgXCJwcmlvcml0eVwiKVxuICAgICAgICBsZXQgcHJpb3JpdHlTZWxlY3QgPSBuZXdFbGVtZW50Lm1ha2VTZWxlY3QoaWQsICdiZy13aGl0ZSBib3JkZXItWzFweF0gYm9yZGVyLWJsYWNrIGgtNyBmb2N1czpib3JkZXItWzJweF0gZm9jdXM6Ym9yZGVyLVsjMjk5NGIyXSBmb2N1czpvdXRsaW5lLW5vbmUnKVxuICAgICAgICBwcmlvcml0eURpdi5hcHBlbmQocHJpb3JpdHlMYWJlbCwgcHJpb3JpdHlTZWxlY3QpXG4gICAgICAgIHBhcmVudERpdi5hcHBlbmQocHJpb3JpdHlEaXYpXG4gICAgICAgIGxldCBkYXRlRGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KFwiZmxleCBmbGV4LWNvbFwiKVxuICAgICAgICBsZXQgZGF0ZUxhYmVsID0gbmV3RWxlbWVudC5tYWtlTGFiZWwoaWQsIFwiZGF0ZVwiKVxuICAgICAgICBsZXQgZGF0ZUlucHV0ID0gbmV3RWxlbWVudC5tYWtlSW5wdXQoJ2RhdGUnLCBpZCwgJ2RhdGUnLCBcImJnLXdoaXRlIGJvcmRlci1bMXB4XSBib3JkZXItYmxhY2sgZm9jdXM6Ym9yZGVyLVsycHhdIGZvY3VzOmJvcmRlci1bIzI5OTRiMl0gZm9jdXM6b3V0bGluZS1ub25lXCIpXG4gICAgICAgIGRhdGVEaXYuYXBwZW5kKGRhdGVMYWJlbCwgZGF0ZUlucHV0KVxuICAgICAgICBwYXJlbnREaXYuYXBwZW5kKGRhdGVEaXYpXG4gICAgICAgIHR3b1NlbGVjdG9ycy5hcHBlbmQocGFyZW50RGl2KVxuICAgICAgICBsZXQgbGFzdEJ0biA9IG5ld0VsZW1lbnQubWFrZUJ1dHRvbihcImZsZXggdGV4dC14bCBteS0yIGl0ZW1zLWNlbnRlclwiKVxuICAgICAgICBsYXN0QnRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdzdWJtaXQnKVxuICAgICAgICBsYXN0QnRuLnNldEF0dHJpYnV0ZSgnZm9ybScsICd0YXNrRm9ybScpXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJykuaW5uZXJIVE1MXG4gICAgICAgIGxldCBpbmRleCA9IGdldElkKHRpdGxlKVxuICAgICAgICBsYXN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT57XG4gICAgICAgICAgICBsZXQgb2JqZWN0SWQgPSBpZCArICdvYmplY3RpdmUnXG4gICAgICAgICAgICBsZXQgZGVzY0lkID0gaWQgKyAnZGVzYydcbiAgICAgICAgICAgIGxldCBwcmlvcml0eUlkID0gaWQgKyAncHJpb3JpdHknXG4gICAgICAgICAgICBsZXQgZGF0ZUlkID0gaWQgKyAnZGF0ZSdcbiAgICAgICAgICAgIGxldCBvYmplY3RpdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvYmplY3RJZCkudmFsdWVcbiAgICAgICAgICAgIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlc2NJZCkudmFsdWVcbiAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByaW9yaXR5SWQpLnZhbHVlXG4gICAgICAgICAgICBsZXQgZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGVJZCkudmFsdWVcbiAgICAgICAgICAgIHByb2plY3RJbmZvcm1hdGlvbi5wcm9qZWN0QXJyYXlbaW5kZXhdLnRhc2tzLnB1c2gobWFrZVRhc2sob2JqZWN0aXZlLGRlc2NyaXB0aW9uLHByaW9yaXR5LGRhdGUpKVxuICAgICAgICAgICAgcHJvamVjdEluZm9ybWF0aW9uLnByb2plY3RBcnJheVswXS50YXNrcy5wdXNoKG1ha2VUYXNrKG9iamVjdGl2ZSxkZXNjcmlwdGlvbixwcmlvcml0eSxkYXRlKSlcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9iamVjdElkKS52YWx1ZSA9ICcnXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZXNjSWQpLnZhbHVlID0gJydcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByaW9yaXR5SWQpLnZhbHVlID0gJzAnXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkYXRlSWQpLnZhbHVlID0gJydcbiAgICAgICAgICAgIHN0b3JhZ2UudXBkYXRlUHJvamVjdEluZm8ocHJvamVjdEluZm9ybWF0aW9uKVxuICAgICAgICB9KVxuICAgICAgICBsZXQgbGFzdERpdiA9IG5ld0VsZW1lbnQubWFrZURpdihcIm14LTIgcmVsYXRpdmVcIilcbiAgICAgICAgbGV0IGZpcnN0U3BhbiA9IG5ld0VsZW1lbnQub3RoZXJTcGFuKHRydWUpXG4gICAgICAgIGxldCBzZWNTcGFuID0gbmV3RWxlbWVudC5vdGhlclNwYW4oZmFsc2UpXG4gICAgICAgIGxldCBpTGllZERpdiA9IG5ld0VsZW1lbnQubWFrZURpdignJywnJywnQWRkJylcbiAgICAgICAgbGFzdERpdi5hcHBlbmQoZmlyc3RTcGFuLCBzZWNTcGFuKVxuICAgICAgICBsYXN0QnRuLmFwcGVuZChsYXN0RGl2LCBpTGllZERpdilcbiAgICAgICAgLy8gbGFzdEJ0bi50ZXh0Q29udGVudCA9ICdBZGQnXG4gICAgICAgIHR3b1NlbGVjdG9ycy5hcHBlbmQobGFzdEJ0bilcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCh0d29TZWxlY3RvcnMpXG4gICAgICAgIGZvcm0uYXBwZW5kKGNvbnRhaW5lcilcbiAgICAgICAgbW9kYWxCb2R5LmFwcGVuZChmb3JtKVxuICAgICAgICBnb2REaXYuYXBwZW5kKG1vZGFsQm9keSlcbiAgICAgICAgcmV0dXJuIGdvZERpdlxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcbiAgICAgICAgaWYgKG1vZGFsID09IG51bGwpIHJldHVyblxuICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdGFza01vZGFsLCBlZGl0TW9kYWx9XG59KSgpXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZU1vZGFsIiwiaW1wb3J0IGdldElkIGZyb20gXCIuL2dldElkXCJcbmltcG9ydCBzdG9yYWdlIGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiXG5cbmNvbnN0IGtpbGxUYXNrID0gKCgpID0+IHtcbiAgICBjb25zdCBraWxsID0gKHRhc2tJZCkgPT4ge1xuICAgICAgICBsZXQgdGFza0lkTmFtZSA9ICd0YXNrJyArIHRhc2tJZFxuICAgICAgICBsZXQgcHJvamVjdEluZGV4ID0gZ2V0SWQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJykuaW5uZXJIVE1MKVxuICAgICAgICBsZXQgY29udGVudERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JylcbiAgICAgICAgY29udGVudERpdi5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXNrSWROYW1lKSlcbiAgICAgICAgbGV0IHVwZGF0ZWRQcm9qZWN0ID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpXG4gICAgICAgIHVwZGF0ZWRQcm9qZWN0LnByb2plY3RBcnJheVtwcm9qZWN0SW5kZXhdLnRhc2tzLnNwbGljZSgodGFza0lkIC0gcmVwdGl0aW9ucyksIDEpXG4gICAgICAgIHN0b3JhZ2UudXBkYXRlUHJvamVjdEluZm8odXBkYXRlZFByb2plY3QpXG4gICAgICAgIGlmICh1cGRhdGVkUHJvamVjdC5wcm9qZWN0QXJyYXlbcHJvamVjdEluZGV4XS50YXNrcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmVwdGl0aW9ucyA9IDBcbiAgICAgICAgfSBlbHNlIHtyZXB0aXRpb25zKyt9XG4gICAgfVxuXG4gICAgbGV0IHJlcHRpdGlvbnMgPSAwXG5cbiAgICByZXR1cm4geyBraWxsLCByZXB0aXRpb25zIH1cbn0pKClcblxuZXhwb3J0IGRlZmF1bHQga2lsbFRhc2siLCJpbXBvcnQgbmV3RWxlbWVudCBmcm9tIFwiLi9jcmVhdGVFbGVtZW50c1wiXG5pbXBvcnQgY3JlYXRlTW9kYWwgZnJvbSBcIi4vY3JlYXRlTW9kYWxcIlxuaW1wb3J0IHByb2plY3RJbmZvcm1hdGlvbiBmcm9tIFwiLi9wcm9qZWN0SW5mb3JtYXRpb25cIlxuaW1wb3J0IGdldElkIGZyb20gXCIuL2dldElkXCJcbmltcG9ydCBraWxsVGFzayBmcm9tIFwiLi9raWxsVGFza1wiXG5pbXBvcnQgc3RvcmFnZSBmcm9tIFwiLi9sb2NhbFN0b3JhZ2VcIlxuXG5jb25zdCB1cGxvYWRUYXNrcyA9ICgoKSA9PiB7XG4gICAgY29uc3QgdXBsb2FkID0gKGlkLCBwcmlvcml0eSkgPT4ge1xuICAgICAgICBsZXQgdGFza0lkID0gJ3Rhc2snICsgaWRcbiAgICAgICAgbGV0IHRhc2tEaXYgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJycsIHRhc2tJZClcbiAgICAgICAgbGV0IGdyYW5kRmF0aGVyID0gbmV3RWxlbWVudC5tYWtlRGl2KCdyb3VuZGVkLVsxMHB4XSBmbGV4IGp1c3RpZnktYmV0d2VlbiBob3ZlcjpiZy1bI2NjY2NjY10gbWluLWgtWzNyZW1dIGl0ZW1zLWNlbnRlciBob3ZlcjpyZWxhdGl2ZSBob3Zlcjpib3R0b20tMSBob3ZlcjpzaGFkb3cteGwgZmxleC1jb2wgbGc6ZmxleC1yb3cgcHktMicpXG4gICAgICAgIGxldCB0YXNrTmFtZSA9IG5ld0VsZW1lbnQubWFrZURpdignZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LXN0YXJ0IGxnOmp1c3RpZnktc3RhcnQgbGc6aXRlbXMtY2VudGVyIHctZnVsbCcpXG4gICAgICAgIGxldCBjaXJjbGUgPSBuZXdFbGVtZW50LmNpcmNsZVNwYW4oaWQpXG4gICAgICAgIGNpcmNsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGtpbGxUYXNrLmtpbGwoaWQpXG4gICAgICAgIH0pXG4gICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpXG4gICAgICAgIGxldCBpbmRleCA9IGdldElkKHRpdGxlLmlubmVySFRNTClcbiAgICAgICAgbGV0IG9iamVjdFRpdGxlID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpLnByb2plY3RBcnJheVtpbmRleF0udGFza3NbaWRdLm9iamVjdGl2ZVxuICAgICAgICBsZXQgdGFza05hbWVTdHJpbmdEaXYgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJycsJycsIG9iamVjdFRpdGxlKVxuICAgICAgICB0YXNrTmFtZS5hcHBlbmQoY2lyY2xlLCB0YXNrTmFtZVN0cmluZ0RpdilcbiAgICAgICAgZ3JhbmRGYXRoZXIuYXBwZW5kKHRhc2tOYW1lKVxuICAgICAgICBsZXQgdGFza0h1YiA9IG5ld0VsZW1lbnQubWFrZURpdihcImZsZXggZ2FwLTYgbXItOFwiKVxuICAgICAgICBsZXQgZGV0YWlsRGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KClcbiAgICAgICAgbGV0IGRldGFpbHNCdXR0b24gPSBuZXdFbGVtZW50Lm1ha2VCdXR0b24oXCJob3ZlcjotdHJhbnNsYXRlLXktMSBob3ZlcjpzY2FsZS0xMTAgdHJhbnNpdGlvbiBlYXNlLWluLW91dCBkdXJhdGlvbi0zMDBcIiwgXCJcIiwgXCJEZXRhaWxzXCIpXG4gICAgICAgIGRldGFpbHNCdXR0b24uZGF0YXNldC5tb2RhbFRhcmdldCA9IGlkICsgJ01vZGFsJ1xuICAgICAgICBkZXRhaWxzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGRldGFpbHNNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRldGFpbHNCdXR0b24uZGF0YXNldC5tb2RhbFRhcmdldClcbiAgICAgICAgICAgIG9wZW5Nb2RhbChkZXRhaWxzTW9kYWwpXG4gICAgICAgIH0pXG4gICAgICAgIGxldCB0YXNrTW9kYWwgPSBjcmVhdGVNb2RhbC50YXNrTW9kYWwoaWQpXG4gICAgICAgIGRldGFpbERpdi5hcHBlbmQoZGV0YWlsc0J1dHRvbiwgdGFza01vZGFsKVxuICAgICAgICB0YXNrSHViLmFwcGVuZChkZXRhaWxEaXYpXG4gICAgICAgIGxldCBlZGl0SW1nID0gbmV3RWxlbWVudC5tYWtlRWRpdEltZyhpZClcbiAgICAgICAgZWRpdEltZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWRpdEltZy5kYXRhc2V0Lm1vZGFsVGFyZ2V0KVxuICAgICAgICAgICAgY2xvc2VNb2RhbChlZGl0TW9kYWwpXG4gICAgICAgIH0pXG4gICAgICAgIGxldCBvdGhlckVkaXRNb2RhbCA9IGNyZWF0ZU1vZGFsLmVkaXRNb2RhbChpZClcbiAgICAgICAgdGFza0h1Yi5hcHBlbmQoZWRpdEltZywgb3RoZXJFZGl0TW9kYWwpXG4gICAgICAgIGxldCB0cmFzaEltZyA9IG5ld0VsZW1lbnQubWFrZVRyYXNoSW1nKGlkKVxuICAgICAgICB0cmFzaEltZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGtpbGxUYXNrLmtpbGwoaWQpXG4gICAgICAgIH0pXG4gICAgICAgIHRhc2tIdWIuYXBwZW5kKHRyYXNoSW1nKVxuICAgICAgICBncmFuZEZhdGhlci5hcHBlbmQodGFza0h1YilcbiAgICAgICAgdGFza0Rpdi5hcHBlbmQoZ3JhbmRGYXRoZXIpXG4gICAgICAgIHJldHVybiB0YXNrRGl2XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XG4gICAgICAgIGlmIChtb2RhbCA9PSBudWxsKSByZXR1cm5cbiAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcbiAgICAgICAgaWYgKG1vZGFsID09IG51bGwpIHJldHVyblxuICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgfVxuICAgICBcbiAgICByZXR1cm4geyB1cGxvYWQgfVxufSkoKVxuXG5leHBvcnQgZGVmYXVsdCB1cGxvYWRUYXNrc1xuLy8gdGhlIGFycmF5IGhlcmUgaXMgYW4gYXJyYXkgb2Ygb2JqZWN0cyB0aGF0IHdoZXJlIG1hZGUgd2l0aCBtYWtlVGFza3MgZnVuY3Rpb24sIGNoZWNrIGl0IG91dCBpZiB5b3UgZG8gbm90IGtub3cgd2hhdCBwcm9wZXJ0aWVzIHRoZSBvYmplY3QgaGFzIiwiaW1wb3J0IHVwbG9hZFRhc2tzIGZyb20gXCIuL3VwbG9hZFRhc2tzXCI7XG5pbXBvcnQgZ2V0SWQgZnJvbSBcIi4vZ2V0SWRcIjtcbmltcG9ydCBzdG9yYWdlIGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiO1xuaW1wb3J0IGtpbGxUYXNrIGZyb20gXCIuL2tpbGxUYXNrXCI7XG5cblxuY29uc3QgdXBkYXRlRGlyZWN0b3J5ID0gKCgpID0+IHtcbiAgICAgICAgbGV0IHJlZnJlc2ggPSAoYnRuKSA9PiB7XG4gICAgICAgICAgICBraWxsVGFzay5yZXB0aXRpb25zID0gMFxuICAgICAgICAgICAgbGV0IHByb2plY3ROYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJykuaW5uZXJIVE1MLnRyaW0oKVxuICAgICAgICAgICAgbGV0IGluZGV4ID0gZ2V0SWQocHJvamVjdE5hbWUpXG4gICAgICAgICAgICBsZXQgdGFza0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JylcbiAgICAgICAgICAgIHdoaWxlICh0YXNrQ29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgICAgIHRhc2tDb250YWluZXIucmVtb3ZlQ2hpbGQodGFza0NvbnRhaW5lci5maXJzdENoaWxkKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdnZXR0aW5nRGVsZXRlZCcpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHByb2plY3RJbmZvID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpXG4gICAgICAgICAgICAgICAgaWYgKHByb2plY3RJbmZvLnByb2plY3RBcnJheVtpbmRleF0udGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RJbmZvLnByb2plY3RBcnJheVtpbmRleF0udGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdUYXNrID0gdXBsb2FkVGFza3MudXBsb2FkKGkpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhuZXdUYXNrKVxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKS5pbnNlcnRCZWZvcmUobmV3VGFzaywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tCdXR0b24nKSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgcmV0dXJuIHsgcmVmcmVzaCwgfVxufSkoKVxuXG5leHBvcnQgZGVmYXVsdCB1cGRhdGVEaXJlY3RvcnkiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVCdXR0b25zKGJ1dHRvbikge1xuICAgIGJ1dHRvbi5mb3JFYWNoKCBidG4gPT4ge1xuICAgICAgICBsZXQgbmV3QnRuID0gYnRuLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgYnRuLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5ld0J0biwgYnRuKVxuICAgIH0pXG59IiwiaW1wb3J0IHVwZGF0ZUJ1dHRvbnMgZnJvbSBcIi4vdXBkYXRlQnV0dG9uc1wiXG5pbXBvcnQgcHJvamVjdEluZm9ybWF0aW9uIGZyb20gXCIuL3Byb2plY3RJbmZvcm1hdGlvblwiXG5pbXBvcnQgc3RvcmFnZSBmcm9tIFwiLi9sb2NhbFN0b3JhZ2VcIlxuaW1wb3J0IGdldElkIGZyb20gXCIuL2dldElkXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ga2lsbFByb2plY3QoKSB7XG4gICAgbGV0IGtpbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcua2lsbGJpbGwnKVxuICAgIHVwZGF0ZUJ1dHRvbnMoa2lsbClcbiAgICBraWxsQmlsbENoYW5nZSgpXG5cbiAgICBmdW5jdGlvbiBraWxsQmlsbENoYW5nZSgpIHtcbiAgICAgICAgbGV0IGtpbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcua2lsbGJpbGwnKVxuICAgICAgICBraWxsLmZvckVhY2goIGJ0biA9PiB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2tpbGxiaWxsIGlzIGdldHRpbmcgY2xpY2tlZCcpXG4gICAgICAgICAgICAgICAgYnRuLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZ2V0dGluZ0RlbGV0ZWQnKVxuICAgICAgICAgICAgICAgIGxldCBwcmV2ID0gYnRuLnByZXZpb3VzRWxlbWVudFNpYmxpbmdcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSBnZXRJZChwcmV2LmRhdGFzZXQucHJvamVjdE5hbWUpXG4gICAgICAgICAgICAgICAgbGV0IHVwZGF0ZWRQcm9qZWN0ID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpXG4gICAgICAgICAgICAgICAgdXBkYXRlZFByb2plY3QubmFtZUFycmF5LnNwbGljZShpZCwgMSlcbiAgICAgICAgICAgICAgICB1cGRhdGVkUHJvamVjdC5wcm9qZWN0QXJyYXkuc3BsaWNlKGlkLCAxKVxuICAgICAgICAgICAgICAgIGxldCBwcm9qZWN0TmFtZSA9IGJ0bi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmRhdGFzZXQucHJvamVjdE5hbWUudHJpbSgpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5WzBdLnRhc2tzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5WzBdLnRhc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1cGRhdGVkUHJvamVjdC5wcm9qZWN0QXJyYXlbMF0udGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkUHJvamVjdC5wcm9qZWN0QXJyYXlbMF0udGFza3NbaV0ucHJvamVjdCA9PSBwcm9qZWN0TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRQcm9qZWN0LnByb2plY3RBcnJheVswXS50YXNrcy5zcGxpY2UoaSwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaXRzIGdvaW5nIHRocm91Z2gnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgLT0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0b3JhZ2UudXBkYXRlUHJvamVjdEluZm8odXBkYXRlZFByb2plY3QpXG4gICAgICAgICAgICAgICAgYnRuLnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxufSIsImltcG9ydCBwcm9qZWN0SW5mb3JtYXRpb24gZnJvbSBcIi4vcHJvamVjdEluZm9ybWF0aW9uXCJcbmltcG9ydCB1cGxvYWRUYXNrcyBmcm9tIFwiLi91cGxvYWRUYXNrc1wiXG5pbXBvcnQgdXBkYXRlRGlyZWN0b3J5IGZyb20gXCIuL3VwZGF0ZURpcmVjdG9yeVwiXG5pbXBvcnQgZG9tTWFuIGZyb20gXCIuL2RvbU1hbmlwdWxhdGlvblwiXG5pbXBvcnQgdXBkYXRlQnV0dG9ucyBmcm9tIFwiLi91cGRhdGVCdXR0b25zXCJcbmltcG9ydCBraWxsUHJvamVjdCBmcm9tIFwiLi9raWxsUHJvamVjdFwiXG5cbmNvbnN0IHN0b3JhZ2UgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxpemUgPSAoKSA9PiB7XG4gICAgICAgIGxldCBuZXdPYmplY3QgPSBnZXRQcm9qZWN0SXRlbSgpXG4gICAgICAgIHVwZGF0ZVByb2plY3RJbmZvKG5ld09iamVjdClcbiAgICAgICAgaWYgKGdldFByb2plY3RJdGVtKCkucHJvamVjdEFycmF5WzBdLnRhc2tzLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdldFByb2plY3RJdGVtKCkucHJvamVjdEFycmF5WzBdLnRhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1Rhc2sgPSB1cGxvYWRUYXNrcy51cGxvYWQoaSlcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpLmluc2VydEJlZm9yZShuZXdUYXNrLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza0J1dHRvbicpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxvYWRQcm9qZWN0RG9tKClcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVQcm9qZWN0SW5mbyA9ICh1cGRhdGVkT2JqZWN0KSA9PiB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0SW5mbycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRPYmplY3QpKVxuICAgIH1cblxuICAgIGNvbnN0IGdldFByb2plY3RJdGVtID0gKCkgPT4ge1xuICAgICAgICBsZXQgaXRlbSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RJbmZvJykpXG4gICAgICAgIHJldHVybiBpdGVtXG4gICAgfVxuXG4gICAgY29uc3QgbG9hZFByb2plY3REb20gPSAoKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAzOyBpIDwgZ2V0UHJvamVjdEl0ZW0oKS5uYW1lQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwcm9qZWN0TmFtZSA9IGdldFByb2plY3RJdGVtKCkubmFtZUFycmF5W2ldXG4gICAgICAgICAgICBjb25zdCBhZGRPbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRpdGlvbmFsUHJvamVjdHMnKVxuICAgICAgICAgICAgY29uc3QgYnRuID0gZG9tTWFuLm1ha2VCdG4oW1wiaG92ZXI6YmctWyNjY2NjY2NdXCIsIFwicm91bmRlZC1tZFwiLCBcInctZnVsbFwiLCBcInB5LTJcIiwgXCJmbGV4XCIsIFwianVzdGlmeS1iZXR3ZWVuXCIsIFwiaXRlbXMtY2VudGVyXCIsIFwiaC0xMlwiLCBcInB4LTFcIiwgJ2RpcmVjdG9yeSddKVxuICAgICAgICAgICAgY29uc3QgaW1nID0gZG9tTWFuLm1ha2VJbWcoW1wiaC1bMS4zcmVtXVwiLCBcInctWzEuM3JlbV1cIiwgXCJmbGV4XCIsIFwianVzdGlmeS1zdGFydFwiLCBcIml0ZW1zLWNlbnRlclwiLCBcIm14LTRcIiwgXCJib3gtY29udGVudFwiXSlcbiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvbU1hbi5tYWtlRGl2KHByb2plY3ROYW1lKVxuICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ2Nsb3Nlc3QnKVxuICAgICAgICAgICAgY29uc3QgeCA9IGRvbU1hbi5tYWtlWChbJ21sLTQnLCd6LTEwJywnZmxleCcsJ2p1c3RpZnktZW5kJywgJ2tpbGxiaWxsJ10pXG4gICAgICAgICAgICBidG4uYXBwZW5kKGltZylcbiAgICAgICAgICAgIGJ0bi5hcHBlbmQoZGl2KVxuICAgICAgICAgICAgYnRuLmFwcGVuZCh4KVxuICAgICAgICAgICAgYWRkT24uaW5zZXJ0QmVmb3JlKGJ0biwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEJlZm9yZScpKVxuICAgICAgICAgICAgdXBkYXRlQnV0dG9ucyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGlyZWN0b3J5JykpXG4gICAgICAgICAgICBkb21NYW4uYnV0dG9uQ2hhbmdlKClcbiAgICAgICAgICAgIGtpbGxQcm9qZWN0KClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IHVwZGF0ZVByb2plY3RJbmZvLCBnZXRQcm9qZWN0SXRlbSwgaW5pdGlhbGl6ZSwgfVxufSkoKVxuXG5leHBvcnQgZGVmYXVsdCBzdG9yYWdlIiwiaW1wb3J0IGlGYWN0b3J5IGZyb20gXCIuL2luZm9ybWF0aW9uRmFjdG9yeVwiO1xuaW1wb3J0IHN0b3JhZ2UgZnJvbSBcIi4vbG9jYWxTdG9yYWdlXCI7XG5cbmNvbnN0IHByb2plY3RJbmZvcm1hdGlvbiA9ICgoKSA9PiB7XG4gICAgLy8gdGhpcyBpcyB0aGUgcHJvamVjdCBuYW1lIGluZm9ybWF0aW9uIGFycmF5IHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHRhc2sgaW5mb3JtYXRpb24gb2JqZWN0IGFycmF5XG4gICAgY29uc3QgbmFtZUFycmF5ID0gW11cbiAgICBjb25zdCBwcm9qZWN0QXJyYXkgPSBbXVxuICAgIC8vIHRoZXNlIGFyZSB0aGUgYmFzZSBwcm9qZWN0IGZpbGVzIHRoYXQgd2lsbCBiZSBwcmVsb2FkZWQgaW50byB0aGUgZG9tXG4gICAgY29uc3QgYmFzZVByb2plY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJvamVjdC1uYW1lXScpXG4gICAgYmFzZVByb2plY3RzLmZvckVhY2goIHByb2plY3QgPT4ge1xuICAgICAgICBuYW1lQXJyYXkucHVzaChwcm9qZWN0LmRhdGFzZXQucHJvamVjdE5hbWUpXG4gICAgICAgIGxldCBlbGVtZW50ID0gaUZhY3RvcnkocHJvamVjdC5kYXRhc2V0LnByb2plY3ROYW1lKVxuICAgICAgICBwcm9qZWN0QXJyYXkucHVzaChlbGVtZW50KVxuICAgIH0pXG4gICAgcmV0dXJuIHtuYW1lQXJyYXksIHByb2plY3RBcnJheX1cbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHByb2plY3RJbmZvcm1hdGlvbiIsImNvbnN0IG1ha2VUYXNrID0gKG9iamVjdGl2ZSwgZGVzYywgcHJpb3JpdHksIGRhdGUsIHByb2plY3QpID0+IHtcbiAgICByZXR1cm4ge29iamVjdGl2ZSwgZGVzYywgcHJpb3JpdHksIGRhdGUsIHByb2plY3R9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VUYXNrIiwiaW1wb3J0IHByb2plY3RJbmZvcm1hdGlvbiBmcm9tIFwiLi9wcm9qZWN0SW5mb3JtYXRpb25cIjtcbmltcG9ydCB1cGRhdGVCdXR0b25zIGZyb20gXCIuL3VwZGF0ZUJ1dHRvbnNcIjtcbmltcG9ydCBpRmFjdG9yeSBmcm9tIFwiLi9pbmZvcm1hdGlvbkZhY3RvcnlcIjtcbmltcG9ydCBraWxsUHJvamVjdCBmcm9tIFwiLi9raWxsUHJvamVjdFwiO1xuaW1wb3J0IGdldElkIGZyb20gXCIuL2dldElkXCI7XG5pbXBvcnQgbWFrZVRhc2sgZnJvbSBcIi4vbWFrZVRhc2tcIjtcbmltcG9ydCBzdG9yYWdlIGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiO1xuaW1wb3J0IHVwbG9hZFRhc2tzIGZyb20gXCIuL3VwbG9hZFRhc2tzXCI7XG5pbXBvcnQgdXBkYXRlRGlyZWN0b3J5IGZyb20gXCIuL3VwZGF0ZURpcmVjdG9yeVwiO1xuXG5jb25zdCBkb21NYW4gPSAoKCkgPT4ge1xuXG4gICAgY29uc3QgYnV0dG9uQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBsZXQgZG9tQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpcmVjdG9yeScpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG9tQnRuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkb21CdG5baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZG9tQnRuLmZvckVhY2goIGJ0biA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCd0b2dnbGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCd0b2dnbGVkJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKVxuICAgICAgICAgICAgICAgIGxldCBkaXZDaGlsZCA9IGRvbUJ0bltpXS5jaGlsZE5vZGVzXG4gICAgICAgICAgICAgICAgbGV0IHRleHRcbiAgICAgICAgICAgICAgICBpZiAoZGl2Q2hpbGQubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gZGl2Q2hpbGRbM10udGV4dENvbnRlbnRcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gZGl2Q2hpbGRbMV0udGV4dENvbnRlbnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG9tQnRuW2ldLmNsYXNzTGlzdC5hZGQoJ3RvZ2dsZWQnKVxuICAgICAgICAgICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gdGV4dFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIGxldCBjbGlja2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpcmVjdG9yeScpXG4gICAgICAgIGNsaWNrZWQuZm9yRWFjaCggYnRuID0+IHtcbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEaXJlY3RvcnkucmVmcmVzaChidG4pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICBjb25zdCBuYXZUb2dnbGUgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3RvZ2dsZS1idXR0b24nKVswXVxuICAgICAgICBjb25zdCBuYXZiYXJMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdicpXG4gICAgICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpXG4gICAgICAgIHRvZ2dsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIG5hdmJhckxpbmsuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcbiAgICAgICAgICAgIG1haW4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcbiAgICAgICAgfSlcbiAgICB9O1xuXG4gICAgY29uc3QgYWN0aXZhdGVNb2RhbHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wZW5Nb2RhbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2RhbC10YXJnZXQnKVxuICAgICAgICBjb25zdCBjbG9zZU1vZGFsQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNsb3NlLWJ1dHRvbl0nKVxuICAgICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKVxuXG4gICAgICAgIG9wZW5Nb2RhbEJ1dHRvbnMuZm9yRWFjaCggYnRuID0+IHtcbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnRuLmRhdGFzZXQubW9kYWxUYXJnZXQpXG4gICAgICAgICAgICAgICAgb3Blbk1vZGFsKG1vZGFsKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBjbG9zZU1vZGFsQnV0dG9ucy5mb3JFYWNoKCBidG4gPT4ge1xuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gYnRuLmNsb3Nlc3QoJy5tb2RhbCcpXG4gICAgICAgICAgICAgICAgY2xvc2VNb2RhbChtb2RhbClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XG4gICAgICAgICAgICBpZiAobW9kYWwgPT0gbnVsbCkgcmV0dXJuXG4gICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xuICAgICAgICAgICAgaWYgKG1vZGFsID09IG51bGwpIHJldHVyblxuICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBhZGRQcm9qZWN0ID0gKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkUHJvamVjdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgYWRkaXRpb25hbFByb2plY3QoKVxuICAgICAgICB9KVxuXG4gICAgICAgIGZ1bmN0aW9uIGFkZGl0aW9uYWxQcm9qZWN0KCkge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtZScpLnZhbHVlLnRyaW0oKVxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUnKS52YWx1ZSA9ICcnXG4gICAgICAgICAgICBsZXQgaSA9IDBcbiAgICAgICAgICAgIGxldCBqID0wXG4gICAgICAgICAgICB3aGlsZSAoaSA8IHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKS5uYW1lQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKS5uYW1lQXJyYXlbaV0gPT09IHByb2plY3ROYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGorK1xuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpKytcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGogPT0gMCkge1xuICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gaUZhY3RvcnkocHJvamVjdE5hbWUpXG4gICAgICAgICAgICAgICAgbGV0IHVwZGF0ZWRQcm9qZWN0ID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpXG4gICAgICAgICAgICAgICAgdXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5LnB1c2goZWxlbWVudClcbiAgICAgICAgICAgICAgICB1cGRhdGVkUHJvamVjdC5uYW1lQXJyYXkucHVzaChwcm9qZWN0TmFtZSlcbiAgICAgICAgICAgICAgICBjb25zdCBhZGRPbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRpdGlvbmFsUHJvamVjdHMnKVxuICAgICAgICAgICAgICAgIGNvbnN0IGJ0biA9IG1ha2VCdG4oW1wiaG92ZXI6YmctWyNjY2NjY2NdXCIsIFwicm91bmRlZC1tZFwiLCBcInctZnVsbFwiLCBcInB5LTJcIiwgXCJmbGV4XCIsIFwianVzdGlmeS1iZXR3ZWVuXCIsIFwiaXRlbXMtY2VudGVyXCIsIFwiaC0xMlwiLCBcInB4LTFcIiwgJ2RpcmVjdG9yeSddKVxuICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IG1ha2VJbWcoW1wiaC1bMS4zcmVtXVwiLCBcInctWzEuM3JlbV1cIiwgXCJmbGV4XCIsIFwianVzdGlmeS1zdGFydFwiLCBcIml0ZW1zLWNlbnRlclwiLCBcIm14LTRcIiwgXCJib3gtY29udGVudFwiXSlcbiAgICAgICAgICAgICAgICBjb25zdCBkaXYgPSBtYWtlRGl2KHByb2plY3ROYW1lKVxuICAgICAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdjbG9zZXN0JylcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gbWFrZVgoWydtbC00Jywnei0xMCcsJ2ZsZXgnLCdqdXN0aWZ5LWVuZCcsICdraWxsYmlsbCddKVxuICAgICAgICAgICAgICAgIGJ0bi5hcHBlbmQoaW1nKVxuICAgICAgICAgICAgICAgIGJ0bi5hcHBlbmQoZGl2KVxuICAgICAgICAgICAgICAgIGJ0bi5hcHBlbmQoeClcbiAgICAgICAgICAgICAgICBhZGRPbi5pbnNlcnRCZWZvcmUoYnRuLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkQmVmb3JlJykpXG4gICAgICAgICAgICAgICAgdXBkYXRlQnV0dG9ucyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGlyZWN0b3J5JykpXG4gICAgICAgICAgICAgICAgYnV0dG9uQ2hhbmdlKClcbiAgICAgICAgICAgICAgICBraWxsUHJvamVjdCgpXG4gICAgICAgICAgICAgICAgc3RvcmFnZS51cGRhdGVQcm9qZWN0SW5mbyh1cGRhdGVkUHJvamVjdClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VCdG4oYXJyYXkpIHtcbiAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoYXJyYXlbaV0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ0blxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VYKGFycmF5KSB7XG4gICAgICAgIGNvbnN0IHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICB4LmlubmVySFRNTCA9ICcmdGltZXM7J1xuICAgICAgICBmb3IobGV0IGkgPTA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgeC5jbGFzc0xpc3QuYWRkKGFycmF5W2ldKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUltZyhhcnJheSkge1xuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoMjAsMjApXG4gICAgICAgIGltZy5zcmMgPSAnL3NyYy9tb2R1bGVzL3Byb2plY3QtaW1hZ2UucG5nJ1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbWcuY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1nXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZURpdihwcm9qZWN0TmFtZSkge1xuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBkaXYudGV4dENvbnRlbnQgPSBwcm9qZWN0TmFtZVxuICAgICAgICBkaXYuZGF0YXNldC5wcm9qZWN0TmFtZSA9IHByb2plY3ROYW1lXG4gICAgICAgIGRpdi5kYXRhc2V0LmlkID0gcHJvamVjdEluZm9ybWF0aW9uLm5hbWVBcnJheS5sZW5ndGggLSAxXG4gICAgICAgIHJldHVybiBkaXZcbiAgICB9XG5cbiAgICBjb25zdCBhZGRUYXNrID0gKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkVGFzaycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgYWRkaXRpb25hbFRhc2soKVxuICAgICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBhZGRpdGlvbmFsVGFzaygpIHtcbiAgICAgICAgLy8gdGhpcyBjaGVja3Mgd2hlcmUgdGhlIHRhc2sgaXMgYmVpbmcgcGxhY2VkIGluXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJylcbiAgICAgICAgbGV0IGluZGV4ID0gZ2V0SWQodGl0bGUuaW5uZXJIVE1MKVxuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCcpXG4gICAgICAgIGxldCBvYmplY3RpdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2JqZWN0aXZlJykudmFsdWVcbiAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc2NyaXB0aW9uJykudmFsdWVcbiAgICAgICAgbGV0IHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaW9yaXR5JykudmFsdWVcbiAgICAgICAgbGV0IGRhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZScpLnZhbHVlXG4gICAgICAgIGxldCB1cGRhdGVkVmFsdWUgPSBzdG9yYWdlLmdldFByb2plY3RJdGVtKClcbiAgICAgICAgaWYgKHRpdGxlLnRleHRDb250ZW50ICE9ICdJbmJveCcpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRWYWx1ZS5wcm9qZWN0QXJyYXlbMF0udGFza3MucHVzaChtYWtlVGFzayhvYmplY3RpdmUsZGVzY3JpcHRpb24scHJpb3JpdHksZGF0ZSwgdGl0bGUudGV4dENvbnRlbnQudHJpbSgpKSlcbiAgICAgICAgICAgIHVwZGF0ZWRWYWx1ZS5wcm9qZWN0QXJyYXlbaW5kZXhdLnRhc2tzLnB1c2gobWFrZVRhc2sob2JqZWN0aXZlLGRlc2NyaXB0aW9uLHByaW9yaXR5LGRhdGUsIHRpdGxlLnRleHRDb250ZW50LnRyaW0oKSkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVkVmFsdWUucHJvamVjdEFycmF5WzBdLnRhc2tzLnB1c2gobWFrZVRhc2sob2JqZWN0aXZlLGRlc2NyaXB0aW9uLHByaW9yaXR5LGRhdGUsIHRpdGxlLnRleHRDb250ZW50LnRyaW0oKSkpXG4gICAgICAgIH1cbiAgICAgICAgc3RvcmFnZS51cGRhdGVQcm9qZWN0SW5mbyh1cGRhdGVkVmFsdWUpXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvYmplY3RpdmUnKS52YWx1ZSA9ICcnXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbicpLnZhbHVlID0gJydcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaW9yaXR5JykudmFsdWUgPSAnMCdcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGUnKS52YWx1ZSA9ICcnXG4gICAgICAgIGxldCB0YXNrSW5kZXggPSB1cGRhdGVkVmFsdWUucHJvamVjdEFycmF5W2luZGV4XS50YXNrcy5sZW5ndGggLSAxXG4gICAgICAgIGxldCBuZXdUYXNrID0gdXBsb2FkVGFza3MudXBsb2FkKHRhc2tJbmRleClcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKS5pbnNlcnRCZWZvcmUobmV3VGFzaywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tCdXR0b24nKSlcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBidXR0b25DaGFuZ2UsXG4gICAgICAgIG5hdlRvZ2dsZSxcbiAgICAgICAgYWN0aXZhdGVNb2RhbHMsXG4gICAgICAgIGFkZFByb2plY3QsXG4gICAgICAgIGFkZFRhc2ssXG4gICAgICAgIG1ha2VCdG4sXG4gICAgICAgIG1ha2VEaXYsXG4gICAgICAgIG1ha2VJbWcsXG4gICAgICAgIG1ha2VYLFxuICAgIH1cbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGRvbU1hbjsiLCJpbXBvcnQgZG9tTWFuIGZyb20gJy4vbW9kdWxlcy9kb21NYW5pcHVsYXRpb24nXG5pbXBvcnQgc3RvcmFnZSBmcm9tICcuL21vZHVsZXMvbG9jYWxTdG9yYWdlJ1xuIFxuLy8gbGV0IGZpeFVwbG9hZCA9IHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKVxuLy8gZml4VXBsb2FkLm5hbWVBcnJheS5zcGxpY2UoMiwxKVxuLy8gZml4VXBsb2FkLm5hbWVBcnJheS5wdXNoKCdVcGNvbWluZycpXG4vLyBmaXhVcGxvYWQucHJvamVjdEFycmF5LnNwbGljZSgyLDEpXG4vLyBmaXhVcGxvYWQucHJvamVjdEFycmF5LnB1c2goe3Byb2plY3ROYW1lOiBcIlVwY29taW5nXCIsIHRhc2tzOiBbXX0pXG4vLyBzdG9yYWdlLnVwZGF0ZVByb2plY3RJbmZvKGZpeFVwbG9hZClcblxuLy8gdGhpcyBjb250cm9scyB0aGUgYnV0dG9ucyBjaGFuZ2luZyBjb2xvciBzbyB0aGF0IHRoZXkgaG9sZCB0aGVpciBob3ZlciBlZmZlY3QgZm9yIHdoZW4gdGhleSBhcmUgY2xpY2tlZCBcbmRvbU1hbi5idXR0b25DaGFuZ2UoKSBcbi8vIHRoaXMgY2hlY2tzIGxvY2FsIHN0b3JhZ2UgaWYgdGhlcmUgYXJlIGFueSBwcmV2aW91cyBwcm9qZWN0cywgYW5kIGl0IGxvYWRzIGl0XG5zdG9yYWdlLmluaXRpYWxpemUoKVxuLy8gdGhpcyBpbnN1cmVzIHRoYXQgdGhlIG5hdiBiYXIgc2hvd3MgdXAgYW5kIHByb3Blcmx5IHdvcmtzIHdoZW4gY2xpY2tlZFxuZG9tTWFuLm5hdlRvZ2dsZSgpIFxuLy8gdGhpcyBhY3RpdmVzIHRoZSBwb3B1cHMgdGhhdCBjb21lIHVwIHdoZW4geW91IHByZXNzIGFkZCBwcm9qZWN0IGFuZCBhZGQgdGFza1xuZG9tTWFuLmFjdGl2YXRlTW9kYWxzKClcbi8vIHRoaXMgbWFrZXMgaXQgc28gdGhhdCBlYWNoIHRpbWUgeW91IHN1Ym1pdCBhIHByb2plY3QsIGl0IGFwcGVhcnMgb24gdGhlIGRvbSBcbmRvbU1hbi5hZGRQcm9qZWN0KClcbi8vIHRoaXMgbWFrZXMgaXQgc28gdGhhdCBlYWNoIHRpbWUgeW91IHN1Ym1pdCBhIHRhc2ssIGl0IGdvZXMgaW50byB0aGUgcmVzcGVjdGl2ZSBvYmplY3RcbmRvbU1hbi5hZGRUYXNrKClcblxuY29uc29sZS5sb2coe3Rlc3RTdHJpbmc6ICdUaGlzIGlzIHdvcmtpbmcsIGFsb25nIHdpdGggVGFpbHdpbmQhJ30pIl0sIm5hbWVzIjpbInByb2plY3ROYW1lIiwidGFza3MiLCJzdHJpbmciLCJpZCIsImlubmVyQ29udGVudCIsImFycmF5IiwiZGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3BsaXQiLCJpIiwibGVuZ3RoIiwiY2xhc3NMaXN0IiwiYWRkIiwidW5kZWZpbmVkIiwidGV4dENvbnRlbnQiLCJidG4iLCJpbWciLCJzcmMiLCJkYXRhc2V0IiwibW9kYWxUYXJnZXQiLCJzcGFuIiwiZmlyc3QiLCJzdHJJZCIsImZvcm0iLCJzZXRBdHRyaWJ1dGUiLCJzZWxlY3RvciIsImxhYmVsIiwidG9VcHBlckNhc2UiLCJzbGljZSIsInR5cGUiLCJpbnB1dCIsInRleHRhcmVhIiwiY29scyIsInJvd3MiLCJzZWxlY3QiLCJwcmlvcml0eUlkIiwib3AxIiwidmFsdWUiLCJvcDIiLCJvcDMiLCJvcDQiLCJhcHBlbmQiLCJnZXRJZCIsInRpdGxlIiwiaW5kZXgiLCJuYW1lQXJyYXkiLCJjbG9zZU1vZGFsIiwibW9kYWwiLCJyZW1vdmUiLCJvdmVybGF5IiwidGFza01vZGFsIiwiZ29kRGl2IiwibW9kYWxIZWFkZXIiLCJjbG9zZUJ0biIsImlubmVySFRNTCIsImNsb3NlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsb3Nlc3QiLCJqIiwibW9kYWxCb2R5IiwiZ2V0RWxlbWVudEJ5SWQiLCJwcm9qZWN0QXJyYXkiLCJwcm9qZWN0Iiwib2JqZWN0aXZlIiwiZGVzYyIsImRhdGUiLCJwcmlvcml0eSIsImVkaXRNb2RhbCIsImNvbnRhaW5lciIsIm9iamVjdGl2ZURpdiIsIm9iamVjdGl2ZUxhYmVsIiwib2JqZWN0aXZlSW5wdXQiLCJkZXNjRGl2IiwiZGVzY0xhYmVsIiwiZGVzY1RleHQiLCJ0d29TZWxlY3RvcnMiLCJwYXJlbnREaXYiLCJwcmlvcml0eURpdiIsInByaW9yaXR5TGFiZWwiLCJwcmlvcml0eVNlbGVjdCIsImRhdGVEaXYiLCJkYXRlTGFiZWwiLCJkYXRlSW5wdXQiLCJsYXN0QnRuIiwib2JqZWN0SWQiLCJkZXNjSWQiLCJkYXRlSWQiLCJkZXNjcmlwdGlvbiIsInB1c2giLCJtYWtlVGFzayIsImxhc3REaXYiLCJmaXJzdFNwYW4iLCJzZWNTcGFuIiwiaUxpZWREaXYiLCJyZXB0aXRpb25zIiwia2lsbCIsInRhc2tJZCIsInRhc2tJZE5hbWUiLCJwcm9qZWN0SW5kZXgiLCJyZW1vdmVDaGlsZCIsInVwZGF0ZWRQcm9qZWN0Iiwic3BsaWNlIiwidGFza0RpdiIsImdyYW5kRmF0aGVyIiwidGFza05hbWUiLCJjaXJjbGUiLCJvYmplY3RUaXRsZSIsInRhc2tOYW1lU3RyaW5nRGl2IiwidGFza0h1YiIsImRldGFpbERpdiIsImRldGFpbHNCdXR0b24iLCJlZGl0SW1nIiwicXVlcnlTZWxlY3RvciIsIm90aGVyRWRpdE1vZGFsIiwidHJhc2hJbWciLCJ0cmltIiwidGFza0NvbnRhaW5lciIsImNoaWxkTm9kZXMiLCJmaXJzdENoaWxkIiwiY29udGFpbnMiLCJwcm9qZWN0SW5mbyIsIm5ld1Rhc2siLCJjb25zb2xlIiwibG9nIiwiaW5zZXJ0QmVmb3JlIiwidXBkYXRlQnV0dG9ucyIsImJ1dHRvbiIsImZvckVhY2giLCJuZXdCdG4iLCJjbG9uZU5vZGUiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwia2lsbFByb2plY3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwicGFyZW50RWxlbWVudCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJ1cGRhdGVQcm9qZWN0SW5mbyIsInVwZGF0ZWRPYmplY3QiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldFByb2plY3RJdGVtIiwicGFyc2UiLCJnZXRJdGVtIiwiaW5pdGlhbGl6ZSIsIm5ld09iamVjdCIsImFkZE9uIiwieCIsImxvYWRQcm9qZWN0RG9tIiwiZWxlbWVudCIsImJ1dHRvbkNoYW5nZSIsImRvbUJ0biIsInRleHQiLCJkaXZDaGlsZCIsIm1ha2VCdG4iLCJtYWtlWCIsIm1ha2VJbWciLCJJbWFnZSIsIm1ha2VEaXYiLCJuYXZUb2dnbGUiLCJ0b2dnbGVCdXR0b24iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwibmF2YmFyTGluayIsIm1haW4iLCJ0b2dnbGUiLCJhY3RpdmF0ZU1vZGFscyIsIm9wZW5Nb2RhbEJ1dHRvbnMiLCJjbG9zZU1vZGFsQnV0dG9ucyIsImFkZFByb2plY3QiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiYWRkaXRpb25hbFByb2plY3QiLCJhZGRUYXNrIiwidXBkYXRlZFZhbHVlIiwidGFza0luZGV4IiwiYWRkaXRpb25hbFRhc2siLCJ0ZXN0U3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==