(()=>{"use strict";const e=e=>({projectName:e,tasks:[]}),t=function(e="none",t="",r=""){let n,o=document.createElement("div");if(""!=e){n=e.split(" ");for(let e=0;e<n.length;e++)o.classList.add(n[e])}return null!=t&&(o.id=t),null!=r&&(o.textContent=r),o},r=function(e="",t="",r=""){let n=e.split(" "),o=document.createElement("button");if(""!=e)for(let e=0;e<n.length;e++)o.classList.add(n[e]);return o.id=t,o.textContent=r,o},n=function(e){let t="h-6 w-6 cursor-pointer hover:-translate-y-1 hover:scale-110 transition ease-in-out duration-300".split(" "),r=document.createElement("img");r.src="/src/modules/edit.svg",r.dataset.modalTarget="#"+e+"otherModal";for(let e=0;e<t.length;e++)r.classList.add(t[e]);return r},o=function(e,t){let r="min-h-[20px] min-w-[20px] inline-block bg-white border-[3px] rounded-[50%] hover:bg-slate-300 mx-3".split(" "),n=document.createElement("span");for(let e=0;e<r.length;e++)n.classList.add(r[e]);return 0==t?n.classList.add("border-black"):1==t?n.classList.add("border-blue-500"):2==t?n.classList.add("border-orange-500"):3==t&&n.classList.add("border-red-500"),n.dataset.id=e,n},a=function(e){let t="h-[2px] bg-slate-700 w-[12px] block".split(" "),r=document.createElement("span");for(let e=0;e<t.length;e++)r.classList.add(t[e]);return e?r.classList.add("translate-y-[2px]"):r.classList.add("rotate-[90deg]"),r},l=function(e){let t=document.createElement("img");t.src="/src/modules/trash.svg",t.dataset.id=e;let r="h-6 w-6 cursor-pointer trash hover:-translate-y-1 hover:scale-110 transition ease-in-out duration-300".split(" ");for(let e=0;e<r.length;e++)t.classList.add(r[e]);return t},s=function(e){let t=e+"form",r=document.createElement("form");return r.setAttribute("id",t),r.setAttribute("action",""),r},c=function(e,t){let r=e+t,n=document.createElement("label");return n.setAttribute("for",r),n.textContent=t[0].toUpperCase()+t.slice(1,t.length)+":",n},d=function(e,t,r,n){let o=n.split(" "),a=document.createElement("input");for(let e=0;e<o.length;e++)a.classList.add(o[e]);let l=t+r;return a.setAttribute("type",e),a.setAttribute("id",l),"text"===e&&a.setAttribute("required",""),a},i=function(e,t){let r=t.split(" "),n=document.createElement("textarea");n.setAttribute("required","");let o=e+"description";for(let e=0;e<r.length;e++)n.classList.add(r[e]);return n.setAttribute("id",o),n.cols="5",n.rows="5",n},u=function(e,t){let r=t.split(" "),n=document.createElement("select"),o=e+"priority";n.setAttribute("id",o);for(let e=0;e<r.length;e++)n.classList.add(r[e]);let a=document.createElement("option");a.value="0",a.textContent="None";let l=document.createElement("option");l.value="1",l.textContent="Low";let s=document.createElement("option");s.value="2",s.textContent="Medium";let c=document.createElement("option");return c.value="3",c.textContent="High",n.append(a,l,s,c),n},m=(e,t,r,n,o)=>({objective:e,desc:t,priority:r,date:n,project:o});function p(e){let t=0;for(let r=0;r<j.getProjectItem().nameArray.length;r++)j.getProjectItem().nameArray[r]==e&&(t=r);return t}const g=(()=>{function e(e){null!=e&&(e.classList.remove("active"),overlay.classList.remove("active"))}return{taskModal:n=>{let o=t("modal break-normal",n+"Modal"),a=t("modal-header"),l=r("close-button","","");l.innerHTML="&times;",l.dataset.closeButton,l.addEventListener("click",(()=>{e(l.closest(".modal"))})),a.append(t("title","","Task Details"),l),o.append(a);let s=t("modal-body"),c=p(document.getElementById("title").textContent),d=j.getProjectItem().projectArray[c].projectName+" / "+j.getProjectItem().projectArray[c].tasks[n].project;return s.append(t("","","Project: "+d)),s.append(t("","","Title: "+j.getProjectItem().projectArray[c].tasks[n].objective)),s.append(t("","","Description: "+j.getProjectItem().projectArray[c].tasks[n].desc)),s.append(t("","","Due Date: "+j.getProjectItem().projectArray[c].tasks[n].date)),s.append(t("","","Priority: "+j.getProjectItem().projectArray[c].tasks[n].priority)),o.append(s),o},editModal:n=>{let o=t("modal",n+"otherModal"),l=t("modal-header"),g=r("close-button");g.innerHTML="&times;",g.dataset.closeButton,g.addEventListener("click",(()=>{e(g.closest(".modal"))})),l.append(t("title","","Edit Task"),g),o.append(l);let f=t("modal-body"),v=s(n),h=t("flex flex-col gap-2"),b=t("flex flex-col"),k=c(n,"objective"),E=d("text",n,"objective","bg-white border-[1px] border-black h-[2em] focus:border-[2px] focus:border-[#2994b2] focus:outline-none");b.append(k,E),h.append(b);let I=t("flex flex-col"),A=c(n,"description"),B=i(n,"bg-white border-[1px] border-black focus:border-[2px] focus:border-[#2994b2] focus:outline-none");I.append(A,B),h.append(I);let x=t("flex justify-around"),N=t("flex justify-start gap-12"),L=t("flex flex-col"),w=c(n,"priority"),D=u(n,"bg-white border-[1px] border-black h-7 focus:border-[2px] focus:border-[#2994b2] focus:outline-none");L.append(w,D),N.append(L);let T=t("flex flex-col"),C=c(n,"date"),M=d("date",n,"date","bg-white border-[1px] border-black focus:border-[2px] focus:border-[#2994b2] focus:outline-none");T.append(C,M),N.append(T),x.append(N);let S=r("flex text-xl my-2 items-center");S.setAttribute("type","submit"),S.setAttribute("form","taskForm");let P=p(document.getElementById("title").innerHTML);S.addEventListener("click",(e=>{const t=document.getElementById("overlay");e.preventDefault();let r=n+"objective",o=n+"description",a=n+"priority",l=n+"date",s=document.getElementById(r).value,c=document.getElementById(o).value,d=document.getElementById(a).value,i=document.getElementById(l).value,u=document.getElementById("title").innerHTML,p=j.getProjectItem();if(0!=P){for(let e=0;e<p.projectArray[0].tasks.length;e++)p.projectArray[0].tasks[e].objective==p.projectArray[P].tasks[n].objective&&p.projectArray[0].tasks.splice(e,1,m(s,c,d,i,u));p.projectArray[P].tasks.splice(n,1,m(s,c,d,i,u))}else p.projectArray[P].tasks.splice(n,1,m(s,c,d,i,u));document.getElementById(r).value="",document.getElementById(o).value="",document.getElementById(a).value="0",document.getElementById(l).value="",j.updateProjectInfo(p);let g=document.getElementById("content");for(;g.childNodes.length>4;)g.removeChild(g.firstChild);let f=j.getProjectItem();if(f.projectArray[P].tasks.length>0)for(let e=0;e<f.projectArray[P].tasks.length;e++){let t=y.upload(e);document.getElementById("content").insertBefore(t,document.getElementById("taskButton"))}t.classList.remove("active")}));let H=t("mx-2 relative"),U=a(!0),q=a(!1),F=t("","","Add");return H.append(U,q),S.append(H,F),x.append(S),h.append(x),v.append(h),f.append(v),o.append(f),o}}})(),f=(()=>{let e=0;return{kill:t=>{let r="task"+t,n=p(document.getElementById("title").innerHTML);document.getElementById("content").removeChild(document.getElementById(r));let o=j.getProjectItem();if(0!=n){for(let e=0;e<o.projectArray[0].tasks.length;e++)o.projectArray[0].tasks[e].objective==o.projectArray[n].tasks[t].objective&&o.projectArray[0].tasks.splice(e,1);o.projectArray[n].tasks.splice(t-e,1)}else o.projectArray[n].tasks.splice(t-e,1);j.updateProjectInfo(o),0==o.projectArray[n].tasks.length?e=0:e++},reptitions:e}})(),y=(()=>{function e(e){null!=e&&(e.classList.add("active"),overlay.classList.add("active"))}return{upload:a=>{let s=t("","task"+a),c=t("rounded-[10px] flex justify-between hover:bg-[#cccccc] min-h-[3rem] items-center hover:relative hover:bottom-1 hover:shadow-xl flex-col lg:flex-row py-2"),d=p(document.getElementById("title").innerHTML),i=t("flex items-start justify-start lg:justify-start lg:items-center w-full"),u=o(a,j.getProjectItem().projectArray[d].tasks[a].priority);u.addEventListener("click",(()=>{f.kill(a)}));let m=j.getProjectItem().projectArray[d].tasks[a].objective,y=t("","",m);i.append(u,y),c.append(i);let v=t("flex gap-6 mr-8"),h=t(),b=r("hover:-translate-y-1 hover:scale-110 transition ease-in-out duration-300","","Details");b.dataset.modalTarget=a+"Modal",b.addEventListener("click",(()=>{e(document.getElementById(b.dataset.modalTarget))}));let k=g.taskModal(a);h.append(b,k),v.append(h);let E=n(a);E.dataset.modalTarget=a+"otherModal",E.addEventListener("click",(()=>{e(document.getElementById(E.dataset.modalTarget))}));let I=g.editModal(a);v.append(E,I);let A=l(a);return A.addEventListener("click",(()=>{f.kill(a)})),v.append(A),c.append(v),s.append(c),s}}})();function v(e){e.forEach((e=>{let t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)}))}function h(){v(document.querySelectorAll(".killbill")),document.querySelectorAll(".killbill").forEach((e=>{e.addEventListener("click",(()=>{e.parentElement.classList.add("gettingDeleted");let t=p(e.previousElementSibling.dataset.projectName),r=j.getProjectItem();r.nameArray.splice(t,1),r.projectArray.splice(t,1);let n=e.previousElementSibling.dataset.projectName.trim();if(r.projectArray[0].tasks.length>0)for(let e=0;e<r.projectArray[0].tasks.length;e++)r.projectArray[0].tasks[e].project==n&&(r.projectArray[0].tasks.splice(e,1),e-=1);j.updateProjectInfo(r),e.parentElement.remove()}))}))}const j=(()=>{const e=e=>{localStorage.setItem("projectInfo",JSON.stringify(e))},t=()=>JSON.parse(localStorage.getItem("projectInfo"));return{updateProjectInfo:e,getProjectItem:t,initialize:()=>{let r=t();if(e(r),0!=t().projectArray[0].tasks.length)for(let e=0;e<t().projectArray[0].tasks.length;e++){let t=y.upload(e);document.getElementById("content").insertBefore(t,document.getElementById("taskButton"))}(()=>{for(let e=3;e<t().nameArray.length;e++){let r=t().nameArray[e];const n=document.getElementById("additionalProjects"),o=V.makeBtn(["hover:bg-[#cccccc]","rounded-md","w-full","py-2","flex","justify-between","items-center","h-12","px-1","directory"]),a=V.makeImg(["h-[1.3rem]","w-[1.3rem]","flex","justify-start","items-center","mx-4","box-content"]),l=V.makeDiv(r);l.classList.add("closest");const s=V.makeX(["ml-4","z-10","flex","justify-end","killbill"]);o.append(a),o.append(l),o.append(s),n.insertBefore(o,document.getElementById("addBefore")),v(document.querySelectorAll(".directory")),V.buttonChange(),h()}})()}}})(),b=(()=>{const t=[],r=[];return document.querySelectorAll("[data-project-name]").forEach((n=>{t.push(n.dataset.projectName);let o=e(n.dataset.projectName);r.push(o)})),{nameArray:t,projectArray:r}})();function k(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function I(e){k(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===E(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function A(e,t){k(2,arguments);var r=I(e),n=I(t);return r.getTime()<n.getTime()}Math.pow(10,8);var B=36e5;function x(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function N(e,t){var r;k(1,arguments);var n=x(null!==(r=null==t?void 0:t.additionalDigits)&&void 0!==r?r:2);if(2!==n&&1!==n&&0!==n)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var o,a=C(e);if(a.date){var l=M(a.date,n);o=S(l.restDateString,l.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var s,c=o.getTime(),d=0;if(a.time&&(d=H(a.time),isNaN(d)))return new Date(NaN);if(!a.timezone){var i=new Date(c+d),u=new Date(0);return u.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),u.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),u}return s=q(a.timezone),isNaN(s)?new Date(NaN):new Date(c+d+s)}var L={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},w=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,D=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,T=/^([+-])(\d{2})(?::?(\d{2}))?$/;function C(e){var t,r={},n=e.split(L.dateTimeDelimiter);if(n.length>2)return r;if(/:/.test(n[0])?t=n[0]:(r.date=n[0],t=n[1],L.timeZoneDelimiter.test(r.date)&&(r.date=e.split(L.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length))),t){var o=L.timezone.exec(t);o?(r.time=t.replace(o[1],""),r.timezone=o[1]):r.time=t}return r}function M(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var o=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:null===a?o:100*a,restDateString:e.slice((n[1]||n[2]).length)}}function S(e,t){if(null===t)return new Date(NaN);var r=e.match(w);if(!r)return new Date(NaN);var n=!!r[4],o=P(r[1]),a=P(r[2])-1,l=P(r[3]),s=P(r[4]),c=P(r[5])-1;if(n)return function(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}(0,s,c)?function(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var o=7*(t-1)+r+1-(n.getUTCDay()||7);return n.setUTCDate(n.getUTCDate()+o),n}(t,s,c):new Date(NaN);var d=new Date(0);return function(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(F[t]||(Y(e)?29:28))}(t,a,l)&&function(e,t){return t>=1&&t<=(Y(e)?366:365)}(t,o)?(d.setUTCFullYear(t,a,Math.max(o,l)),d):new Date(NaN)}function P(e){return e?parseInt(e):1}function H(e){var t=e.match(D);if(!t)return NaN;var r=U(t[1]),n=U(t[2]),o=U(t[3]);return function(e,t,r){return 24===e?0===t&&0===r:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}(r,n,o)?r*B+6e4*n+1e3*o:NaN}function U(e){return e&&parseFloat(e.replace(",","."))||0}function q(e){if("Z"===e)return 0;var t=e.match(T);if(!t)return 0;var r="+"===t[1]?-1:1,n=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,o)?r*(n*B+6e4*o):NaN}var F=[31,null,31,30,31,30,31,31,30,31,30,31];function Y(e){return e%400==0||e%4==0&&e%100!=0}function z(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Z(e){k(1,arguments);var t=I(e);return t.setHours(0,0,0,0),t}var O=864e5;function $(e,t){k(2,arguments);var r=Z(e),n=Z(t),o=r.getTime()-z(r),a=n.getTime()-z(n);return Math.round((o-a)/O)}function J(e,t){k(2,arguments);var r=I(e),n=x(t);return isNaN(n)?new Date(NaN):n?(r.setDate(r.getDate()+n),r):r}function R(e,t){k(2,arguments);var r=I(e),n=x(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var o=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var l=a.getDate();return o>=l?a:(r.setFullYear(a.getFullYear(),a.getMonth(),o),r)}function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function G(e,t){if(k(2,arguments),!t||"object"!==X(t))return new Date(NaN);var r=t.years?x(t.years):0,n=t.months?x(t.months):0,o=t.weeks?x(t.weeks):0,a=t.days?x(t.days):0,l=t.hours?x(t.hours):0,s=t.minutes?x(t.minutes):0,c=t.seconds?x(t.seconds):0,d=I(e),i=n||r?R(d,n+12*r):d,u=a||o?J(i,a+7*o):i,m=s+60*l,p=c+60*m,g=1e3*p,f=new Date(u.getTime()+g);return f}const W=()=>{let e=[],t=j.getProjectItem();for(let r=1;r<t.projectArray.length;r++)if(1!=r&&0!=t.projectArray[r].tasks.length)for(let n=0;n<t.projectArray[r].tasks.length;n++)""!=t.projectArray[r].tasks[n].date&&A(N(t.projectArray[r].tasks[n].date),function(e){k(1,arguments);var t=I(e);return t.setHours(23,59,59,999),t}(Date.now()))&&e.push(t.projectArray[r].tasks[n]);return e},K=()=>{let e=[],t=j.getProjectItem();for(let s=1;s<t.projectArray.length;s++)if(2!=s&&0!=t.projectArray[s].tasks.length)for(let c=0;c<t.projectArray[s].tasks.length;c++)""!=t.projectArray[s].tasks[c].date&&$(G((r=void 0,void 0,void 0,void 0,l=void 0,n=(r=new Date).getFullYear(),o=r.getMonth(),a=r.getDate(),(l=new Date(0)).setFullYear(n,o,a+1),l.setHours(0,0,0,0),l),{days:7}),N(t.projectArray[s].tasks[c].date))<=7&&e.push(t.projectArray[s].tasks[c]);var r,n,o,a,l;return e},Q=e=>{f.reptitions=0;let t=p(document.getElementById("title").innerHTML.trim()),r=document.getElementById("content");for(;r.childNodes.length>4;)r.removeChild(r.firstChild);if(document.getElementById("taskButton").classList.remove("hidden"),!e.classList.contains("gettingDeleted")){let r=j.getProjectItem();if(e.childNodes.length>3&&"Inbox"!=e.childNodes[3].innerHTML){if("Today"==e.childNodes[3].innerHTML){if(document.getElementById("taskButton").classList.add("hidden"),r.projectArray[1].tasks=W(),j.updateProjectInfo(r),r.projectArray[1].tasks.length>0)for(let e=0;e<r.projectArray[1].tasks.length;e++){let t=y.upload(e);document.getElementById("content").insertBefore(t,document.getElementById("taskButton"))}}else if("Upcoming"==e.childNodes[3].innerHTML&&(document.getElementById("taskButton").classList.add("hidden"),r.projectArray[2].tasks=K(),j.updateProjectInfo(r),r.projectArray[2].tasks.length>0))for(let e=0;e<r.projectArray[2].tasks.length;e++){let t=y.upload(e);document.getElementById("content").insertBefore(t,document.getElementById("taskButton"))}}else if(r.projectArray[t].tasks.length>0){document.getElementById("taskButton");for(let e=0;e<r.projectArray[t].tasks.length;e++){let t=y.upload(e);document.getElementById("content").insertBefore(t,document.getElementById("taskButton"))}}}},V=(()=>{const t=()=>{let e=document.querySelectorAll(".directory");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{e.forEach((e=>{e.classList.contains("toggled")&&e.classList.remove("toggled")}));const r=document.getElementById("title");let n,o=e[t].childNodes;n=o.length>3?o[3].textContent:o[1].textContent,e[t].classList.add("toggled"),r.textContent=n}));document.querySelectorAll(".directory").forEach((e=>{e.addEventListener("click",(()=>{Q(e)}))}))};function r(e){const t=document.createElement("button");for(let r=0;r<e.length;r++)t.classList.add(e[r]);return t}function n(e){const t=document.createElement("div");t.innerHTML="&times;";for(let r=0;r<e.length;r++)t.classList.add(e[r]);return t}function o(e){const t=new Image(20,20);t.src="/src/modules/project-image.png";for(let r=0;r<e.length;r++)t.classList.add(e[r]);return t}function a(e){const t=document.createElement("div");return t.textContent=e,t.dataset.projectName=e,t.dataset.id=b.nameArray.length-1,t}return{buttonChange:t,navToggle:()=>{const e=document.getElementsByClassName("toggle-button")[0],t=document.getElementById("nav"),r=document.getElementById("main");e.addEventListener("click",(()=>{t.classList.toggle("active"),r.classList.toggle("active")}))},activateModals:()=>{const e=document.querySelectorAll("[data-modal-target"),t=document.querySelectorAll("[data-close-button]"),r=document.getElementById("overlay");e.forEach((e=>{e.addEventListener("click",(()=>{var t;null!=(t=document.querySelector(e.dataset.modalTarget))&&(t.classList.add("active"),r.classList.add("active"))}))})),t.forEach((e=>{e.addEventListener("click",(()=>{var t;null!=(t=e.closest(".modal"))&&(t.classList.remove("active"),r.classList.remove("active"))}))}))},addProject:()=>{document.getElementById("addProject").addEventListener("click",(l=>{l.preventDefault(),function(){const l=document.getElementById("name").value.trim();document.getElementById("name").value="";let s=0,c=0;for(;s<j.getProjectItem().nameArray.length;){if(j.getProjectItem().nameArray[s]===l){c++;break}s++}if(0==c){let s=e(l),c=j.getProjectItem();c.projectArray.push(s),c.nameArray.push(l);const d=document.getElementById("additionalProjects"),i=r(["hover:bg-[#cccccc]","rounded-md","w-full","py-2","flex","justify-between","items-center","h-12","px-1","directory"]),u=o(["h-[1.3rem]","w-[1.3rem]","flex","justify-start","items-center","mx-4","box-content"]),m=a(l);m.classList.add("closest");const p=n(["ml-4","z-10","flex","justify-end","killbill"]);i.append(u),i.append(m),i.append(p),d.insertBefore(i,document.getElementById("addBefore")),v(document.querySelectorAll(".directory")),t(),h(),j.updateProjectInfo(c)}}()}))},addTask:()=>{document.getElementById("addTask").addEventListener("click",(e=>{e.preventDefault(),function(){const e=document.getElementById("title");let t=p(e.innerHTML),r=document.getElementById("objective").value,n=document.getElementById("description").value,o=document.getElementById("priority").value,a=document.getElementById("date").value,l=j.getProjectItem();"Inbox"!=e.textContent?(l.projectArray[0].tasks.push(m(r,n,o,a,e.textContent.trim())),l.projectArray[t].tasks.push(m(r,n,o,a,e.textContent.trim()))):l.projectArray[0].tasks.push(m(r,n,o,a,e.textContent.trim())),j.updateProjectInfo(l),document.getElementById("objective").value="",document.getElementById("description").value="",document.getElementById("priority").value="0",document.getElementById("date").value="";let s=l.projectArray[t].tasks.length-1,c=y.upload(s);document.getElementById("content").insertBefore(c,document.getElementById("taskButton"))}()}))},makeBtn:r,makeDiv:a,makeImg:o,makeX:n}})();V.buttonChange(),j.initialize(),V.navToggle(),V.activateModals(),V.addProject(),V.addTask(),console.log({testString:"This is working, along with Tailwind!"})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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M0IsTUFDL0NPLEVBQU92QyxTQUFTMkQsZUFBZSxRQUFRM0IsTUFDdkN1UyxFQUFlLG1CQUNNLFNBQXJCN1IsRUFBTWxDLGFBQ04rVCxFQUFhM1EsYUFBYSxHQUFHbEUsTUFBTW9KLEtBQUssRUFBU3pHLEVBQVU4QyxFQUFZckUsRUFBU3lCLEVBQU1HLEVBQU1sQyxZQUFZdUgsU0FDeEd3TSxFQUFhM1EsYUFBYWpCLEdBQU9qRCxNQUFNb0osS0FBSyxFQUFTekcsRUFBVThDLEVBQVlyRSxFQUFTeUIsRUFBTUcsRUFBTWxDLFlBQVl1SCxVQUU1R3dNLEVBQWEzUSxhQUFhLEdBQUdsRSxNQUFNb0osS0FBSyxFQUFTekcsRUFBVThDLEVBQVlyRSxFQUFTeUIsRUFBTUcsRUFBTWxDLFlBQVl1SCxTQUU1RyxvQkFBMEJ3TSxHQUMxQnZVLFNBQVMyRCxlQUFlLGFBQWEzQixNQUFRLEdBQzdDaEMsU0FBUzJELGVBQWUsZUFBZTNCLE1BQVEsR0FDL0NoQyxTQUFTMkQsZUFBZSxZQUFZM0IsTUFBUSxJQUM1Q2hDLFNBQVMyRCxlQUFlLFFBQVEzQixNQUFRLEdBQ3hDLElBQUl3UyxFQUFZRCxFQUFhM1EsYUFBYWpCLEdBQU9qRCxNQUFNVSxPQUFTLEVBQzVEdUYsRUFBVSxFQUFBQyxPQUFtQjRPLEdBQ2pDeFUsU0FBUzJELGVBQWUsV0FBV2tDLGFBQWFGLEVBQVMzRixTQUFTMkQsZUFBZSxjQUNyRixDQTNCUThRLEVBQWUsR0FDbEIsRUFrQ0RwQixVQUNBSSxVQUNBRixVQUNBRCxRQUVQLEVBaE1jLEdDTmYsaUJBRUEsZUFFQSxjQUVBLG1CQUVBLGVBRUEsWUFFQW5KLFFBQVF1SyxJQUFJLENBQUNDLFdBQVkseUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2luZm9ybWF0aW9uRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2NyZWF0ZUVsZW1lbnRzLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvbWFrZVRhc2suanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9nZXRJZC5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2NyZWF0ZU1vZGFsLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMva2lsbFRhc2suanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy91cGxvYWRUYXNrcy5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3VwZGF0ZUJ1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9raWxsUHJvamVjdC5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2xvY2FsU3RvcmFnZS5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3Byb2plY3RJbmZvcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3RvRGF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vaXNCZWZvcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2NvbnN0YW50cy9pbmRleC5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi90b0ludGVnZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3BhcnNlSVNPL2luZGV4LmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9fbGliL2dldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3N0YXJ0T2ZEYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2RpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cy9pbmRleC5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vYWRkRGF5cy9pbmRleC5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vYWRkTW9udGhzL2luZGV4LmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9hZGQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9kYXRlc0ZOUy5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vZW5kT2ZEYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2VuZE9mVG9kYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3N0YXJ0T2ZUb21vcnJvdy9pbmRleC5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3VwZGF0ZURpcmVjdG9yeS5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2RvbU1hbmlwdWxhdGlvbi5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9hcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaUZhY3RvcnkgPSAocHJvamVjdE5hbWUpID0+IHtcbiAgICBsZXQgdGFza3MgPSBbXVxuICAgIHJldHVybiB7cHJvamVjdE5hbWUsIHRhc2tzfVxufVxuXG5leHBvcnQgZGVmYXVsdCBpRmFjdG9yeSIsImNvbnN0IG5ld0VsZW1lbnQgPSAoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIG1ha2VEaXYoc3RyaW5nID0gJ25vbmUnLCBpZCA9ICcnLCBpbm5lckNvbnRlbnQgPSAnJykge1xuICAgICAgICBsZXQgYXJyYXlcbiAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIGlmIChzdHJpbmcgIT0gJycpIHtcbiAgICAgICAgICAgIGFycmF5ID0gc3RyaW5nLnNwbGl0KCcgJylcbiAgICAgICAgICAgIGZvciAobGV0IGk9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKGFycmF5W2ldKVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoIGlkICE9IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgIGRpdi5pZCA9IGlkXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCBpbm5lckNvbnRlbnQgIT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgIGRpdi50ZXh0Q29udGVudCA9IGlubmVyQ29udGVudFxuXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpdlxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VCdXR0b24oc3RyaW5nID0gJycsIGlkID0gJycsIGlubmVyQ29udGVudCA9ICcnKSB7XG4gICAgICAgIGxldCBhcnJheSA9IHN0cmluZy5zcGxpdCgnICcpXG4gICAgICAgIGxldCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgICAgICBpZiAoc3RyaW5nICE9ICcnKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0wOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBidG4uaWQgPSBpZFxuICAgICAgICBidG4udGV4dENvbnRlbnQgPSBpbm5lckNvbnRlbnRcbiAgICAgICAgcmV0dXJuIGJ0blxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VFZGl0SW1nKGlkKSB7XG4gICAgICAgIGxldCBzdHIgPSBcImgtNiB3LTYgY3Vyc29yLXBvaW50ZXIgaG92ZXI6LXRyYW5zbGF0ZS15LTEgaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24gZWFzZS1pbi1vdXQgZHVyYXRpb24tMzAwXCJcbiAgICAgICAgbGV0IGFycmF5ID0gc3RyLnNwbGl0KCcgJylcbiAgICAgICAgbGV0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gICAgICAgIGltZy5zcmMgPSAnL3NyYy9tb2R1bGVzL2VkaXQuc3ZnJ1xuICAgICAgICBpbWcuZGF0YXNldC5tb2RhbFRhcmdldCA9ICcjJyArIGlkICsgJ290aGVyTW9kYWwnXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGltZy5jbGFzc0xpc3QuYWRkKGFycmF5W2ldKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbWdcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlVHJhc2hJbWcoaWQpIHtcbiAgICAgICAgbGV0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gICAgICAgIGltZy5zcmMgPSAnL3NyYy9tb2R1bGVzL3RyYXNoLnN2ZydcbiAgICAgICAgaW1nLmRhdGFzZXQuaWQgPSBpZFxuICAgICAgICBsZXQgc3RyID0gXCJoLTYgdy02IGN1cnNvci1wb2ludGVyIHRyYXNoIGhvdmVyOi10cmFuc2xhdGUteS0xIGhvdmVyOnNjYWxlLTExMCB0cmFuc2l0aW9uIGVhc2UtaW4tb3V0IGR1cmF0aW9uLTMwMFwiXG4gICAgICAgIGxldCBhcnJheSA9IHN0ci5zcGxpdCgnICcpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGltZy5jbGFzc0xpc3QuYWRkKGFycmF5W2ldKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbWdcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaXJjbGVTcGFuKGlkLCBwcmlvcml0eSkge1xuICAgICAgICBsZXQgc3RyID0gXCJtaW4taC1bMjBweF0gbWluLXctWzIwcHhdIGlubGluZS1ibG9jayBiZy13aGl0ZSBib3JkZXItWzNweF0gcm91bmRlZC1bNTAlXSBob3ZlcjpiZy1zbGF0ZS0zMDAgbXgtM1wiXG4gICAgICAgIGxldCBhcnJheSA9IHN0ci5zcGxpdCgnICcpXG4gICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJpb3JpdHkgPT0gMCkge1xuICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdib3JkZXItYmxhY2snKVxuICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5ID09IDEpIHtcbiAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgnYm9yZGVyLWJsdWUtNTAwJylcbiAgICAgICAgfSBlbHNlIGlmIChwcmlvcml0eSA9PSAyKSB7XG4gICAgICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1vcmFuZ2UtNTAwJylcbiAgICAgICAgfSBlbHNlIGlmIChwcmlvcml0eSA9PSAzKSB7XG4gICAgICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1yZWQtNTAwJylcbiAgICAgICAgfVxuICAgICAgICBzcGFuLmRhdGFzZXQuaWQgPSBpZFxuICAgICAgICByZXR1cm4gc3BhblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG90aGVyU3BhbihmaXJzdCkge1xuICAgICAgICBsZXQgc3RyID0gXCJoLVsycHhdIGJnLXNsYXRlLTcwMCB3LVsxMnB4XSBibG9ja1wiXG4gICAgICAgIGxldCBhcnJheSA9IHN0ci5zcGxpdCgnICcpXG4gICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3QpIHNwYW4uY2xhc3NMaXN0LmFkZCgndHJhbnNsYXRlLXktWzJweF0nKTtcbiAgICAgICAgZWxzZSBzcGFuLmNsYXNzTGlzdC5hZGQoJ3JvdGF0ZS1bOTBkZWddJyk7XG4gICAgICAgIHJldHVybiBzcGFuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUZvcm0oaWQpIHtcbiAgICAgICAgbGV0IHN0cklkID0gaWQgKyAnZm9ybSdcbiAgICAgICAgbGV0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJylcbiAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ2lkJywgc3RySWQpXG4gICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKCdhY3Rpb24nLCAnJylcbiAgICAgICAgcmV0dXJuIGZvcm1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlTGFiZWwoaWQsIHNlbGVjdG9yKSB7XG4gICAgICAgIGxldCBzdHJJZCA9IGlkICsgc2VsZWN0b3JcbiAgICAgICAgbGV0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKVxuICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIHN0cklkKVxuICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9IHNlbGVjdG9yWzBdLnRvVXBwZXJDYXNlKCkgKyBzZWxlY3Rvci5zbGljZSgxLCAoc2VsZWN0b3IubGVuZ3RoKSkgKyAnOidcbiAgICAgICAgcmV0dXJuIGxhYmVsXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUlucHV0KHR5cGUsIGlkLCBzZWxlY3Rvciwgc3RyaW5nKSB7XG4gICAgICAgIGxldCBhcnJheSA9IHN0cmluZy5zcGxpdCgnICcpXG4gICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgICAgICAgZm9yIChsZXQgaSA9MDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKGFycmF5W2ldKVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdHJJZCA9IGlkICsgc2VsZWN0b3JcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgdHlwZSlcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsIHN0cklkKVxuICAgICAgICBpZiAoIHR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsICcnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnB1dFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VUZXh0QXJlYShpZCwgc3RyaW5nKSB7XG4gICAgICAgIGxldCBhcnJheSA9IHN0cmluZy5zcGxpdCgnICcpXG4gICAgICAgIGxldCB0ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJylcbiAgICAgICAgdGV4dGFyZWEuc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsICcnKVxuICAgICAgICBsZXQgc3RySWQgPSBpZCArICdkZXNjcmlwdGlvbidcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGV4dGFyZWEuY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICB0ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ2lkJywgc3RySWQpXG4gICAgICAgIHRleHRhcmVhLmNvbHMgPSAnNSdcbiAgICAgICAgdGV4dGFyZWEucm93cyA9ICc1J1xuICAgICAgICByZXR1cm4gdGV4dGFyZWFcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlU2VsZWN0KGlkLCBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGFycmF5ID0gc3RyaW5nLnNwbGl0KCcgJylcbiAgICAgICAgbGV0IHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpXG4gICAgICAgIGxldCBwcmlvcml0eUlkID0gaWQgKyAncHJpb3JpdHknXG4gICAgICAgIHNlbGVjdC5zZXRBdHRyaWJ1dGUoJ2lkJywgcHJpb3JpdHlJZClcbiAgICAgICAgZm9yIChsZXQgaSA9MDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzZWxlY3QuY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3AxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJylcbiAgICAgICAgb3AxLnZhbHVlID0gJzAnXG4gICAgICAgIG9wMS50ZXh0Q29udGVudCA9ICdOb25lJ1xuICAgICAgICBsZXQgb3AyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJylcbiAgICAgICAgb3AyLnZhbHVlID0gJzEnXG4gICAgICAgIG9wMi50ZXh0Q29udGVudCA9ICdMb3cnXG4gICAgICAgIGxldCBvcDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKVxuICAgICAgICBvcDMudmFsdWUgPSAnMidcbiAgICAgICAgb3AzLnRleHRDb250ZW50ID0gJ01lZGl1bSdcbiAgICAgICAgbGV0IG9wNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpXG4gICAgICAgIG9wNC52YWx1ZSA9ICczJ1xuICAgICAgICBvcDQudGV4dENvbnRlbnQgPSAnSGlnaCdcbiAgICAgICAgc2VsZWN0LmFwcGVuZChvcDEsIG9wMiwgb3AzLCBvcDQpXG4gICAgICAgIHJldHVybiBzZWxlY3RcblxuICAgIH1cblxuICAgIHJldHVybiB7IG1ha2VEaXYsIG1ha2VCdXR0b24sIG1ha2VFZGl0SW1nLCBjaXJjbGVTcGFuLCBvdGhlclNwYW4sIG1ha2VUcmFzaEltZywgbWFrZUZvcm0sIG1ha2VMYWJlbCwgbWFrZUlucHV0LCBtYWtlVGV4dEFyZWEsIG1ha2VTZWxlY3R9XG59KSgpXG5cbmV4cG9ydCBkZWZhdWx0IG5ld0VsZW1lbnQiLCJjb25zdCBtYWtlVGFzayA9IChvYmplY3RpdmUsIGRlc2MsIHByaW9yaXR5LCBkYXRlLCBwcm9qZWN0KSA9PiB7XG4gICAgcmV0dXJuIHtvYmplY3RpdmUsIGRlc2MsIHByaW9yaXR5LCBkYXRlLCBwcm9qZWN0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBtYWtlVGFzayIsImltcG9ydCBzdG9yYWdlIGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldElkKHRpdGxlKSB7XG4gICAgbGV0IGluZGV4ID0gMFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpLm5hbWVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpLm5hbWVBcnJheVtpXSA9PSB0aXRsZSkge1xuICAgICAgICAgICAgaW5kZXggPSBpXG4gICAgICAgIH0gXG4gICAgfVxuICAgIHJldHVybiBpbmRleFxufSIsImltcG9ydCBuZXdFbGVtZW50IGZyb20gXCIuL2NyZWF0ZUVsZW1lbnRzXCJcbmltcG9ydCBtYWtlVGFzayBmcm9tIFwiLi9tYWtlVGFza1wiXG5pbXBvcnQgZ2V0SWQgZnJvbSBcIi4vZ2V0SWRcIlxuaW1wb3J0IHN0b3JhZ2UgZnJvbSBcIi4vbG9jYWxTdG9yYWdlXCJcbmltcG9ydCB1cGxvYWRUYXNrcyBmcm9tIFwiLi91cGxvYWRUYXNrc1wiXG5cbmNvbnN0IGNyZWF0ZU1vZGFsID0gKCgpID0+IHtcbiAgICBjb25zdCB0YXNrTW9kYWwgPSAoaWQpID0+IHtcbiAgICAgICAgbGV0IHN0ck1vZGFsID0gaWQgKyAnTW9kYWwnXG4gICAgICAgIGxldCBnb2REaXYgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJ21vZGFsIGJyZWFrLW5vcm1hbCcsIHN0ck1vZGFsKVxuICAgICAgICBsZXQgbW9kYWxIZWFkZXIgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJ21vZGFsLWhlYWRlcicpXG4gICAgICAgIGxldCBjbG9zZUJ0biA9IG5ld0VsZW1lbnQubWFrZUJ1dHRvbignY2xvc2UtYnV0dG9uJywgJycsICcnKVxuICAgICAgICBjbG9zZUJ0bi5pbm5lckhUTUwgPSAnJnRpbWVzOydcbiAgICAgICAgY2xvc2VCdG4uZGF0YXNldC5jbG9zZUJ1dHRvblxuICAgICAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gY2xvc2VCdG4uY2xvc2VzdCgnLm1vZGFsJylcbiAgICAgICAgICAgIGNsb3NlTW9kYWwobW9kYWwpXG4gICAgICAgIH0pXG4gICAgICAgIG1vZGFsSGVhZGVyLmFwcGVuZChuZXdFbGVtZW50Lm1ha2VEaXYoJ3RpdGxlJywgJycsICdUYXNrIERldGFpbHMnKSwgY2xvc2VCdG4pXG4gICAgICAgIGdvZERpdi5hcHBlbmQobW9kYWxIZWFkZXIpXG4gICAgICAgIGxldCBtb2RhbEJvZHkgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJ21vZGFsLWJvZHknKVxuICAgICAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKS50ZXh0Q29udGVudFxuICAgICAgICBsZXQgbmV3SW5kZXggPSBnZXRJZCh0aXRsZSlcbiAgICAgICAgbGV0IHByb2plY3ROYW1lID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpLnByb2plY3RBcnJheVtuZXdJbmRleF0ucHJvamVjdE5hbWUgKyBcIiAvIFwiICsgc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpLnByb2plY3RBcnJheVtuZXdJbmRleF0udGFza3NbaWRdLnByb2plY3RcbiAgICAgICAgbW9kYWxCb2R5LmFwcGVuZChuZXdFbGVtZW50Lm1ha2VEaXYoJycsJycsICgnUHJvamVjdDogJyArIHByb2plY3ROYW1lKSkpXG4gICAgICAgIG1vZGFsQm9keS5hcHBlbmQobmV3RWxlbWVudC5tYWtlRGl2KCcnLCcnLCAoJ1RpdGxlOiAnICsgc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpLnByb2plY3RBcnJheVtuZXdJbmRleF0udGFza3NbaWRdLm9iamVjdGl2ZSkpKVxuICAgICAgICBtb2RhbEJvZHkuYXBwZW5kKG5ld0VsZW1lbnQubWFrZURpdignJywnJywgKCdEZXNjcmlwdGlvbjogJyArIHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKS5wcm9qZWN0QXJyYXlbbmV3SW5kZXhdLnRhc2tzW2lkXS5kZXNjKSkpXG4gICAgICAgIG1vZGFsQm9keS5hcHBlbmQobmV3RWxlbWVudC5tYWtlRGl2KCcnLCcnLCAoJ0R1ZSBEYXRlOiAnICsgc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpLnByb2plY3RBcnJheVtuZXdJbmRleF0udGFza3NbaWRdLmRhdGUpKSlcbiAgICAgICAgbW9kYWxCb2R5LmFwcGVuZChuZXdFbGVtZW50Lm1ha2VEaXYoJycsJycsICgnUHJpb3JpdHk6ICcgKyBzdG9yYWdlLmdldFByb2plY3RJdGVtKCkucHJvamVjdEFycmF5W25ld0luZGV4XS50YXNrc1tpZF0ucHJpb3JpdHkpKSlcbiAgICAgICAgZ29kRGl2LmFwcGVuZChtb2RhbEJvZHkpXG4gICAgICAgIHJldHVybiBnb2REaXZcbiAgICB9XG5cbiAgICBjb25zdCBlZGl0TW9kYWwgPSAoaWQpID0+IHtcbiAgICAgICAgbGV0IHN0ck1vZGFsID0gaWQgKyAnb3RoZXJNb2RhbCdcbiAgICAgICAgbGV0IGdvZERpdiA9IG5ld0VsZW1lbnQubWFrZURpdignbW9kYWwnLCBzdHJNb2RhbClcbiAgICAgICAgbGV0IG1vZGFsSGVhZGVyID0gbmV3RWxlbWVudC5tYWtlRGl2KCdtb2RhbC1oZWFkZXInKVxuICAgICAgICBsZXQgY2xvc2VCdG4gPSBuZXdFbGVtZW50Lm1ha2VCdXR0b24oJ2Nsb3NlLWJ1dHRvbicpXG4gICAgICAgIGNsb3NlQnRuLmlubmVySFRNTCA9ICcmdGltZXM7J1xuICAgICAgICBjbG9zZUJ0bi5kYXRhc2V0LmNsb3NlQnV0dG9uXG4gICAgICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBjbG9zZUJ0bi5jbG9zZXN0KCcubW9kYWwnKVxuICAgICAgICAgICAgY2xvc2VNb2RhbChtb2RhbClcbiAgICAgICAgfSlcbiAgICAgICAgbW9kYWxIZWFkZXIuYXBwZW5kKG5ld0VsZW1lbnQubWFrZURpdigndGl0bGUnLCAnJywgJ0VkaXQgVGFzaycpLCBjbG9zZUJ0bilcbiAgICAgICAgZ29kRGl2LmFwcGVuZChtb2RhbEhlYWRlcilcbiAgICAgICAgbGV0IG1vZGFsQm9keSA9IG5ld0VsZW1lbnQubWFrZURpdignbW9kYWwtYm9keScpXG4gICAgICAgIGxldCBmb3JtID0gbmV3RWxlbWVudC5tYWtlRm9ybShpZClcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IG5ld0VsZW1lbnQubWFrZURpdignZmxleCBmbGV4LWNvbCBnYXAtMicpXG4gICAgICAgIGxldCBvYmplY3RpdmVEaXYgPSBuZXdFbGVtZW50Lm1ha2VEaXYoXCJmbGV4IGZsZXgtY29sXCIpXG4gICAgICAgIGxldCBvYmplY3RpdmVMYWJlbCA9IG5ld0VsZW1lbnQubWFrZUxhYmVsKGlkLCAnb2JqZWN0aXZlJylcbiAgICAgICAgbGV0IG9iamVjdGl2ZUlucHV0ID0gbmV3RWxlbWVudC5tYWtlSW5wdXQoJ3RleHQnLCBpZCwgJ29iamVjdGl2ZScsIFwiYmctd2hpdGUgYm9yZGVyLVsxcHhdIGJvcmRlci1ibGFjayBoLVsyZW1dIGZvY3VzOmJvcmRlci1bMnB4XSBmb2N1czpib3JkZXItWyMyOTk0YjJdIGZvY3VzOm91dGxpbmUtbm9uZVwiKVxuICAgICAgICBvYmplY3RpdmVEaXYuYXBwZW5kKG9iamVjdGl2ZUxhYmVsLCBvYmplY3RpdmVJbnB1dClcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZChvYmplY3RpdmVEaXYpXG4gICAgICAgIGxldCBkZXNjRGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KFwiZmxleCBmbGV4LWNvbFwiKVxuICAgICAgICBsZXQgZGVzY0xhYmVsID0gbmV3RWxlbWVudC5tYWtlTGFiZWwoaWQsICdkZXNjcmlwdGlvbicpXG4gICAgICAgIGxldCBkZXNjVGV4dCA9IG5ld0VsZW1lbnQubWFrZVRleHRBcmVhKGlkLCBcImJnLXdoaXRlIGJvcmRlci1bMXB4XSBib3JkZXItYmxhY2sgZm9jdXM6Ym9yZGVyLVsycHhdIGZvY3VzOmJvcmRlci1bIzI5OTRiMl0gZm9jdXM6b3V0bGluZS1ub25lXCIpXG4gICAgICAgIGRlc2NEaXYuYXBwZW5kKGRlc2NMYWJlbCwgZGVzY1RleHQpXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoZGVzY0RpdilcbiAgICAgICAgbGV0IHR3b1NlbGVjdG9ycyA9IG5ld0VsZW1lbnQubWFrZURpdihcImZsZXgganVzdGlmeS1hcm91bmRcIilcbiAgICAgICAgbGV0IHBhcmVudERpdiA9IG5ld0VsZW1lbnQubWFrZURpdignZmxleCBqdXN0aWZ5LXN0YXJ0IGdhcC0xMicpXG4gICAgICAgIGxldCBwcmlvcml0eURpdiA9IG5ld0VsZW1lbnQubWFrZURpdihcImZsZXggZmxleC1jb2xcIilcbiAgICAgICAgbGV0IHByaW9yaXR5TGFiZWwgPSBuZXdFbGVtZW50Lm1ha2VMYWJlbChpZCwgXCJwcmlvcml0eVwiKVxuICAgICAgICBsZXQgcHJpb3JpdHlTZWxlY3QgPSBuZXdFbGVtZW50Lm1ha2VTZWxlY3QoaWQsICdiZy13aGl0ZSBib3JkZXItWzFweF0gYm9yZGVyLWJsYWNrIGgtNyBmb2N1czpib3JkZXItWzJweF0gZm9jdXM6Ym9yZGVyLVsjMjk5NGIyXSBmb2N1czpvdXRsaW5lLW5vbmUnKVxuICAgICAgICBwcmlvcml0eURpdi5hcHBlbmQocHJpb3JpdHlMYWJlbCwgcHJpb3JpdHlTZWxlY3QpXG4gICAgICAgIHBhcmVudERpdi5hcHBlbmQocHJpb3JpdHlEaXYpXG4gICAgICAgIGxldCBkYXRlRGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KFwiZmxleCBmbGV4LWNvbFwiKVxuICAgICAgICBsZXQgZGF0ZUxhYmVsID0gbmV3RWxlbWVudC5tYWtlTGFiZWwoaWQsIFwiZGF0ZVwiKVxuICAgICAgICBsZXQgZGF0ZUlucHV0ID0gbmV3RWxlbWVudC5tYWtlSW5wdXQoJ2RhdGUnLCBpZCwgJ2RhdGUnLCBcImJnLXdoaXRlIGJvcmRlci1bMXB4XSBib3JkZXItYmxhY2sgZm9jdXM6Ym9yZGVyLVsycHhdIGZvY3VzOmJvcmRlci1bIzI5OTRiMl0gZm9jdXM6b3V0bGluZS1ub25lXCIpXG4gICAgICAgIGRhdGVEaXYuYXBwZW5kKGRhdGVMYWJlbCwgZGF0ZUlucHV0KVxuICAgICAgICBwYXJlbnREaXYuYXBwZW5kKGRhdGVEaXYpXG4gICAgICAgIHR3b1NlbGVjdG9ycy5hcHBlbmQocGFyZW50RGl2KVxuICAgICAgICBsZXQgbGFzdEJ0biA9IG5ld0VsZW1lbnQubWFrZUJ1dHRvbihcImZsZXggdGV4dC14bCBteS0yIGl0ZW1zLWNlbnRlclwiKVxuICAgICAgICBsYXN0QnRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdzdWJtaXQnKVxuICAgICAgICBsYXN0QnRuLnNldEF0dHJpYnV0ZSgnZm9ybScsICd0YXNrRm9ybScpXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJykuaW5uZXJIVE1MXG4gICAgICAgIGxldCBpbmRleCA9IGdldElkKHRpdGxlKVxuICAgICAgICBsYXN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PntcbiAgICAgICAgICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBsZXQgb2JqZWN0SWQgPSBpZCArICdvYmplY3RpdmUnXG4gICAgICAgICAgICBsZXQgZGVzY0lkID0gaWQgKyAnZGVzY3JpcHRpb24nXG4gICAgICAgICAgICBsZXQgcHJpb3JpdHlJZCA9IGlkICsgJ3ByaW9yaXR5J1xuICAgICAgICAgICAgbGV0IGRhdGVJZCA9IGlkICsgJ2RhdGUnXG4gICAgICAgICAgICBsZXQgb2JqZWN0aXZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob2JqZWN0SWQpLnZhbHVlXG4gICAgICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZXNjSWQpLnZhbHVlXG4gICAgICAgICAgICBsZXQgcHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmlvcml0eUlkKS52YWx1ZVxuICAgICAgICAgICAgbGV0IGRhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkYXRlSWQpLnZhbHVlXG4gICAgICAgICAgICBsZXQgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKS5pbm5lckhUTUxcbiAgICAgICAgICAgIGxldCB1cGRhdGVkUHJvamVjdCA9IHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKVxuICAgICAgICAgICAgaWYgKGluZGV4ICE9IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVwZGF0ZWRQcm9qZWN0LnByb2plY3RBcnJheVswXS50YXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5WzBdLnRhc2tzW2ldLm9iamVjdGl2ZSA9PSB1cGRhdGVkUHJvamVjdC5wcm9qZWN0QXJyYXlbaW5kZXhdLnRhc2tzW2lkXS5vYmplY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRQcm9qZWN0LnByb2plY3RBcnJheVswXS50YXNrcy5zcGxpY2UoaSwgMSwgbWFrZVRhc2sob2JqZWN0aXZlLCBkZXNjcmlwdGlvbiwgcHJpb3JpdHksIGRhdGUsIHByb2plY3ROYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1cGRhdGVkUHJvamVjdC5wcm9qZWN0QXJyYXlbaW5kZXhdLnRhc2tzLnNwbGljZShpZCwgMSwgbWFrZVRhc2sob2JqZWN0aXZlLCBkZXNjcmlwdGlvbiwgcHJpb3JpdHksIGRhdGUsIHByb2plY3ROYW1lKSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5W2luZGV4XS50YXNrcy5zcGxpY2UoaWQsIDEsIG1ha2VUYXNrKG9iamVjdGl2ZSwgZGVzY3JpcHRpb24sIHByaW9yaXR5LCBkYXRlLCBwcm9qZWN0TmFtZSkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvYmplY3RJZCkudmFsdWUgPSAnJ1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVzY0lkKS52YWx1ZSA9ICcnXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmlvcml0eUlkKS52YWx1ZSA9ICcwJ1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGF0ZUlkKS52YWx1ZSA9ICcnXG4gICAgICAgICAgICBzdG9yYWdlLnVwZGF0ZVByb2plY3RJbmZvKHVwZGF0ZWRQcm9qZWN0KVxuICAgICAgICAgICAgbGV0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpXG4gICAgICAgICAgICB3aGlsZSAodGFza0NvbnRhaW5lci5jaGlsZE5vZGVzLmxlbmd0aCA+IDQpIHtcbiAgICAgICAgICAgICAgICB0YXNrQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRhc2tDb250YWluZXIuZmlyc3RDaGlsZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwcm9qZWN0SW5mbyA9IHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKVxuICAgICAgICAgICAgaWYgKHByb2plY3RJbmZvLnByb2plY3RBcnJheVtpbmRleF0udGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdEluZm8ucHJvamVjdEFycmF5W2luZGV4XS50YXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3VGFzayA9IHVwbG9hZFRhc2tzLnVwbG9hZChpKVxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpLmluc2VydEJlZm9yZShuZXdUYXNrLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza0J1dHRvbicpKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgICAgfSlcbiAgICAgICAgbGV0IGxhc3REaXYgPSBuZXdFbGVtZW50Lm1ha2VEaXYoXCJteC0yIHJlbGF0aXZlXCIpXG4gICAgICAgIGxldCBmaXJzdFNwYW4gPSBuZXdFbGVtZW50Lm90aGVyU3Bhbih0cnVlKVxuICAgICAgICBsZXQgc2VjU3BhbiA9IG5ld0VsZW1lbnQub3RoZXJTcGFuKGZhbHNlKVxuICAgICAgICBsZXQgaUxpZWREaXYgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJycsJycsJ0FkZCcpXG4gICAgICAgIGxhc3REaXYuYXBwZW5kKGZpcnN0U3Bhbiwgc2VjU3BhbilcbiAgICAgICAgbGFzdEJ0bi5hcHBlbmQobGFzdERpdiwgaUxpZWREaXYpXG4gICAgICAgIC8vIGxhc3RCdG4udGV4dENvbnRlbnQgPSAnQWRkJ1xuICAgICAgICB0d29TZWxlY3RvcnMuYXBwZW5kKGxhc3RCdG4pXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQodHdvU2VsZWN0b3JzKVxuICAgICAgICBmb3JtLmFwcGVuZChjb250YWluZXIpXG4gICAgICAgIG1vZGFsQm9keS5hcHBlbmQoZm9ybSlcbiAgICAgICAgZ29kRGl2LmFwcGVuZChtb2RhbEJvZHkpXG4gICAgICAgIHJldHVybiBnb2REaXZcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XG4gICAgICAgIGlmIChtb2RhbCA9PSBudWxsKSByZXR1cm5cbiAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgIH1cblxuICAgIHJldHVybiB7IHRhc2tNb2RhbCwgZWRpdE1vZGFsfVxufSkoKVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVNb2RhbCIsImltcG9ydCBnZXRJZCBmcm9tIFwiLi9nZXRJZFwiXG5pbXBvcnQgc3RvcmFnZSBmcm9tIFwiLi9sb2NhbFN0b3JhZ2VcIlxuXG5jb25zdCBraWxsVGFzayA9ICgoKSA9PiB7XG4gICAgY29uc3Qga2lsbCA9ICh0YXNrSWQpID0+IHtcbiAgICAgICAgbGV0IHRhc2tJZE5hbWUgPSAndGFzaycgKyB0YXNrSWRcbiAgICAgICAgbGV0IHByb2plY3RJbmRleCA9IGdldElkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpLmlubmVySFRNTClcbiAgICAgICAgbGV0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpXG4gICAgICAgIGNvbnRlbnREaXYucmVtb3ZlQ2hpbGQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFza0lkTmFtZSkpXG4gICAgICAgIGxldCB1cGRhdGVkUHJvamVjdCA9IHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKVxuICAgICAgICBpZiAocHJvamVjdEluZGV4ICE9IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5WzBdLnRhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWRQcm9qZWN0LnByb2plY3RBcnJheVswXS50YXNrc1tpXS5vYmplY3RpdmUgPT0gdXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5W3Byb2plY3RJbmRleF0udGFza3NbdGFza0lkXS5vYmplY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5WzBdLnRhc2tzLnNwbGljZShpLDEpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5W3Byb2plY3RJbmRleF0udGFza3Muc3BsaWNlKCh0YXNrSWQgLSByZXB0aXRpb25zKSwgMSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZWRQcm9qZWN0LnByb2plY3RBcnJheVtwcm9qZWN0SW5kZXhdLnRhc2tzLnNwbGljZSgodGFza0lkIC0gcmVwdGl0aW9ucyksIDEpXG4gICAgICAgIH1cbiAgICAgICAgc3RvcmFnZS51cGRhdGVQcm9qZWN0SW5mbyh1cGRhdGVkUHJvamVjdClcbiAgICAgICAgaWYgKHVwZGF0ZWRQcm9qZWN0LnByb2plY3RBcnJheVtwcm9qZWN0SW5kZXhdLnRhc2tzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXB0aXRpb25zID0gMFxuICAgICAgICB9IGVsc2Uge3JlcHRpdGlvbnMrK31cbiAgICB9XG5cbiAgICBsZXQgcmVwdGl0aW9ucyA9IDBcblxuICAgIHJldHVybiB7IGtpbGwsIHJlcHRpdGlvbnMgfVxufSkoKVxuXG5leHBvcnQgZGVmYXVsdCBraWxsVGFzayIsImltcG9ydCBuZXdFbGVtZW50IGZyb20gXCIuL2NyZWF0ZUVsZW1lbnRzXCJcbmltcG9ydCBjcmVhdGVNb2RhbCBmcm9tIFwiLi9jcmVhdGVNb2RhbFwiXG5pbXBvcnQgZ2V0SWQgZnJvbSBcIi4vZ2V0SWRcIlxuaW1wb3J0IGtpbGxUYXNrIGZyb20gXCIuL2tpbGxUYXNrXCJcbmltcG9ydCBzdG9yYWdlIGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiXG5cbmNvbnN0IHVwbG9hZFRhc2tzID0gKCgpID0+IHtcbiAgICBjb25zdCB1cGxvYWQgPSAoaWQpID0+IHtcbiAgICAgICAgbGV0IHRhc2tJZCA9ICd0YXNrJyArIGlkXG4gICAgICAgIGxldCB0YXNrRGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KCcnLCB0YXNrSWQpXG4gICAgICAgIGxldCBncmFuZEZhdGhlciA9IG5ld0VsZW1lbnQubWFrZURpdigncm91bmRlZC1bMTBweF0gZmxleCBqdXN0aWZ5LWJldHdlZW4gaG92ZXI6YmctWyNjY2NjY2NdIG1pbi1oLVszcmVtXSBpdGVtcy1jZW50ZXIgaG92ZXI6cmVsYXRpdmUgaG92ZXI6Ym90dG9tLTEgaG92ZXI6c2hhZG93LXhsIGZsZXgtY29sIGxnOmZsZXgtcm93IHB5LTInKVxuICAgICAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKVxuICAgICAgICBsZXQgaW5kZXggPSBnZXRJZCh0aXRsZS5pbm5lckhUTUwpXG4gICAgICAgIGxldCB0YXNrTmFtZSA9IG5ld0VsZW1lbnQubWFrZURpdignZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LXN0YXJ0IGxnOmp1c3RpZnktc3RhcnQgbGc6aXRlbXMtY2VudGVyIHctZnVsbCcpXG4gICAgICAgIGxldCBjaXJjbGUgPSBuZXdFbGVtZW50LmNpcmNsZVNwYW4oaWQsIHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKS5wcm9qZWN0QXJyYXlbaW5kZXhdLnRhc2tzW2lkXS5wcmlvcml0eSlcbiAgICAgICAgY2lyY2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAga2lsbFRhc2sua2lsbChpZClcbiAgICAgICAgfSlcbiAgICAgICAgbGV0IG9iamVjdFRpdGxlID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpLnByb2plY3RBcnJheVtpbmRleF0udGFza3NbaWRdLm9iamVjdGl2ZVxuICAgICAgICBsZXQgdGFza05hbWVTdHJpbmdEaXYgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJycsJycsIG9iamVjdFRpdGxlKVxuICAgICAgICB0YXNrTmFtZS5hcHBlbmQoY2lyY2xlLCB0YXNrTmFtZVN0cmluZ0RpdilcbiAgICAgICAgZ3JhbmRGYXRoZXIuYXBwZW5kKHRhc2tOYW1lKVxuICAgICAgICBsZXQgdGFza0h1YiA9IG5ld0VsZW1lbnQubWFrZURpdihcImZsZXggZ2FwLTYgbXItOFwiKVxuICAgICAgICBsZXQgZGV0YWlsRGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KClcbiAgICAgICAgbGV0IGRldGFpbHNCdXR0b24gPSBuZXdFbGVtZW50Lm1ha2VCdXR0b24oXCJob3ZlcjotdHJhbnNsYXRlLXktMSBob3ZlcjpzY2FsZS0xMTAgdHJhbnNpdGlvbiBlYXNlLWluLW91dCBkdXJhdGlvbi0zMDBcIiwgXCJcIiwgXCJEZXRhaWxzXCIpXG4gICAgICAgIGRldGFpbHNCdXR0b24uZGF0YXNldC5tb2RhbFRhcmdldCA9IGlkICsgJ01vZGFsJ1xuICAgICAgICBkZXRhaWxzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGRldGFpbHNNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRldGFpbHNCdXR0b24uZGF0YXNldC5tb2RhbFRhcmdldClcbiAgICAgICAgICAgIG9wZW5Nb2RhbChkZXRhaWxzTW9kYWwpXG4gICAgICAgIH0pXG4gICAgICAgIGxldCB0YXNrTW9kYWwgPSBjcmVhdGVNb2RhbC50YXNrTW9kYWwoaWQpXG4gICAgICAgIGRldGFpbERpdi5hcHBlbmQoZGV0YWlsc0J1dHRvbiwgdGFza01vZGFsKVxuICAgICAgICB0YXNrSHViLmFwcGVuZChkZXRhaWxEaXYpXG4gICAgICAgIGxldCBlZGl0SW1nID0gbmV3RWxlbWVudC5tYWtlRWRpdEltZyhpZClcbiAgICAgICAgZWRpdEltZy5kYXRhc2V0Lm1vZGFsVGFyZ2V0ID0gaWQgKyAnb3RoZXJNb2RhbCdcbiAgICAgICAgZWRpdEltZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBlZGl0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlZGl0SW1nLmRhdGFzZXQubW9kYWxUYXJnZXQpXG4gICAgICAgICAgICBvcGVuTW9kYWwoZWRpdE1vZGFsKVxuICAgICAgICB9KVxuICAgICAgICBsZXQgb3RoZXJFZGl0TW9kYWwgPSBjcmVhdGVNb2RhbC5lZGl0TW9kYWwoaWQpXG4gICAgICAgIHRhc2tIdWIuYXBwZW5kKGVkaXRJbWcsIG90aGVyRWRpdE1vZGFsKVxuICAgICAgICBsZXQgdHJhc2hJbWcgPSBuZXdFbGVtZW50Lm1ha2VUcmFzaEltZyhpZClcbiAgICAgICAgdHJhc2hJbWcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBraWxsVGFzay5raWxsKGlkKVxuICAgICAgICB9KVxuICAgICAgICB0YXNrSHViLmFwcGVuZCh0cmFzaEltZylcbiAgICAgICAgZ3JhbmRGYXRoZXIuYXBwZW5kKHRhc2tIdWIpXG4gICAgICAgIHRhc2tEaXYuYXBwZW5kKGdyYW5kRmF0aGVyKVxuICAgICAgICByZXR1cm4gdGFza0RpdlxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9wZW5Nb2RhbChtb2RhbCkge1xuICAgICAgICBpZiAobW9kYWwgPT0gbnVsbCkgcmV0dXJuXG4gICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XG4gICAgICAgIGlmIChtb2RhbCA9PSBudWxsKSByZXR1cm5cbiAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgIH1cbiAgICAgXG4gICAgcmV0dXJuIHsgdXBsb2FkIH1cbn0pKClcblxuZXhwb3J0IGRlZmF1bHQgdXBsb2FkVGFza3Ncbi8vIHRoZSBhcnJheSBoZXJlIGlzIGFuIGFycmF5IG9mIG9iamVjdHMgdGhhdCB3aGVyZSBtYWRlIHdpdGggbWFrZVRhc2tzIGZ1bmN0aW9uLCBjaGVjayBpdCBvdXQgaWYgeW91IGRvIG5vdCBrbm93IHdoYXQgcHJvcGVydGllcyB0aGUgb2JqZWN0IGhhcyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZGF0ZUJ1dHRvbnMoYnV0dG9uKSB7XG4gICAgYnV0dG9uLmZvckVhY2goIGJ0biA9PiB7XG4gICAgICAgIGxldCBuZXdCdG4gPSBidG4uY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICBidG4ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3QnRuLCBidG4pXG4gICAgfSlcbn0iLCJpbXBvcnQgdXBkYXRlQnV0dG9ucyBmcm9tIFwiLi91cGRhdGVCdXR0b25zXCJcbmltcG9ydCBzdG9yYWdlIGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiXG5pbXBvcnQgZ2V0SWQgZnJvbSBcIi4vZ2V0SWRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBraWxsUHJvamVjdCgpIHtcbiAgICBsZXQga2lsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5raWxsYmlsbCcpXG4gICAgdXBkYXRlQnV0dG9ucyhraWxsKVxuICAgIGtpbGxCaWxsQ2hhbmdlKClcblxuICAgIGZ1bmN0aW9uIGtpbGxCaWxsQ2hhbmdlKCkge1xuICAgICAgICBsZXQga2lsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5raWxsYmlsbCcpXG4gICAgICAgIGtpbGwuZm9yRWFjaCggYnRuID0+IHtcbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBidG4ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdnZXR0aW5nRGVsZXRlZCcpXG4gICAgICAgICAgICAgICAgbGV0IHByZXYgPSBidG4ucHJldmlvdXNFbGVtZW50U2libGluZ1xuICAgICAgICAgICAgICAgIGxldCBpZCA9IGdldElkKHByZXYuZGF0YXNldC5wcm9qZWN0TmFtZSlcbiAgICAgICAgICAgICAgICBsZXQgdXBkYXRlZFByb2plY3QgPSBzdG9yYWdlLmdldFByb2plY3RJdGVtKClcbiAgICAgICAgICAgICAgICB1cGRhdGVkUHJvamVjdC5uYW1lQXJyYXkuc3BsaWNlKGlkLCAxKVxuICAgICAgICAgICAgICAgIHVwZGF0ZWRQcm9qZWN0LnByb2plY3RBcnJheS5zcGxpY2UoaWQsIDEpXG4gICAgICAgICAgICAgICAgbGV0IHByb2plY3ROYW1lID0gYnRuLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuZGF0YXNldC5wcm9qZWN0TmFtZS50cmltKClcbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5WzBdLnRhc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1cGRhdGVkUHJvamVjdC5wcm9qZWN0QXJyYXlbMF0udGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkUHJvamVjdC5wcm9qZWN0QXJyYXlbMF0udGFza3NbaV0ucHJvamVjdCA9PSBwcm9qZWN0TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRQcm9qZWN0LnByb2plY3RBcnJheVswXS50YXNrcy5zcGxpY2UoaSwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpIC09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdG9yYWdlLnVwZGF0ZVByb2plY3RJbmZvKHVwZGF0ZWRQcm9qZWN0KVxuICAgICAgICAgICAgICAgIGJ0bi5wYXJlbnRFbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbn0iLCJpbXBvcnQgcHJvamVjdEluZm9ybWF0aW9uIGZyb20gXCIuL3Byb2plY3RJbmZvcm1hdGlvblwiXG5pbXBvcnQgdXBsb2FkVGFza3MgZnJvbSBcIi4vdXBsb2FkVGFza3NcIlxuaW1wb3J0IGRvbU1hbiBmcm9tIFwiLi9kb21NYW5pcHVsYXRpb25cIlxuaW1wb3J0IHVwZGF0ZUJ1dHRvbnMgZnJvbSBcIi4vdXBkYXRlQnV0dG9uc1wiXG5pbXBvcnQga2lsbFByb2plY3QgZnJvbSBcIi4va2lsbFByb2plY3RcIlxuXG5jb25zdCBzdG9yYWdlID0gKCgpID0+IHtcbiAgICBjb25zdCBpbml0aWFsaXplID0gKCkgPT4ge1xuICAgICAgICBsZXQgbmV3T2JqZWN0ID0gZ2V0UHJvamVjdEl0ZW0oKVxuICAgICAgICB1cGRhdGVQcm9qZWN0SW5mbyhuZXdPYmplY3QpXG4gICAgICAgIGlmIChnZXRQcm9qZWN0SXRlbSgpLnByb2plY3RBcnJheVswXS50YXNrcy5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZXRQcm9qZWN0SXRlbSgpLnByb2plY3RBcnJheVswXS50YXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBuZXdUYXNrID0gdXBsb2FkVGFza3MudXBsb2FkKGkpXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKS5pbnNlcnRCZWZvcmUobmV3VGFzaywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tCdXR0b24nKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsb2FkUHJvamVjdERvbSgpXG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlUHJvamVjdEluZm8gPSAodXBkYXRlZE9iamVjdCkgPT4ge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdEluZm8nLCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkT2JqZWN0KSlcbiAgICB9XG5cbiAgICBjb25zdCBnZXRQcm9qZWN0SXRlbSA9ICgpID0+IHtcbiAgICAgICAgbGV0IGl0ZW0gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0SW5mbycpKVxuICAgICAgICByZXR1cm4gaXRlbVxuICAgIH1cblxuICAgIGNvbnN0IGxvYWRQcm9qZWN0RG9tID0gKCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMzsgaSA8IGdldFByb2plY3RJdGVtKCkubmFtZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcHJvamVjdE5hbWUgPSBnZXRQcm9qZWN0SXRlbSgpLm5hbWVBcnJheVtpXVxuICAgICAgICAgICAgY29uc3QgYWRkT24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkaXRpb25hbFByb2plY3RzJylcbiAgICAgICAgICAgIGNvbnN0IGJ0biA9IGRvbU1hbi5tYWtlQnRuKFtcImhvdmVyOmJnLVsjY2NjY2NjXVwiLCBcInJvdW5kZWQtbWRcIiwgXCJ3LWZ1bGxcIiwgXCJweS0yXCIsIFwiZmxleFwiLCBcImp1c3RpZnktYmV0d2VlblwiLCBcIml0ZW1zLWNlbnRlclwiLCBcImgtMTJcIiwgXCJweC0xXCIsICdkaXJlY3RvcnknXSlcbiAgICAgICAgICAgIGNvbnN0IGltZyA9IGRvbU1hbi5tYWtlSW1nKFtcImgtWzEuM3JlbV1cIiwgXCJ3LVsxLjNyZW1dXCIsIFwiZmxleFwiLCBcImp1c3RpZnktc3RhcnRcIiwgXCJpdGVtcy1jZW50ZXJcIiwgXCJteC00XCIsIFwiYm94LWNvbnRlbnRcIl0pXG4gICAgICAgICAgICBjb25zdCBkaXYgPSBkb21NYW4ubWFrZURpdihwcm9qZWN0TmFtZSlcbiAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdjbG9zZXN0JylcbiAgICAgICAgICAgIGNvbnN0IHggPSBkb21NYW4ubWFrZVgoWydtbC00Jywnei0xMCcsJ2ZsZXgnLCdqdXN0aWZ5LWVuZCcsICdraWxsYmlsbCddKVxuICAgICAgICAgICAgYnRuLmFwcGVuZChpbWcpXG4gICAgICAgICAgICBidG4uYXBwZW5kKGRpdilcbiAgICAgICAgICAgIGJ0bi5hcHBlbmQoeClcbiAgICAgICAgICAgIGFkZE9uLmluc2VydEJlZm9yZShidG4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRCZWZvcmUnKSlcbiAgICAgICAgICAgIHVwZGF0ZUJ1dHRvbnMoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpcmVjdG9yeScpKVxuICAgICAgICAgICAgZG9tTWFuLmJ1dHRvbkNoYW5nZSgpXG4gICAgICAgICAgICBraWxsUHJvamVjdCgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyB1cGRhdGVQcm9qZWN0SW5mbywgZ2V0UHJvamVjdEl0ZW0sIGluaXRpYWxpemUsIH1cbn0pKClcblxuZXhwb3J0IGRlZmF1bHQgc3RvcmFnZSIsImltcG9ydCBpRmFjdG9yeSBmcm9tIFwiLi9pbmZvcm1hdGlvbkZhY3RvcnlcIjtcbmltcG9ydCBzdG9yYWdlIGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiO1xuXG5jb25zdCBwcm9qZWN0SW5mb3JtYXRpb24gPSAoKCkgPT4ge1xuICAgIC8vIHRoaXMgaXMgdGhlIHByb2plY3QgbmFtZSBpbmZvcm1hdGlvbiBhcnJheSB0aGF0IHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSB0YXNrIGluZm9ybWF0aW9uIG9iamVjdCBhcnJheVxuICAgIGNvbnN0IG5hbWVBcnJheSA9IFtdXG4gICAgY29uc3QgcHJvamVjdEFycmF5ID0gW11cbiAgICAvLyB0aGVzZSBhcmUgdGhlIGJhc2UgcHJvamVjdCBmaWxlcyB0aGF0IHdpbGwgYmUgcHJlbG9hZGVkIGludG8gdGhlIGRvbVxuICAgIGNvbnN0IGJhc2VQcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByb2plY3QtbmFtZV0nKVxuICAgIGJhc2VQcm9qZWN0cy5mb3JFYWNoKCBwcm9qZWN0ID0+IHtcbiAgICAgICAgbmFtZUFycmF5LnB1c2gocHJvamVjdC5kYXRhc2V0LnByb2plY3ROYW1lKVxuICAgICAgICBsZXQgZWxlbWVudCA9IGlGYWN0b3J5KHByb2plY3QuZGF0YXNldC5wcm9qZWN0TmFtZSlcbiAgICAgICAgcHJvamVjdEFycmF5LnB1c2goZWxlbWVudClcbiAgICB9KVxuICAgIHJldHVybiB7bmFtZUFycmF5LCBwcm9qZWN0QXJyYXl9XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9qZWN0SW5mb3JtYXRpb24iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXF1aXJlZEFyZ3MocmVxdWlyZWQsIGFyZ3MpIHtcbiAgaWYgKGFyZ3MubGVuZ3RoIDwgcmVxdWlyZWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHJlcXVpcmVkICsgJyBhcmd1bWVudCcgKyAocmVxdWlyZWQgPiAxID8gJ3MnIDogJycpICsgJyByZXF1aXJlZCwgYnV0IG9ubHkgJyArIGFyZ3MubGVuZ3RoICsgJyBwcmVzZW50Jyk7XG4gIH1cbn0iLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIHRvRGF0ZVxuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ29udmVydCB0aGUgZ2l2ZW4gYXJndW1lbnQgdG8gYW4gaW5zdGFuY2Ugb2YgRGF0ZS5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgYW4gaW5zdGFuY2Ugb2YgRGF0ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgaXRzIGNsb25lLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhIG51bWJlciwgaXQgaXMgdHJlYXRlZCBhcyBhIHRpbWVzdGFtcC5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgbm9uZSBvZiB0aGUgYWJvdmUsIHRoZSBmdW5jdGlvbiByZXR1cm5zIEludmFsaWQgRGF0ZS5cbiAqXG4gKiAqKk5vdGUqKjogKmFsbCogRGF0ZSBhcmd1bWVudHMgcGFzc2VkIHRvIGFueSAqZGF0ZS1mbnMqIGZ1bmN0aW9uIGlzIHByb2Nlc3NlZCBieSBgdG9EYXRlYC5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBhcmd1bWVudCAtIHRoZSB2YWx1ZSB0byBjb252ZXJ0XG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIHBhcnNlZCBkYXRlIGluIHRoZSBsb2NhbCB0aW1lIHpvbmVcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDbG9uZSB0aGUgZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IHRvRGF0ZShuZXcgRGF0ZSgyMDE0LCAxLCAxMSwgMTEsIDMwLCAzMCkpXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDb252ZXJ0IHRoZSB0aW1lc3RhbXAgdG8gZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IHRvRGF0ZSgxMzkyMDk4NDMwMDAwKVxuICogLy89PiBUdWUgRmViIDExIDIwMTQgMTE6MzA6MzBcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b0RhdGUoYXJndW1lbnQpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBhcmdTdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnQpOyAvLyBDbG9uZSB0aGUgZGF0ZVxuXG4gIGlmIChhcmd1bWVudCBpbnN0YW5jZW9mIERhdGUgfHwgX3R5cGVvZihhcmd1bWVudCkgPT09ICdvYmplY3QnICYmIGFyZ1N0ciA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgLy8gUHJldmVudCB0aGUgZGF0ZSB0byBsb3NlIHRoZSBtaWxsaXNlY29uZHMgd2hlbiBwYXNzZWQgdG8gbmV3IERhdGUoKSBpbiBJRTEwXG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50LmdldFRpbWUoKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50ID09PSAnbnVtYmVyJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IE51bWJlcl0nKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoKHR5cGVvZiBhcmd1bWVudCA9PT0gJ3N0cmluZycgfHwgYXJnU3RyID09PSAnW29iamVjdCBTdHJpbmddJykgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFwiU3RhcnRpbmcgd2l0aCB2Mi4wLjAtYmV0YS4xIGRhdGUtZm5zIGRvZXNuJ3QgYWNjZXB0IHN0cmluZ3MgYXMgZGF0ZSBhcmd1bWVudHMuIFBsZWFzZSB1c2UgYHBhcnNlSVNPYCB0byBwYXJzZSBzdHJpbmdzLiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNzdHJpbmctYXJndW1lbnRzXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXG4gICAgICBjb25zb2xlLndhcm4obmV3IEVycm9yKCkuc3RhY2spO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB9XG59IiwiaW1wb3J0IHRvRGF0ZSBmcm9tIFwiLi4vdG9EYXRlL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBpc0JlZm9yZVxuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBJcyB0aGUgZmlyc3QgZGF0ZSBiZWZvcmUgdGhlIHNlY29uZCBvbmU/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBJcyB0aGUgZmlyc3QgZGF0ZSBiZWZvcmUgdGhlIHNlY29uZCBvbmU/XG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBkYXRlIHRoYXQgc2hvdWxkIGJlIGJlZm9yZSB0aGUgb3RoZXIgb25lIHRvIHJldHVybiB0cnVlXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlVG9Db21wYXJlIC0gdGhlIGRhdGUgdG8gY29tcGFyZSB3aXRoXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdGhlIGZpcnN0IGRhdGUgaXMgYmVmb3JlIHRoZSBzZWNvbmQgZGF0ZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJcyAxMCBKdWx5IDE5ODkgYmVmb3JlIDExIEZlYnJ1YXJ5IDE5ODc/XG4gKiBjb25zdCByZXN1bHQgPSBpc0JlZm9yZShuZXcgRGF0ZSgxOTg5LCA2LCAxMCksIG5ldyBEYXRlKDE5ODcsIDEsIDExKSlcbiAqIC8vPT4gZmFsc2VcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0JlZm9yZShkaXJ0eURhdGUsIGRpcnR5RGF0ZVRvQ29tcGFyZSkge1xuICByZXF1aXJlZEFyZ3MoMiwgYXJndW1lbnRzKTtcbiAgdmFyIGRhdGUgPSB0b0RhdGUoZGlydHlEYXRlKTtcbiAgdmFyIGRhdGVUb0NvbXBhcmUgPSB0b0RhdGUoZGlydHlEYXRlVG9Db21wYXJlKTtcbiAgcmV0dXJuIGRhdGUuZ2V0VGltZSgpIDwgZGF0ZVRvQ29tcGFyZS5nZXRUaW1lKCk7XG59IiwiLyoqXG4gKiBEYXlzIGluIDEgd2Vlay5cbiAqXG4gKiBAbmFtZSBkYXlzSW5XZWVrXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdFxuICovXG5leHBvcnQgdmFyIGRheXNJbldlZWsgPSA3O1xuLyoqXG4gKiBEYXlzIGluIDEgeWVhclxuICogT25lIHllYXJzIGVxdWFscyAzNjUuMjQyNSBkYXlzIGFjY29yZGluZyB0byB0aGUgZm9ybXVsYTpcbiAqXG4gKiA+IExlYXAgeWVhciBvY2N1cmVzIGV2ZXJ5IDQgeWVhcnMsIGV4Y2VwdCBmb3IgeWVhcnMgdGhhdCBhcmUgZGl2aXNhYmxlIGJ5IDEwMCBhbmQgbm90IGRpdmlzYWJsZSBieSA0MDAuXG4gKiA+IDEgbWVhbiB5ZWFyID0gKDM2NSsxLzQtMS8xMDArMS80MDApIGRheXMgPSAzNjUuMjQyNSBkYXlzXG4gKlxuICogQG5hbWUgZGF5c0luWWVhclxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIGRheXNJblllYXIgPSAzNjUuMjQyNTtcbi8qKlxuICogTWF4aW11bSBhbGxvd2VkIHRpbWUuXG4gKlxuICogQG5hbWUgbWF4VGltZVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIG1heFRpbWUgPSBNYXRoLnBvdygxMCwgOCkgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuLyoqXG4gKiBNaWxsaXNlY29uZHMgaW4gMSBtaW51dGVcbiAqXG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJbk1pbnV0ZVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIG1pbGxpc2Vjb25kc0luTWludXRlID0gNjAwMDA7XG4vKipcbiAqIE1pbGxpc2Vjb25kcyBpbiAxIGhvdXJcbiAqXG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJbkhvdXJcbiAqIEBjb25zdGFudFxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0XG4gKi9cblxuZXhwb3J0IHZhciBtaWxsaXNlY29uZHNJbkhvdXIgPSAzNjAwMDAwO1xuLyoqXG4gKiBNaWxsaXNlY29uZHMgaW4gMSBzZWNvbmRcbiAqXG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJblNlY29uZFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIG1pbGxpc2Vjb25kc0luU2Vjb25kID0gMTAwMDtcbi8qKlxuICogTWluaW11bSBhbGxvd2VkIHRpbWUuXG4gKlxuICogQG5hbWUgbWluVGltZVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIG1pblRpbWUgPSAtbWF4VGltZTtcbi8qKlxuICogTWludXRlcyBpbiAxIGhvdXJcbiAqXG4gKiBAbmFtZSBtaW51dGVzSW5Ib3VyXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdFxuICovXG5cbmV4cG9ydCB2YXIgbWludXRlc0luSG91ciA9IDYwO1xuLyoqXG4gKiBNb250aHMgaW4gMSBxdWFydGVyXG4gKlxuICogQG5hbWUgbW9udGhzSW5RdWFydGVyXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdFxuICovXG5cbmV4cG9ydCB2YXIgbW9udGhzSW5RdWFydGVyID0gMztcbi8qKlxuICogTW9udGhzIGluIDEgeWVhclxuICpcbiAqIEBuYW1lIG1vbnRoc0luWWVhclxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIG1vbnRoc0luWWVhciA9IDEyO1xuLyoqXG4gKiBRdWFydGVycyBpbiAxIHllYXJcbiAqXG4gKiBAbmFtZSBxdWFydGVyc0luWWVhclxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIHF1YXJ0ZXJzSW5ZZWFyID0gNDtcbi8qKlxuICogU2Vjb25kcyBpbiAxIGhvdXJcbiAqXG4gKiBAbmFtZSBzZWNvbmRzSW5Ib3VyXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdFxuICovXG5cbmV4cG9ydCB2YXIgc2Vjb25kc0luSG91ciA9IDM2MDA7XG4vKipcbiAqIFNlY29uZHMgaW4gMSBtaW51dGVcbiAqXG4gKiBAbmFtZSBzZWNvbmRzSW5NaW51dGVcbiAqIEBjb25zdGFudFxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0XG4gKi9cblxuZXhwb3J0IHZhciBzZWNvbmRzSW5NaW51dGUgPSA2MDtcbi8qKlxuICogU2Vjb25kcyBpbiAxIGRheVxuICpcbiAqIEBuYW1lIHNlY29uZHNJbkRheVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIHNlY29uZHNJbkRheSA9IHNlY29uZHNJbkhvdXIgKiAyNDtcbi8qKlxuICogU2Vjb25kcyBpbiAxIHdlZWtcbiAqXG4gKiBAbmFtZSBzZWNvbmRzSW5XZWVrXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdFxuICovXG5cbmV4cG9ydCB2YXIgc2Vjb25kc0luV2VlayA9IHNlY29uZHNJbkRheSAqIDc7XG4vKipcbiAqIFNlY29uZHMgaW4gMSB5ZWFyXG4gKlxuICogQG5hbWUgc2Vjb25kc0luWWVhclxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIHNlY29uZHNJblllYXIgPSBzZWNvbmRzSW5EYXkgKiBkYXlzSW5ZZWFyO1xuLyoqXG4gKiBTZWNvbmRzIGluIDEgbW9udGhcbiAqXG4gKiBAbmFtZSBzZWNvbmRzSW5Nb250aFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIHNlY29uZHNJbk1vbnRoID0gc2Vjb25kc0luWWVhciAvIDEyO1xuLyoqXG4gKiBTZWNvbmRzIGluIDEgcXVhcnRlclxuICpcbiAqIEBuYW1lIHNlY29uZHNJblF1YXJ0ZXJcbiAqIEBjb25zdGFudFxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0XG4gKi9cblxuZXhwb3J0IHZhciBzZWNvbmRzSW5RdWFydGVyID0gc2Vjb25kc0luTW9udGggKiAzOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvSW50ZWdlcihkaXJ0eU51bWJlcikge1xuICBpZiAoZGlydHlOdW1iZXIgPT09IG51bGwgfHwgZGlydHlOdW1iZXIgPT09IHRydWUgfHwgZGlydHlOdW1iZXIgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIE5hTjtcbiAgfVxuXG4gIHZhciBudW1iZXIgPSBOdW1iZXIoZGlydHlOdW1iZXIpO1xuXG4gIGlmIChpc05hTihudW1iZXIpKSB7XG4gICAgcmV0dXJuIG51bWJlcjtcbiAgfVxuXG4gIHJldHVybiBudW1iZXIgPCAwID8gTWF0aC5jZWlsKG51bWJlcikgOiBNYXRoLmZsb29yKG51bWJlcik7XG59IiwiaW1wb3J0IHsgbWlsbGlzZWNvbmRzSW5Ib3VyLCBtaWxsaXNlY29uZHNJbk1pbnV0ZSB9IGZyb20gXCIuLi9jb25zdGFudHMvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG5pbXBvcnQgdG9JbnRlZ2VyIGZyb20gXCIuLi9fbGliL3RvSW50ZWdlci9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBwYXJzZUlTT1xuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBQYXJzZSBJU08gc3RyaW5nXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gc3RyaW5nIGluIElTTyA4NjAxIGZvcm1hdCBhbmQgcmV0dXJuIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogRnVuY3Rpb24gYWNjZXB0cyBjb21wbGV0ZSBJU08gODYwMSBmb3JtYXRzIGFzIHdlbGwgYXMgcGFydGlhbCBpbXBsZW1lbnRhdGlvbnMuXG4gKiBJU08gODYwMTogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fODYwMVxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpc24ndCBhIHN0cmluZywgdGhlIGZ1bmN0aW9uIGNhbm5vdCBwYXJzZSB0aGUgc3RyaW5nIG9yXG4gKiB0aGUgdmFsdWVzIGFyZSBpbnZhbGlkLCBpdCByZXR1cm5zIEludmFsaWQgRGF0ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYXJndW1lbnQgLSB0aGUgdmFsdWUgdG8gY29udmVydFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMuXG4gKiBAcGFyYW0gezB8MXwyfSBbb3B0aW9ucy5hZGRpdGlvbmFsRGlnaXRzPTJdIC0gdGhlIGFkZGl0aW9uYWwgbnVtYmVyIG9mIGRpZ2l0cyBpbiB0aGUgZXh0ZW5kZWQgeWVhciBmb3JtYXRcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgcGFyc2VkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgb3B0aW9ucy5hZGRpdGlvbmFsRGlnaXRzYCBtdXN0IGJlIDAsIDEgb3IgMlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDb252ZXJ0IHN0cmluZyAnMjAxNC0wMi0xMVQxMTozMDozMCcgdG8gZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IHBhcnNlSVNPKCcyMDE0LTAyLTExVDExOjMwOjMwJylcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgc3RyaW5nICcrMDIwMTQxMDEnIHRvIGRhdGUsXG4gKiAvLyBpZiB0aGUgYWRkaXRpb25hbCBudW1iZXIgb2YgZGlnaXRzIGluIHRoZSBleHRlbmRlZCB5ZWFyIGZvcm1hdCBpcyAxOlxuICogY29uc3QgcmVzdWx0ID0gcGFyc2VJU08oJyswMjAxNDEwMScsIHsgYWRkaXRpb25hbERpZ2l0czogMSB9KVxuICogLy89PiBGcmkgQXByIDExIDIwMTQgMDA6MDA6MDBcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZUlTTyhhcmd1bWVudCwgb3B0aW9ucykge1xuICB2YXIgX29wdGlvbnMkYWRkaXRpb25hbERpO1xuXG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICB2YXIgYWRkaXRpb25hbERpZ2l0cyA9IHRvSW50ZWdlcigoX29wdGlvbnMkYWRkaXRpb25hbERpID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmFkZGl0aW9uYWxEaWdpdHMpICE9PSBudWxsICYmIF9vcHRpb25zJGFkZGl0aW9uYWxEaSAhPT0gdm9pZCAwID8gX29wdGlvbnMkYWRkaXRpb25hbERpIDogMik7XG5cbiAgaWYgKGFkZGl0aW9uYWxEaWdpdHMgIT09IDIgJiYgYWRkaXRpb25hbERpZ2l0cyAhPT0gMSAmJiBhZGRpdGlvbmFsRGlnaXRzICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2FkZGl0aW9uYWxEaWdpdHMgbXVzdCBiZSAwLCAxIG9yIDInKTtcbiAgfVxuXG4gIGlmICghKHR5cGVvZiBhcmd1bWVudCA9PT0gJ3N0cmluZycgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KSA9PT0gJ1tvYmplY3QgU3RyaW5nXScpKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cblxuICB2YXIgZGF0ZVN0cmluZ3MgPSBzcGxpdERhdGVTdHJpbmcoYXJndW1lbnQpO1xuICB2YXIgZGF0ZTtcblxuICBpZiAoZGF0ZVN0cmluZ3MuZGF0ZSkge1xuICAgIHZhciBwYXJzZVllYXJSZXN1bHQgPSBwYXJzZVllYXIoZGF0ZVN0cmluZ3MuZGF0ZSwgYWRkaXRpb25hbERpZ2l0cyk7XG4gICAgZGF0ZSA9IHBhcnNlRGF0ZShwYXJzZVllYXJSZXN1bHQucmVzdERhdGVTdHJpbmcsIHBhcnNlWWVhclJlc3VsdC55ZWFyKTtcbiAgfVxuXG4gIGlmICghZGF0ZSB8fCBpc05hTihkYXRlLmdldFRpbWUoKSkpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgfVxuXG4gIHZhciB0aW1lc3RhbXAgPSBkYXRlLmdldFRpbWUoKTtcbiAgdmFyIHRpbWUgPSAwO1xuICB2YXIgb2Zmc2V0O1xuXG4gIGlmIChkYXRlU3RyaW5ncy50aW1lKSB7XG4gICAgdGltZSA9IHBhcnNlVGltZShkYXRlU3RyaW5ncy50aW1lKTtcblxuICAgIGlmIChpc05hTih0aW1lKSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRhdGVTdHJpbmdzLnRpbWV6b25lKSB7XG4gICAgb2Zmc2V0ID0gcGFyc2VUaW1lem9uZShkYXRlU3RyaW5ncy50aW1lem9uZSk7XG5cbiAgICBpZiAoaXNOYU4ob2Zmc2V0KSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBkaXJ0eURhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXAgKyB0aW1lKTsgLy8ganMgcGFyc2VkIHN0cmluZyBhc3N1bWluZyBpdCdzIGluIFVUQyB0aW1lem9uZVxuICAgIC8vIGJ1dCB3ZSBuZWVkIGl0IHRvIGJlIHBhcnNlZCBpbiBvdXIgdGltZXpvbmVcbiAgICAvLyBzbyB3ZSB1c2UgdXRjIHZhbHVlcyB0byBidWlsZCBkYXRlIGluIG91ciB0aW1lem9uZS5cbiAgICAvLyBZZWFyIHZhbHVlcyBmcm9tIDAgdG8gOTkgbWFwIHRvIHRoZSB5ZWFycyAxOTAwIHRvIDE5OTlcbiAgICAvLyBzbyBzZXQgeWVhciBleHBsaWNpdGx5IHdpdGggc2V0RnVsbFllYXIuXG5cbiAgICB2YXIgcmVzdWx0ID0gbmV3IERhdGUoMCk7XG4gICAgcmVzdWx0LnNldEZ1bGxZZWFyKGRpcnR5RGF0ZS5nZXRVVENGdWxsWWVhcigpLCBkaXJ0eURhdGUuZ2V0VVRDTW9udGgoKSwgZGlydHlEYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgcmVzdWx0LnNldEhvdXJzKGRpcnR5RGF0ZS5nZXRVVENIb3VycygpLCBkaXJ0eURhdGUuZ2V0VVRDTWludXRlcygpLCBkaXJ0eURhdGUuZ2V0VVRDU2Vjb25kcygpLCBkaXJ0eURhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCkpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wICsgdGltZSArIG9mZnNldCk7XG59XG52YXIgcGF0dGVybnMgPSB7XG4gIGRhdGVUaW1lRGVsaW1pdGVyOiAvW1QgXS8sXG4gIHRpbWVab25lRGVsaW1pdGVyOiAvW1ogXS9pLFxuICB0aW1lem9uZTogLyhbWistXS4qKSQvXG59O1xudmFyIGRhdGVSZWdleCA9IC9eLT8oPzooXFxkezN9KXwoXFxkezJ9KSg/Oi0/KFxcZHsyfSkpP3xXKFxcZHsyfSkoPzotPyhcXGR7MX0pKT98KSQvO1xudmFyIHRpbWVSZWdleCA9IC9eKFxcZHsyfSg/OlsuLF1cXGQqKT8pKD86Oj8oXFxkezJ9KD86Wy4sXVxcZCopPykpPyg/Ojo/KFxcZHsyfSg/OlsuLF1cXGQqKT8pKT8kLztcbnZhciB0aW1lem9uZVJlZ2V4ID0gL14oWystXSkoXFxkezJ9KSg/Ojo/KFxcZHsyfSkpPyQvO1xuXG5mdW5jdGlvbiBzcGxpdERhdGVTdHJpbmcoZGF0ZVN0cmluZykge1xuICB2YXIgZGF0ZVN0cmluZ3MgPSB7fTtcbiAgdmFyIGFycmF5ID0gZGF0ZVN0cmluZy5zcGxpdChwYXR0ZXJucy5kYXRlVGltZURlbGltaXRlcik7XG4gIHZhciB0aW1lU3RyaW5nOyAvLyBUaGUgcmVnZXggbWF0Y2ggc2hvdWxkIG9ubHkgcmV0dXJuIGF0IG1heGltdW0gdHdvIGFycmF5IGVsZW1lbnRzLlxuICAvLyBbZGF0ZV0sIFt0aW1lXSwgb3IgW2RhdGUsIHRpbWVdLlxuXG4gIGlmIChhcnJheS5sZW5ndGggPiAyKSB7XG4gICAgcmV0dXJuIGRhdGVTdHJpbmdzO1xuICB9XG5cbiAgaWYgKC86Ly50ZXN0KGFycmF5WzBdKSkge1xuICAgIHRpbWVTdHJpbmcgPSBhcnJheVswXTtcbiAgfSBlbHNlIHtcbiAgICBkYXRlU3RyaW5ncy5kYXRlID0gYXJyYXlbMF07XG4gICAgdGltZVN0cmluZyA9IGFycmF5WzFdO1xuXG4gICAgaWYgKHBhdHRlcm5zLnRpbWVab25lRGVsaW1pdGVyLnRlc3QoZGF0ZVN0cmluZ3MuZGF0ZSkpIHtcbiAgICAgIGRhdGVTdHJpbmdzLmRhdGUgPSBkYXRlU3RyaW5nLnNwbGl0KHBhdHRlcm5zLnRpbWVab25lRGVsaW1pdGVyKVswXTtcbiAgICAgIHRpbWVTdHJpbmcgPSBkYXRlU3RyaW5nLnN1YnN0cihkYXRlU3RyaW5ncy5kYXRlLmxlbmd0aCwgZGF0ZVN0cmluZy5sZW5ndGgpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aW1lU3RyaW5nKSB7XG4gICAgdmFyIHRva2VuID0gcGF0dGVybnMudGltZXpvbmUuZXhlYyh0aW1lU3RyaW5nKTtcblxuICAgIGlmICh0b2tlbikge1xuICAgICAgZGF0ZVN0cmluZ3MudGltZSA9IHRpbWVTdHJpbmcucmVwbGFjZSh0b2tlblsxXSwgJycpO1xuICAgICAgZGF0ZVN0cmluZ3MudGltZXpvbmUgPSB0b2tlblsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0ZVN0cmluZ3MudGltZSA9IHRpbWVTdHJpbmc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRhdGVTdHJpbmdzO1xufVxuXG5mdW5jdGlvbiBwYXJzZVllYXIoZGF0ZVN0cmluZywgYWRkaXRpb25hbERpZ2l0cykge1xuICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCdeKD86KFxcXFxkezR9fFsrLV1cXFxcZHsnICsgKDQgKyBhZGRpdGlvbmFsRGlnaXRzKSArICd9KXwoXFxcXGR7Mn18WystXVxcXFxkeycgKyAoMiArIGFkZGl0aW9uYWxEaWdpdHMpICsgJ30pJCknKTtcbiAgdmFyIGNhcHR1cmVzID0gZGF0ZVN0cmluZy5tYXRjaChyZWdleCk7IC8vIEludmFsaWQgSVNPLWZvcm1hdHRlZCB5ZWFyXG5cbiAgaWYgKCFjYXB0dXJlcykgcmV0dXJuIHtcbiAgICB5ZWFyOiBOYU4sXG4gICAgcmVzdERhdGVTdHJpbmc6ICcnXG4gIH07XG4gIHZhciB5ZWFyID0gY2FwdHVyZXNbMV0gPyBwYXJzZUludChjYXB0dXJlc1sxXSkgOiBudWxsO1xuICB2YXIgY2VudHVyeSA9IGNhcHR1cmVzWzJdID8gcGFyc2VJbnQoY2FwdHVyZXNbMl0pIDogbnVsbDsgLy8gZWl0aGVyIHllYXIgb3IgY2VudHVyeSBpcyBudWxsLCBub3QgYm90aFxuXG4gIHJldHVybiB7XG4gICAgeWVhcjogY2VudHVyeSA9PT0gbnVsbCA/IHllYXIgOiBjZW50dXJ5ICogMTAwLFxuICAgIHJlc3REYXRlU3RyaW5nOiBkYXRlU3RyaW5nLnNsaWNlKChjYXB0dXJlc1sxXSB8fCBjYXB0dXJlc1syXSkubGVuZ3RoKVxuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZURhdGUoZGF0ZVN0cmluZywgeWVhcikge1xuICAvLyBJbnZhbGlkIElTTy1mb3JtYXR0ZWQgeWVhclxuICBpZiAoeWVhciA9PT0gbnVsbCkgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIHZhciBjYXB0dXJlcyA9IGRhdGVTdHJpbmcubWF0Y2goZGF0ZVJlZ2V4KTsgLy8gSW52YWxpZCBJU08tZm9ybWF0dGVkIHN0cmluZ1xuXG4gIGlmICghY2FwdHVyZXMpIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB2YXIgaXNXZWVrRGF0ZSA9ICEhY2FwdHVyZXNbNF07XG4gIHZhciBkYXlPZlllYXIgPSBwYXJzZURhdGVVbml0KGNhcHR1cmVzWzFdKTtcbiAgdmFyIG1vbnRoID0gcGFyc2VEYXRlVW5pdChjYXB0dXJlc1syXSkgLSAxO1xuICB2YXIgZGF5ID0gcGFyc2VEYXRlVW5pdChjYXB0dXJlc1szXSk7XG4gIHZhciB3ZWVrID0gcGFyc2VEYXRlVW5pdChjYXB0dXJlc1s0XSk7XG4gIHZhciBkYXlPZldlZWsgPSBwYXJzZURhdGVVbml0KGNhcHR1cmVzWzVdKSAtIDE7XG5cbiAgaWYgKGlzV2Vla0RhdGUpIHtcbiAgICBpZiAoIXZhbGlkYXRlV2Vla0RhdGUoeWVhciwgd2VlaywgZGF5T2ZXZWVrKSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRheU9mSVNPV2Vla1llYXIoeWVhciwgd2VlaywgZGF5T2ZXZWVrKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApO1xuXG4gICAgaWYgKCF2YWxpZGF0ZURhdGUoeWVhciwgbW9udGgsIGRheSkgfHwgIXZhbGlkYXRlRGF5T2ZZZWFyRGF0ZSh5ZWFyLCBkYXlPZlllYXIpKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgICB9XG5cbiAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHllYXIsIG1vbnRoLCBNYXRoLm1heChkYXlPZlllYXIsIGRheSkpO1xuICAgIHJldHVybiBkYXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlRGF0ZVVuaXQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID8gcGFyc2VJbnQodmFsdWUpIDogMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUaW1lKHRpbWVTdHJpbmcpIHtcbiAgdmFyIGNhcHR1cmVzID0gdGltZVN0cmluZy5tYXRjaCh0aW1lUmVnZXgpO1xuICBpZiAoIWNhcHR1cmVzKSByZXR1cm4gTmFOOyAvLyBJbnZhbGlkIElTTy1mb3JtYXR0ZWQgdGltZVxuXG4gIHZhciBob3VycyA9IHBhcnNlVGltZVVuaXQoY2FwdHVyZXNbMV0pO1xuICB2YXIgbWludXRlcyA9IHBhcnNlVGltZVVuaXQoY2FwdHVyZXNbMl0pO1xuICB2YXIgc2Vjb25kcyA9IHBhcnNlVGltZVVuaXQoY2FwdHVyZXNbM10pO1xuXG4gIGlmICghdmFsaWRhdGVUaW1lKGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzKSkge1xuICAgIHJldHVybiBOYU47XG4gIH1cblxuICByZXR1cm4gaG91cnMgKiBtaWxsaXNlY29uZHNJbkhvdXIgKyBtaW51dGVzICogbWlsbGlzZWNvbmRzSW5NaW51dGUgKyBzZWNvbmRzICogMTAwMDtcbn1cblxuZnVuY3Rpb24gcGFyc2VUaW1lVW5pdCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgJiYgcGFyc2VGbG9hdCh2YWx1ZS5yZXBsYWNlKCcsJywgJy4nKSkgfHwgMDtcbn1cblxuZnVuY3Rpb24gcGFyc2VUaW1lem9uZSh0aW1lem9uZVN0cmluZykge1xuICBpZiAodGltZXpvbmVTdHJpbmcgPT09ICdaJykgcmV0dXJuIDA7XG4gIHZhciBjYXB0dXJlcyA9IHRpbWV6b25lU3RyaW5nLm1hdGNoKHRpbWV6b25lUmVnZXgpO1xuICBpZiAoIWNhcHR1cmVzKSByZXR1cm4gMDtcbiAgdmFyIHNpZ24gPSBjYXB0dXJlc1sxXSA9PT0gJysnID8gLTEgOiAxO1xuICB2YXIgaG91cnMgPSBwYXJzZUludChjYXB0dXJlc1syXSk7XG4gIHZhciBtaW51dGVzID0gY2FwdHVyZXNbM10gJiYgcGFyc2VJbnQoY2FwdHVyZXNbM10pIHx8IDA7XG5cbiAgaWYgKCF2YWxpZGF0ZVRpbWV6b25lKGhvdXJzLCBtaW51dGVzKSkge1xuICAgIHJldHVybiBOYU47XG4gIH1cblxuICByZXR1cm4gc2lnbiAqIChob3VycyAqIG1pbGxpc2Vjb25kc0luSG91ciArIG1pbnV0ZXMgKiBtaWxsaXNlY29uZHNJbk1pbnV0ZSk7XG59XG5cbmZ1bmN0aW9uIGRheU9mSVNPV2Vla1llYXIoaXNvV2Vla1llYXIsIHdlZWssIGRheSkge1xuICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApO1xuICBkYXRlLnNldFVUQ0Z1bGxZZWFyKGlzb1dlZWtZZWFyLCAwLCA0KTtcbiAgdmFyIGZvdXJ0aE9mSmFudWFyeURheSA9IGRhdGUuZ2V0VVRDRGF5KCkgfHwgNztcbiAgdmFyIGRpZmYgPSAod2VlayAtIDEpICogNyArIGRheSArIDEgLSBmb3VydGhPZkphbnVhcnlEYXk7XG4gIGRhdGUuc2V0VVRDRGF0ZShkYXRlLmdldFVUQ0RhdGUoKSArIGRpZmYpO1xuICByZXR1cm4gZGF0ZTtcbn0gLy8gVmFsaWRhdGlvbiBmdW5jdGlvbnNcbi8vIEZlYnJ1YXJ5IGlzIG51bGwgdG8gaGFuZGxlIHRoZSBsZWFwIHllYXIgKHVzaW5nIHx8KVxuXG5cbnZhciBkYXlzSW5Nb250aHMgPSBbMzEsIG51bGwsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcblxuZnVuY3Rpb24gaXNMZWFwWWVhckluZGV4KHllYXIpIHtcbiAgcmV0dXJuIHllYXIgJSA0MDAgPT09IDAgfHwgeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMDtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVEYXRlKHllYXIsIG1vbnRoLCBkYXRlKSB7XG4gIHJldHVybiBtb250aCA+PSAwICYmIG1vbnRoIDw9IDExICYmIGRhdGUgPj0gMSAmJiBkYXRlIDw9IChkYXlzSW5Nb250aHNbbW9udGhdIHx8IChpc0xlYXBZZWFySW5kZXgoeWVhcikgPyAyOSA6IDI4KSk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRGF5T2ZZZWFyRGF0ZSh5ZWFyLCBkYXlPZlllYXIpIHtcbiAgcmV0dXJuIGRheU9mWWVhciA+PSAxICYmIGRheU9mWWVhciA8PSAoaXNMZWFwWWVhckluZGV4KHllYXIpID8gMzY2IDogMzY1KTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVXZWVrRGF0ZShfeWVhciwgd2VlaywgZGF5KSB7XG4gIHJldHVybiB3ZWVrID49IDEgJiYgd2VlayA8PSA1MyAmJiBkYXkgPj0gMCAmJiBkYXkgPD0gNjtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVUaW1lKGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzKSB7XG4gIGlmIChob3VycyA9PT0gMjQpIHtcbiAgICByZXR1cm4gbWludXRlcyA9PT0gMCAmJiBzZWNvbmRzID09PSAwO1xuICB9XG5cbiAgcmV0dXJuIHNlY29uZHMgPj0gMCAmJiBzZWNvbmRzIDwgNjAgJiYgbWludXRlcyA+PSAwICYmIG1pbnV0ZXMgPCA2MCAmJiBob3VycyA+PSAwICYmIGhvdXJzIDwgMjU7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlVGltZXpvbmUoX2hvdXJzLCBtaW51dGVzKSB7XG4gIHJldHVybiBtaW51dGVzID49IDAgJiYgbWludXRlcyA8PSA1OTtcbn0iLCIvKipcbiAqIEdvb2dsZSBDaHJvbWUgYXMgb2YgNjcuMC4zMzk2Ljg3IGludHJvZHVjZWQgdGltZXpvbmVzIHdpdGggb2Zmc2V0IHRoYXQgaW5jbHVkZXMgc2Vjb25kcy5cbiAqIFRoZXkgdXN1YWxseSBhcHBlYXIgZm9yIGRhdGVzIHRoYXQgZGVub3RlIHRpbWUgYmVmb3JlIHRoZSB0aW1lem9uZXMgd2VyZSBpbnRyb2R1Y2VkXG4gKiAoZS5nLiBmb3IgJ0V1cm9wZS9QcmFndWUnIHRpbWV6b25lIHRoZSBvZmZzZXQgaXMgR01UKzAwOjU3OjQ0IGJlZm9yZSAxIE9jdG9iZXIgMTg5MVxuICogYW5kIEdNVCswMTowMDowMCBhZnRlciB0aGF0IGRhdGUpXG4gKlxuICogRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIHRoZSBvZmZzZXQgaW4gbWludXRlcyBhbmQgd291bGQgcmV0dXJuIDU3IGZvciB0aGUgZXhhbXBsZSBhYm92ZSxcbiAqIHdoaWNoIHdvdWxkIGxlYWQgdG8gaW5jb3JyZWN0IGNhbGN1bGF0aW9ucy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHRpbWV6b25lIG9mZnNldCBpbiBtaWxsaXNlY29uZHMgdGhhdCB0YWtlcyBzZWNvbmRzIGluIGFjY291bnQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMoZGF0ZSkge1xuICB2YXIgdXRjRGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSwgZGF0ZS5nZXRIb3VycygpLCBkYXRlLmdldE1pbnV0ZXMoKSwgZGF0ZS5nZXRTZWNvbmRzKCksIGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkpKTtcbiAgdXRjRGF0ZS5zZXRVVENGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkpO1xuICByZXR1cm4gZGF0ZS5nZXRUaW1lKCkgLSB1dGNEYXRlLmdldFRpbWUoKTtcbn0iLCJpbXBvcnQgdG9EYXRlIGZyb20gXCIuLi90b0RhdGUvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIHN0YXJ0T2ZEYXlcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIGRheSBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgZGF5IGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBvcmlnaW5hbCBkYXRlXG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIHN0YXJ0IG9mIGEgZGF5XG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGEgZGF5IGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZkRheShuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApKVxuICogLy89PiBUdWUgU2VwIDAyIDIwMTQgMDA6MDA6MDBcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydE9mRGF5KGRpcnR5RGF0ZSkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGRhdGUgPSB0b0RhdGUoZGlydHlEYXRlKTtcbiAgZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIGRhdGU7XG59IiwiaW1wb3J0IGdldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMgZnJvbSBcIi4uL19saWIvZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcy9pbmRleC5qc1wiO1xuaW1wb3J0IHN0YXJ0T2ZEYXkgZnJvbSBcIi4uL3N0YXJ0T2ZEYXkvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG52YXIgTUlMTElTRUNPTkRTX0lOX0RBWSA9IDg2NDAwMDAwO1xuLyoqXG4gKiBAbmFtZSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXNcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBudW1iZXIgb2YgY2FsZW5kYXIgZGF5cyBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcy5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgbnVtYmVyIG9mIGNhbGVuZGFyIGRheXMgYmV0d2VlbiB0aGUgZ2l2ZW4gZGF0ZXMuIFRoaXMgbWVhbnMgdGhhdCB0aGUgdGltZXMgYXJlIHJlbW92ZWRcbiAqIGZyb20gdGhlIGRhdGVzIGFuZCB0aGVuIHRoZSBkaWZmZXJlbmNlIGluIGRheXMgaXMgY2FsY3VsYXRlZC5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlTGVmdCAtIHRoZSBsYXRlciBkYXRlXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlUmlnaHQgLSB0aGUgZWFybGllciBkYXRlXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgbnVtYmVyIG9mIGNhbGVuZGFyIGRheXNcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSG93IG1hbnkgY2FsZW5kYXIgZGF5cyBhcmUgYmV0d2VlblxuICogLy8gMiBKdWx5IDIwMTEgMjM6MDA6MDAgYW5kIDIgSnVseSAyMDEyIDAwOjAwOjAwP1xuICogY29uc3QgcmVzdWx0ID0gZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKFxuICogICBuZXcgRGF0ZSgyMDEyLCA2LCAyLCAwLCAwKSxcbiAqICAgbmV3IERhdGUoMjAxMSwgNiwgMiwgMjMsIDApXG4gKiApXG4gKiAvLz0+IDM2NlxuICogLy8gSG93IG1hbnkgY2FsZW5kYXIgZGF5cyBhcmUgYmV0d2VlblxuICogLy8gMiBKdWx5IDIwMTEgMjM6NTk6MDAgYW5kIDMgSnVseSAyMDExIDAwOjAxOjAwP1xuICogY29uc3QgcmVzdWx0ID0gZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKFxuICogICBuZXcgRGF0ZSgyMDExLCA2LCAzLCAwLCAxKSxcbiAqICAgbmV3IERhdGUoMjAxMSwgNiwgMiwgMjMsIDU5KVxuICogKVxuICogLy89PiAxXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0KSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgc3RhcnRPZkRheUxlZnQgPSBzdGFydE9mRGF5KGRpcnR5RGF0ZUxlZnQpO1xuICB2YXIgc3RhcnRPZkRheVJpZ2h0ID0gc3RhcnRPZkRheShkaXJ0eURhdGVSaWdodCk7XG4gIHZhciB0aW1lc3RhbXBMZWZ0ID0gc3RhcnRPZkRheUxlZnQuZ2V0VGltZSgpIC0gZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyhzdGFydE9mRGF5TGVmdCk7XG4gIHZhciB0aW1lc3RhbXBSaWdodCA9IHN0YXJ0T2ZEYXlSaWdodC5nZXRUaW1lKCkgLSBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKHN0YXJ0T2ZEYXlSaWdodCk7IC8vIFJvdW5kIHRoZSBudW1iZXIgb2YgZGF5cyB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyXG4gIC8vIGJlY2F1c2UgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaW4gYSBkYXkgaXMgbm90IGNvbnN0YW50XG4gIC8vIChlLmcuIGl0J3MgZGlmZmVyZW50IGluIHRoZSBkYXkgb2YgdGhlIGRheWxpZ2h0IHNhdmluZyB0aW1lIGNsb2NrIHNoaWZ0KVxuXG4gIHJldHVybiBNYXRoLnJvdW5kKCh0aW1lc3RhbXBMZWZ0IC0gdGltZXN0YW1wUmlnaHQpIC8gTUlMTElTRUNPTkRTX0lOX0RBWSk7XG59IiwiaW1wb3J0IHRvSW50ZWdlciBmcm9tIFwiLi4vX2xpYi90b0ludGVnZXIvaW5kZXguanNcIjtcbmltcG9ydCB0b0RhdGUgZnJvbSBcIi4uL3RvRGF0ZS9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgYWRkRGF5c1xuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBZGQgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgZGF5cyB0byB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFkZCB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBkYXlzIHRvIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgZGF0ZSB0byBiZSBjaGFuZ2VkXG4gKiBAcGFyYW0ge051bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBkYXlzIHRvIGJlIGFkZGVkLiBQb3NpdGl2ZSBkZWNpbWFscyB3aWxsIGJlIHJvdW5kZWQgdXNpbmcgYE1hdGguZmxvb3JgLCBkZWNpbWFscyBsZXNzIHRoYW4gemVybyB3aWxsIGJlIHJvdW5kZWQgdXNpbmcgYE1hdGguY2VpbGAuXG4gKiBAcmV0dXJucyB7RGF0ZX0gLSB0aGUgbmV3IGRhdGUgd2l0aCB0aGUgZGF5cyBhZGRlZFxuICogQHRocm93cyB7VHlwZUVycm9yfSAtIDIgYXJndW1lbnRzIHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFkZCAxMCBkYXlzIHRvIDEgU2VwdGVtYmVyIDIwMTQ6XG4gKiBjb25zdCByZXN1bHQgPSBhZGREYXlzKG5ldyBEYXRlKDIwMTQsIDgsIDEpLCAxMClcbiAqIC8vPT4gVGh1IFNlcCAxMSAyMDE0IDAwOjAwOjAwXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkRGF5cyhkaXJ0eURhdGUsIGRpcnR5QW1vdW50KSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZSA9IHRvRGF0ZShkaXJ0eURhdGUpO1xuICB2YXIgYW1vdW50ID0gdG9JbnRlZ2VyKGRpcnR5QW1vdW50KTtcblxuICBpZiAoaXNOYU4oYW1vdW50KSkge1xuICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB9XG5cbiAgaWYgKCFhbW91bnQpIHtcbiAgICAvLyBJZiAwIGRheXMsIG5vLW9wIHRvIGF2b2lkIGNoYW5naW5nIHRpbWVzIGluIHRoZSBob3VyIGJlZm9yZSBlbmQgb2YgRFNUXG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cblxuICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyBhbW91bnQpO1xuICByZXR1cm4gZGF0ZTtcbn0iLCJpbXBvcnQgdG9JbnRlZ2VyIGZyb20gXCIuLi9fbGliL3RvSW50ZWdlci9pbmRleC5qc1wiO1xuaW1wb3J0IHRvRGF0ZSBmcm9tIFwiLi4vdG9EYXRlL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBhZGRNb250aHNcbiAqIEBjYXRlZ29yeSBNb250aCBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBZGQgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgbW9udGhzIHRvIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQWRkIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIG1vbnRocyB0byB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlIC0gdGhlIGRhdGUgdG8gYmUgY2hhbmdlZFxuICogQHBhcmFtIHtOdW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgbW9udGhzIHRvIGJlIGFkZGVkLiBQb3NpdGl2ZSBkZWNpbWFscyB3aWxsIGJlIHJvdW5kZWQgdXNpbmcgYE1hdGguZmxvb3JgLCBkZWNpbWFscyBsZXNzIHRoYW4gemVybyB3aWxsIGJlIHJvdW5kZWQgdXNpbmcgYE1hdGguY2VpbGAuXG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIG5ldyBkYXRlIHdpdGggdGhlIG1vbnRocyBhZGRlZFxuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBZGQgNSBtb250aHMgdG8gMSBTZXB0ZW1iZXIgMjAxNDpcbiAqIGNvbnN0IHJlc3VsdCA9IGFkZE1vbnRocyhuZXcgRGF0ZSgyMDE0LCA4LCAxKSwgNSlcbiAqIC8vPT4gU3VuIEZlYiAwMSAyMDE1IDAwOjAwOjAwXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkTW9udGhzKGRpcnR5RGF0ZSwgZGlydHlBbW91bnQpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gIHZhciBhbW91bnQgPSB0b0ludGVnZXIoZGlydHlBbW91bnQpO1xuXG4gIGlmIChpc05hTihhbW91bnQpKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cblxuICBpZiAoIWFtb3VudCkge1xuICAgIC8vIElmIDAgbW9udGhzLCBuby1vcCB0byBhdm9pZCBjaGFuZ2luZyB0aW1lcyBpbiB0aGUgaG91ciBiZWZvcmUgZW5kIG9mIERTVFxuICAgIHJldHVybiBkYXRlO1xuICB9XG5cbiAgdmFyIGRheU9mTW9udGggPSBkYXRlLmdldERhdGUoKTsgLy8gVGhlIEpTIERhdGUgb2JqZWN0IHN1cHBvcnRzIGRhdGUgbWF0aCBieSBhY2NlcHRpbmcgb3V0LW9mLWJvdW5kcyB2YWx1ZXMgZm9yXG4gIC8vIG1vbnRoLCBkYXksIGV0Yy4gRm9yIGV4YW1wbGUsIG5ldyBEYXRlKDIwMjAsIDAsIDApIHJldHVybnMgMzEgRGVjIDIwMTkgYW5kXG4gIC8vIG5ldyBEYXRlKDIwMjAsIDEzLCAxKSByZXR1cm5zIDEgRmViIDIwMjEuICBUaGlzIGlzICphbG1vc3QqIHRoZSBiZWhhdmlvciB3ZVxuICAvLyB3YW50IGV4Y2VwdCB0aGF0IGRhdGVzIHdpbGwgd3JhcCBhcm91bmQgdGhlIGVuZCBvZiBhIG1vbnRoLCBtZWFuaW5nIHRoYXRcbiAgLy8gbmV3IERhdGUoMjAyMCwgMTMsIDMxKSB3aWxsIHJldHVybiAzIE1hciAyMDIxIG5vdCAyOCBGZWIgMjAyMSBhcyBkZXNpcmVkLiBTb1xuICAvLyB3ZSdsbCBkZWZhdWx0IHRvIHRoZSBlbmQgb2YgdGhlIGRlc2lyZWQgbW9udGggYnkgYWRkaW5nIDEgdG8gdGhlIGRlc2lyZWRcbiAgLy8gbW9udGggYW5kIHVzaW5nIGEgZGF0ZSBvZiAwIHRvIGJhY2sgdXAgb25lIGRheSB0byB0aGUgZW5kIG9mIHRoZSBkZXNpcmVkXG4gIC8vIG1vbnRoLlxuXG4gIHZhciBlbmRPZkRlc2lyZWRNb250aCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcbiAgZW5kT2ZEZXNpcmVkTW9udGguc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpICsgYW1vdW50ICsgMSwgMCk7XG4gIHZhciBkYXlzSW5Nb250aCA9IGVuZE9mRGVzaXJlZE1vbnRoLmdldERhdGUoKTtcblxuICBpZiAoZGF5T2ZNb250aCA+PSBkYXlzSW5Nb250aCkge1xuICAgIC8vIElmIHdlJ3JlIGFscmVhZHkgYXQgdGhlIGVuZCBvZiB0aGUgbW9udGgsIHRoZW4gdGhpcyBpcyB0aGUgY29ycmVjdCBkYXRlXG4gICAgLy8gYW5kIHdlJ3JlIGRvbmUuXG4gICAgcmV0dXJuIGVuZE9mRGVzaXJlZE1vbnRoO1xuICB9IGVsc2Uge1xuICAgIC8vIE90aGVyd2lzZSwgd2Ugbm93IGtub3cgdGhhdCBzZXR0aW5nIHRoZSBvcmlnaW5hbCBkYXktb2YtbW9udGggdmFsdWUgd29uJ3RcbiAgICAvLyBjYXVzZSBhbiBvdmVyZmxvdywgc28gc2V0IHRoZSBkZXNpcmVkIGRheS1vZi1tb250aC4gTm90ZSB0aGF0IHdlIGNhbid0XG4gICAgLy8ganVzdCBzZXQgdGhlIGRhdGUgb2YgYGVuZE9mRGVzaXJlZE1vbnRoYCBiZWNhdXNlIHRoYXQgb2JqZWN0IG1heSBoYXZlIGhhZFxuICAgIC8vIGl0cyB0aW1lIGNoYW5nZWQgaW4gdGhlIHVudXN1YWwgY2FzZSB3aGVyZSB3aGVyZSBhIERTVCB0cmFuc2l0aW9uIHdhcyBvblxuICAgIC8vIHRoZSBsYXN0IGRheSBvZiB0aGUgbW9udGggYW5kIGl0cyBsb2NhbCB0aW1lIHdhcyBpbiB0aGUgaG91ciBza2lwcGVkIG9yXG4gICAgLy8gcmVwZWF0ZWQgbmV4dCB0byBhIERTVCB0cmFuc2l0aW9uLiAgU28gd2UgdXNlIGBkYXRlYCBpbnN0ZWFkIHdoaWNoIGlzXG4gICAgLy8gZ3VhcmFudGVlZCB0byBzdGlsbCBoYXZlIHRoZSBvcmlnaW5hbCB0aW1lLlxuICAgIGRhdGUuc2V0RnVsbFllYXIoZW5kT2ZEZXNpcmVkTW9udGguZ2V0RnVsbFllYXIoKSwgZW5kT2ZEZXNpcmVkTW9udGguZ2V0TW9udGgoKSwgZGF5T2ZNb250aCk7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cbn0iLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmltcG9ydCBhZGREYXlzIGZyb20gXCIuLi9hZGREYXlzL2luZGV4LmpzXCI7XG5pbXBvcnQgYWRkTW9udGhzIGZyb20gXCIuLi9hZGRNb250aHMvaW5kZXguanNcIjtcbmltcG9ydCB0b0RhdGUgZnJvbSBcIi4uL3RvRGF0ZS9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbmltcG9ydCB0b0ludGVnZXIgZnJvbSBcIi4uL19saWIvdG9JbnRlZ2VyL2luZGV4LmpzXCI7XG5cbi8qKlxuICogQG5hbWUgYWRkXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEFkZCB0aGUgc3BlY2lmaWVkIHllYXJzLCBtb250aHMsIHdlZWtzLCBkYXlzLCBob3VycywgbWludXRlcyBhbmQgc2Vjb25kcyB0byB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFkZCB0aGUgc3BlY2lmaWVkIHllYXJzLCBtb250aHMsIHdlZWtzLCBkYXlzLCBob3VycywgbWludXRlcyBhbmQgc2Vjb25kcyB0byB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlIC0gdGhlIGRhdGUgdG8gYmUgY2hhbmdlZFxuICogQHBhcmFtIHtEdXJhdGlvbn0gZHVyYXRpb24gLSB0aGUgb2JqZWN0IHdpdGggeWVhcnMsIG1vbnRocywgd2Vla3MsIGRheXMsIGhvdXJzLCBtaW51dGVzIGFuZCBzZWNvbmRzIHRvIGJlIGFkZGVkLiBQb3NpdGl2ZSBkZWNpbWFscyB3aWxsIGJlIHJvdW5kZWQgdXNpbmcgYE1hdGguZmxvb3JgLCBkZWNpbWFscyBsZXNzIHRoYW4gemVybyB3aWxsIGJlIHJvdW5kZWQgdXNpbmcgYE1hdGguY2VpbGAuXG4gKlxuICogfCBLZXkgICAgICAgICAgICB8IERlc2NyaXB0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCB5ZWFycyAgICAgICAgICB8IEFtb3VudCBvZiB5ZWFycyB0byBiZSBhZGRlZCAgICAgICAgfFxuICogfCBtb250aHMgICAgICAgICB8IEFtb3VudCBvZiBtb250aHMgdG8gYmUgYWRkZWQgICAgICAgfFxuICogfCB3ZWVrcyAgICAgICAgICB8IEFtb3VudCBvZiB3ZWVrcyB0byBiZSBhZGRlZCAgICAgICAgfFxuICogfCBkYXlzICAgICAgICAgICB8IEFtb3VudCBvZiBkYXlzIHRvIGJlIGFkZGVkICAgICAgICAgfFxuICogfCBob3VycyAgICAgICAgICB8IEFtb3VudCBvZiBob3VycyB0byBiZSBhZGRlZCAgICAgICAgfFxuICogfCBtaW51dGVzICAgICAgICB8IEFtb3VudCBvZiBtaW51dGVzIHRvIGJlIGFkZGVkICAgICAgfFxuICogfCBzZWNvbmRzICAgICAgICB8IEFtb3VudCBvZiBzZWNvbmRzIHRvIGJlIGFkZGVkICAgICAgfFxuICpcbiAqIEFsbCB2YWx1ZXMgZGVmYXVsdCB0byAwXG4gKlxuICogQHJldHVybnMge0RhdGV9IHRoZSBuZXcgZGF0ZSB3aXRoIHRoZSBzZWNvbmRzIGFkZGVkXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDIgYXJndW1lbnRzIHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFkZCB0aGUgZm9sbG93aW5nIGR1cmF0aW9uIHRvIDEgU2VwdGVtYmVyIDIwMTQsIDEwOjE5OjUwXG4gKiBjb25zdCByZXN1bHQgPSBhZGQobmV3IERhdGUoMjAxNCwgOCwgMSwgMTAsIDE5LCA1MCksIHtcbiAqICAgeWVhcnM6IDIsXG4gKiAgIG1vbnRoczogOSxcbiAqICAgd2Vla3M6IDEsXG4gKiAgIGRheXM6IDcsXG4gKiAgIGhvdXJzOiA1LFxuICogICBtaW51dGVzOiA5LFxuICogICBzZWNvbmRzOiAzMCxcbiAqIH0pXG4gKiAvLz0+IFRodSBKdW4gMTUgMjAxNyAxNToyOToyMFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGQoZGlydHlEYXRlLCBkdXJhdGlvbikge1xuICByZXF1aXJlZEFyZ3MoMiwgYXJndW1lbnRzKTtcbiAgaWYgKCFkdXJhdGlvbiB8fCBfdHlwZW9mKGR1cmF0aW9uKSAhPT0gJ29iamVjdCcpIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB2YXIgeWVhcnMgPSBkdXJhdGlvbi55ZWFycyA/IHRvSW50ZWdlcihkdXJhdGlvbi55ZWFycykgOiAwO1xuICB2YXIgbW9udGhzID0gZHVyYXRpb24ubW9udGhzID8gdG9JbnRlZ2VyKGR1cmF0aW9uLm1vbnRocykgOiAwO1xuICB2YXIgd2Vla3MgPSBkdXJhdGlvbi53ZWVrcyA/IHRvSW50ZWdlcihkdXJhdGlvbi53ZWVrcykgOiAwO1xuICB2YXIgZGF5cyA9IGR1cmF0aW9uLmRheXMgPyB0b0ludGVnZXIoZHVyYXRpb24uZGF5cykgOiAwO1xuICB2YXIgaG91cnMgPSBkdXJhdGlvbi5ob3VycyA/IHRvSW50ZWdlcihkdXJhdGlvbi5ob3VycykgOiAwO1xuICB2YXIgbWludXRlcyA9IGR1cmF0aW9uLm1pbnV0ZXMgPyB0b0ludGVnZXIoZHVyYXRpb24ubWludXRlcykgOiAwO1xuICB2YXIgc2Vjb25kcyA9IGR1cmF0aW9uLnNlY29uZHMgPyB0b0ludGVnZXIoZHVyYXRpb24uc2Vjb25kcykgOiAwOyAvLyBBZGQgeWVhcnMgYW5kIG1vbnRoc1xuXG4gIHZhciBkYXRlID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gIHZhciBkYXRlV2l0aE1vbnRocyA9IG1vbnRocyB8fCB5ZWFycyA/IGFkZE1vbnRocyhkYXRlLCBtb250aHMgKyB5ZWFycyAqIDEyKSA6IGRhdGU7IC8vIEFkZCB3ZWVrcyBhbmQgZGF5c1xuXG4gIHZhciBkYXRlV2l0aERheXMgPSBkYXlzIHx8IHdlZWtzID8gYWRkRGF5cyhkYXRlV2l0aE1vbnRocywgZGF5cyArIHdlZWtzICogNykgOiBkYXRlV2l0aE1vbnRoczsgLy8gQWRkIGRheXMsIGhvdXJzLCBtaW51dGVzIGFuZCBzZWNvbmRzXG5cbiAgdmFyIG1pbnV0ZXNUb0FkZCA9IG1pbnV0ZXMgKyBob3VycyAqIDYwO1xuICB2YXIgc2Vjb25kc1RvQWRkID0gc2Vjb25kcyArIG1pbnV0ZXNUb0FkZCAqIDYwO1xuICB2YXIgbXNUb0FkZCA9IHNlY29uZHNUb0FkZCAqIDEwMDA7XG4gIHZhciBmaW5hbERhdGUgPSBuZXcgRGF0ZShkYXRlV2l0aERheXMuZ2V0VGltZSgpICsgbXNUb0FkZCk7XG4gIHJldHVybiBmaW5hbERhdGU7XG59IiwiaW1wb3J0IHN0b3JhZ2UgZnJvbSBcIi4vbG9jYWxTdG9yYWdlXCJcbmltcG9ydCB7IGVuZE9mVG9kYXksIGlzQmVmb3JlLCBwYXJzZUlTTywgc3RhcnRPZlRvbW9ycm93LCBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMsIGFkZCB9IGZyb20gJ2RhdGUtZm5zJ1xuXG5jb25zdCBkYXRlcyA9ICgoKSA9PiB7XG4gICAgY29uc3QgdG9kYXkgPSAoKSA9PiB7XG4gICAgICAgIGxldCB0b2RheUFycmF5ID0gW11cbiAgICAgICAgbGV0IHByb2plY3QgPSBzdG9yYWdlLmdldFByb2plY3RJdGVtKClcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwcm9qZWN0LnByb2plY3RBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICBpZiAoaSAhPSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2plY3QucHJvamVjdEFycmF5W2ldLnRhc2tzLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcHJvamVjdC5wcm9qZWN0QXJyYXlbaV0udGFza3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0LnByb2plY3RBcnJheVtpXS50YXNrc1tqXS5kYXRlICE9ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQmVmb3JlKHBhcnNlSVNPKHByb2plY3QucHJvamVjdEFycmF5W2ldLnRhc2tzW2pdLmRhdGUpLCBlbmRPZlRvZGF5KCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvZGF5QXJyYXkucHVzaChwcm9qZWN0LnByb2plY3RBcnJheVtpXS50YXNrc1tqXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9kYXlBcnJheVxuICAgIH1cblxuICAgIGNvbnN0IHVwY29taW5nID0gKCkgPT4ge1xuICAgICAgICBsZXQgdXBBcnJheSA9IFtdXG4gICAgICAgIGxldCBwcm9qZWN0ID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcHJvamVjdC5wcm9qZWN0QXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpICE9IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvamVjdC5wcm9qZWN0QXJyYXlbaV0udGFza3MubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwcm9qZWN0LnByb2plY3RBcnJheVtpXS50YXNrcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2plY3QucHJvamVjdEFycmF5W2ldLnRhc2tzW2pdLmRhdGUgIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKChhZGQoc3RhcnRPZlRvbW9ycm93KCksIHtkYXlzOiA3fSkpLCBwYXJzZUlTTyhwcm9qZWN0LnByb2plY3RBcnJheVtpXS50YXNrc1tqXS5kYXRlKSkgPD0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cEFycmF5LnB1c2gocHJvamVjdC5wcm9qZWN0QXJyYXlbaV0udGFza3Nbal0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBzdGFydCBvZiB0b21vcnJvdyArIDcgYW5kIHRoZSB0YXNrIGR1ZSBkYXRlIGlzIDw9IDdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXBBcnJheVxuICAgICAgICB9XG4gICAgXG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0b2RheSxcbiAgICAgICAgdXBjb21pbmdcbiAgICB9XG59KSgpXG5cbmV4cG9ydCBkZWZhdWx0IGRhdGVzIiwiaW1wb3J0IHRvRGF0ZSBmcm9tIFwiLi4vdG9EYXRlL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBlbmRPZkRheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIGVuZCBvZiBhIGRheSBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIGVuZCBvZiBhIGRheSBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgb3JpZ2luYWwgZGF0ZVxuICogQHJldHVybnMge0RhdGV9IHRoZSBlbmQgb2YgYSBkYXlcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgZW5kIG9mIGEgZGF5IGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gZW5kT2ZEYXkobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gVHVlIFNlcCAwMiAyMDE0IDIzOjU5OjU5Ljk5OVxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVuZE9mRGF5KGRpcnR5RGF0ZSkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGRhdGUgPSB0b0RhdGUoZGlydHlEYXRlKTtcbiAgZGF0ZS5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpO1xuICByZXR1cm4gZGF0ZTtcbn0iLCJpbXBvcnQgZW5kT2ZEYXkgZnJvbSBcIi4uL2VuZE9mRGF5L2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIGVuZE9mVG9kYXlcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBlbmQgb2YgdG9kYXkuXG4gKiBAcHVyZSBmYWxzZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBlbmQgb2YgdG9kYXkuXG4gKlxuICogPiDimqDvuI8gUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBwcmVzZW50IGluIHRoZSBGUCBzdWJtb2R1bGUgYXNcbiAqID4gaXQgdXNlcyBgRGF0ZS5ub3coKWAgaW50ZXJuYWxseSBoZW5jZSBpbXB1cmUgYW5kIGNhbid0IGJlIHNhZmVseSBjdXJyaWVkLlxuICpcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgZW5kIG9mIHRvZGF5XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDYgT2N0b2JlciAyMDE0OlxuICogY29uc3QgcmVzdWx0ID0gZW5kT2ZUb2RheSgpXG4gKiAvLz0+IE1vbiBPY3QgNiAyMDE0IDIzOjU5OjU5Ljk5OVxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVuZE9mVG9kYXkoKSB7XG4gIHJldHVybiBlbmRPZkRheShEYXRlLm5vdygpKTtcbn0iLCIvKipcbiAqIEBuYW1lIHN0YXJ0T2ZUb21vcnJvd1xuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIHRvbW9ycm93LlxuICogQHB1cmUgZmFsc2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgdG9tb3Jyb3cuXG4gKlxuICogPiDimqDvuI8gUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBwcmVzZW50IGluIHRoZSBGUCBzdWJtb2R1bGUgYXNcbiAqID4gaXQgdXNlcyBgbmV3IERhdGUoKWAgaW50ZXJuYWxseSBoZW5jZSBpbXB1cmUgYW5kIGNhbid0IGJlIHNhZmVseSBjdXJyaWVkLlxuICpcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgc3RhcnQgb2YgdG9tb3Jyb3dcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdG9kYXkgaXMgNiBPY3RvYmVyIDIwMTQ6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mVG9tb3Jyb3coKVxuICogLy89PiBUdWUgT2N0IDcgMjAxNCAwMDowMDowMFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydE9mVG9tb3Jyb3coKSB7XG4gIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICB2YXIgeWVhciA9IG5vdy5nZXRGdWxsWWVhcigpO1xuICB2YXIgbW9udGggPSBub3cuZ2V0TW9udGgoKTtcbiAgdmFyIGRheSA9IG5vdy5nZXREYXRlKCk7XG4gIHZhciBkYXRlID0gbmV3IERhdGUoMCk7XG4gIGRhdGUuc2V0RnVsbFllYXIoeWVhciwgbW9udGgsIGRheSArIDEpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gZGF0ZTtcbn0iLCJpbXBvcnQgdXBsb2FkVGFza3MgZnJvbSBcIi4vdXBsb2FkVGFza3NcIjtcbmltcG9ydCBnZXRJZCBmcm9tIFwiLi9nZXRJZFwiO1xuaW1wb3J0IHN0b3JhZ2UgZnJvbSBcIi4vbG9jYWxTdG9yYWdlXCI7XG5pbXBvcnQga2lsbFRhc2sgZnJvbSBcIi4va2lsbFRhc2tcIjtcbmltcG9ydCBkYXRlcyBmcm9tIFwiLi9kYXRlc0ZOU1wiO1xuXG5cbmNvbnN0IHVwZGF0ZURpcmVjdG9yeSA9ICgoKSA9PiB7XG4gICAgICAgIGxldCByZWZyZXNoID0gKGJ0bikgPT4ge1xuICAgICAgICAgICAga2lsbFRhc2sucmVwdGl0aW9ucyA9IDBcbiAgICAgICAgICAgIGxldCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpLmlubmVySFRNTC50cmltKClcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGdldElkKHByb2plY3ROYW1lKVxuICAgICAgICAgICAgbGV0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpXG4gICAgICAgICAgICB3aGlsZSAodGFza0NvbnRhaW5lci5jaGlsZE5vZGVzLmxlbmd0aCA+IDQpIHtcbiAgICAgICAgICAgICAgICB0YXNrQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRhc2tDb250YWluZXIuZmlyc3RDaGlsZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFkZFRhc2tZYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrQnV0dG9uJylcbiAgICAgICAgICAgIGFkZFRhc2tZYS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgICAgICAgICAgaWYgKCFidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdnZXR0aW5nRGVsZXRlZCcpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHByb2plY3RJbmZvID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpXG4gICAgICAgICAgICAgICAgaWYgKGJ0bi5jaGlsZE5vZGVzLmxlbmd0aCA+IDMgJiYgYnRuLmNoaWxkTm9kZXNbM10uaW5uZXJIVE1MICE9ICdJbmJveCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ0bi5jaGlsZE5vZGVzWzNdLmlubmVySFRNTCA9PSAnVG9kYXknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRUYXNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tCdXR0b24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVGFzay5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdEluZm8ucHJvamVjdEFycmF5WzFdLnRhc2tzID0gZGF0ZXMudG9kYXkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS51cGRhdGVQcm9qZWN0SW5mbyhwcm9qZWN0SW5mbylcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0SW5mby5wcm9qZWN0QXJyYXlbMV0udGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPTA7IGkgPCBwcm9qZWN0SW5mby5wcm9qZWN0QXJyYXlbMV0udGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1Rhc2sgPSB1cGxvYWRUYXNrcy51cGxvYWQoaSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKS5pbnNlcnRCZWZvcmUobmV3VGFzaywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tCdXR0b24nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnRuLmNoaWxkTm9kZXNbM10uaW5uZXJIVE1MID09ICdVcGNvbWluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZFRhc2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza0J1dHRvbicpXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUYXNrLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SW5mby5wcm9qZWN0QXJyYXlbMl0udGFza3MgPSBkYXRlcy51cGNvbWluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnVwZGF0ZVByb2plY3RJbmZvKHByb2plY3RJbmZvKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2plY3RJbmZvLnByb2plY3RBcnJheVsyXS50YXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9MDsgaSA8IHByb2plY3RJbmZvLnByb2plY3RBcnJheVsyXS50YXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3VGFzayA9IHVwbG9hZFRhc2tzLnVwbG9hZChpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpLmluc2VydEJlZm9yZShuZXdUYXNrLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza0J1dHRvbicpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvamVjdEluZm8ucHJvamVjdEFycmF5W2luZGV4XS50YXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZFRhc2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza0J1dHRvbicpXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdEluZm8ucHJvamVjdEFycmF5W2luZGV4XS50YXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1Rhc2sgPSB1cGxvYWRUYXNrcy51cGxvYWQoaSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JykuaW5zZXJ0QmVmb3JlKG5ld1Rhc2ssIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrQnV0dG9uJykpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIHJldHVybiB7IHJlZnJlc2gsIH1cbn0pKClcblxuZXhwb3J0IGRlZmF1bHQgdXBkYXRlRGlyZWN0b3J5IiwiaW1wb3J0IHByb2plY3RJbmZvcm1hdGlvbiBmcm9tIFwiLi9wcm9qZWN0SW5mb3JtYXRpb25cIjtcbmltcG9ydCB1cGRhdGVCdXR0b25zIGZyb20gXCIuL3VwZGF0ZUJ1dHRvbnNcIjtcbmltcG9ydCBpRmFjdG9yeSBmcm9tIFwiLi9pbmZvcm1hdGlvbkZhY3RvcnlcIjtcbmltcG9ydCBraWxsUHJvamVjdCBmcm9tIFwiLi9raWxsUHJvamVjdFwiO1xuaW1wb3J0IGdldElkIGZyb20gXCIuL2dldElkXCI7XG5pbXBvcnQgbWFrZVRhc2sgZnJvbSBcIi4vbWFrZVRhc2tcIjtcbmltcG9ydCBzdG9yYWdlIGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiO1xuaW1wb3J0IHVwbG9hZFRhc2tzIGZyb20gXCIuL3VwbG9hZFRhc2tzXCI7XG5pbXBvcnQgdXBkYXRlRGlyZWN0b3J5IGZyb20gXCIuL3VwZGF0ZURpcmVjdG9yeVwiO1xuXG5jb25zdCBkb21NYW4gPSAoKCkgPT4ge1xuXG4gICAgY29uc3QgYnV0dG9uQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBsZXQgZG9tQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpcmVjdG9yeScpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG9tQnRuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkb21CdG5baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZG9tQnRuLmZvckVhY2goIGJ0biA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCd0b2dnbGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCd0b2dnbGVkJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKVxuICAgICAgICAgICAgICAgIGxldCBkaXZDaGlsZCA9IGRvbUJ0bltpXS5jaGlsZE5vZGVzXG4gICAgICAgICAgICAgICAgbGV0IHRleHRcbiAgICAgICAgICAgICAgICBpZiAoZGl2Q2hpbGQubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gZGl2Q2hpbGRbM10udGV4dENvbnRlbnRcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gZGl2Q2hpbGRbMV0udGV4dENvbnRlbnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG9tQnRuW2ldLmNsYXNzTGlzdC5hZGQoJ3RvZ2dsZWQnKVxuICAgICAgICAgICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gdGV4dFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIGxldCBjbGlja2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpcmVjdG9yeScpXG4gICAgICAgIGNsaWNrZWQuZm9yRWFjaCggYnRuID0+IHtcbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEaXJlY3RvcnkucmVmcmVzaChidG4pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICBjb25zdCBuYXZUb2dnbGUgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3RvZ2dsZS1idXR0b24nKVswXVxuICAgICAgICBjb25zdCBuYXZiYXJMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdicpXG4gICAgICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpXG4gICAgICAgIHRvZ2dsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIG5hdmJhckxpbmsuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcbiAgICAgICAgICAgIG1haW4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcbiAgICAgICAgfSlcbiAgICB9O1xuXG4gICAgY29uc3QgYWN0aXZhdGVNb2RhbHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wZW5Nb2RhbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2RhbC10YXJnZXQnKVxuICAgICAgICBjb25zdCBjbG9zZU1vZGFsQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNsb3NlLWJ1dHRvbl0nKVxuICAgICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKVxuXG4gICAgICAgIG9wZW5Nb2RhbEJ1dHRvbnMuZm9yRWFjaCggYnRuID0+IHtcbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnRuLmRhdGFzZXQubW9kYWxUYXJnZXQpXG4gICAgICAgICAgICAgICAgb3Blbk1vZGFsKG1vZGFsKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBjbG9zZU1vZGFsQnV0dG9ucy5mb3JFYWNoKCBidG4gPT4ge1xuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gYnRuLmNsb3Nlc3QoJy5tb2RhbCcpXG4gICAgICAgICAgICAgICAgY2xvc2VNb2RhbChtb2RhbClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XG4gICAgICAgICAgICBpZiAobW9kYWwgPT0gbnVsbCkgcmV0dXJuXG4gICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xuICAgICAgICAgICAgaWYgKG1vZGFsID09IG51bGwpIHJldHVyblxuICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBhZGRQcm9qZWN0ID0gKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkUHJvamVjdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgYWRkaXRpb25hbFByb2plY3QoKVxuICAgICAgICB9KVxuXG4gICAgICAgIGZ1bmN0aW9uIGFkZGl0aW9uYWxQcm9qZWN0KCkge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtZScpLnZhbHVlLnRyaW0oKVxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUnKS52YWx1ZSA9ICcnXG4gICAgICAgICAgICBsZXQgaSA9IDBcbiAgICAgICAgICAgIGxldCBqID0wXG4gICAgICAgICAgICB3aGlsZSAoaSA8IHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKS5uYW1lQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKS5uYW1lQXJyYXlbaV0gPT09IHByb2plY3ROYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGorK1xuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpKytcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGogPT0gMCkge1xuICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gaUZhY3RvcnkocHJvamVjdE5hbWUpXG4gICAgICAgICAgICAgICAgbGV0IHVwZGF0ZWRQcm9qZWN0ID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpXG4gICAgICAgICAgICAgICAgdXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5LnB1c2goZWxlbWVudClcbiAgICAgICAgICAgICAgICB1cGRhdGVkUHJvamVjdC5uYW1lQXJyYXkucHVzaChwcm9qZWN0TmFtZSlcbiAgICAgICAgICAgICAgICBjb25zdCBhZGRPbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRpdGlvbmFsUHJvamVjdHMnKVxuICAgICAgICAgICAgICAgIGNvbnN0IGJ0biA9IG1ha2VCdG4oW1wiaG92ZXI6YmctWyNjY2NjY2NdXCIsIFwicm91bmRlZC1tZFwiLCBcInctZnVsbFwiLCBcInB5LTJcIiwgXCJmbGV4XCIsIFwianVzdGlmeS1iZXR3ZWVuXCIsIFwiaXRlbXMtY2VudGVyXCIsIFwiaC0xMlwiLCBcInB4LTFcIiwgJ2RpcmVjdG9yeSddKVxuICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IG1ha2VJbWcoW1wiaC1bMS4zcmVtXVwiLCBcInctWzEuM3JlbV1cIiwgXCJmbGV4XCIsIFwianVzdGlmeS1zdGFydFwiLCBcIml0ZW1zLWNlbnRlclwiLCBcIm14LTRcIiwgXCJib3gtY29udGVudFwiXSlcbiAgICAgICAgICAgICAgICBjb25zdCBkaXYgPSBtYWtlRGl2KHByb2plY3ROYW1lKVxuICAgICAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdjbG9zZXN0JylcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gbWFrZVgoWydtbC00Jywnei0xMCcsJ2ZsZXgnLCdqdXN0aWZ5LWVuZCcsICdraWxsYmlsbCddKVxuICAgICAgICAgICAgICAgIGJ0bi5hcHBlbmQoaW1nKVxuICAgICAgICAgICAgICAgIGJ0bi5hcHBlbmQoZGl2KVxuICAgICAgICAgICAgICAgIGJ0bi5hcHBlbmQoeClcbiAgICAgICAgICAgICAgICBhZGRPbi5pbnNlcnRCZWZvcmUoYnRuLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkQmVmb3JlJykpXG4gICAgICAgICAgICAgICAgdXBkYXRlQnV0dG9ucyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGlyZWN0b3J5JykpXG4gICAgICAgICAgICAgICAgYnV0dG9uQ2hhbmdlKClcbiAgICAgICAgICAgICAgICBraWxsUHJvamVjdCgpXG4gICAgICAgICAgICAgICAgc3RvcmFnZS51cGRhdGVQcm9qZWN0SW5mbyh1cGRhdGVkUHJvamVjdClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VCdG4oYXJyYXkpIHtcbiAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoYXJyYXlbaV0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ0blxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VYKGFycmF5KSB7XG4gICAgICAgIGNvbnN0IHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICB4LmlubmVySFRNTCA9ICcmdGltZXM7J1xuICAgICAgICBmb3IobGV0IGkgPTA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgeC5jbGFzc0xpc3QuYWRkKGFycmF5W2ldKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUltZyhhcnJheSkge1xuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoMjAsMjApXG4gICAgICAgIGltZy5zcmMgPSAnL3NyYy9tb2R1bGVzL3Byb2plY3QtaW1hZ2UucG5nJ1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbWcuY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1nXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZURpdihwcm9qZWN0TmFtZSkge1xuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBkaXYudGV4dENvbnRlbnQgPSBwcm9qZWN0TmFtZVxuICAgICAgICBkaXYuZGF0YXNldC5wcm9qZWN0TmFtZSA9IHByb2plY3ROYW1lXG4gICAgICAgIGRpdi5kYXRhc2V0LmlkID0gcHJvamVjdEluZm9ybWF0aW9uLm5hbWVBcnJheS5sZW5ndGggLSAxXG4gICAgICAgIHJldHVybiBkaXZcbiAgICB9XG5cbiAgICBjb25zdCBhZGRUYXNrID0gKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkVGFzaycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgYWRkaXRpb25hbFRhc2soKVxuICAgICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBhZGRpdGlvbmFsVGFzaygpIHtcbiAgICAgICAgLy8gdGhpcyBjaGVja3Mgd2hlcmUgdGhlIHRhc2sgaXMgYmVpbmcgcGxhY2VkIGluXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJylcbiAgICAgICAgbGV0IGluZGV4ID0gZ2V0SWQodGl0bGUuaW5uZXJIVE1MKVxuICAgICAgICBsZXQgb2JqZWN0aXZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29iamVjdGl2ZScpLnZhbHVlXG4gICAgICAgIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbicpLnZhbHVlXG4gICAgICAgIGxldCBwcmlvcml0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmlvcml0eScpLnZhbHVlXG4gICAgICAgIGxldCBkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGUnKS52YWx1ZVxuICAgICAgICBsZXQgdXBkYXRlZFZhbHVlID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpXG4gICAgICAgIGlmICh0aXRsZS50ZXh0Q29udGVudCAhPSAnSW5ib3gnKSB7XG4gICAgICAgICAgICB1cGRhdGVkVmFsdWUucHJvamVjdEFycmF5WzBdLnRhc2tzLnB1c2gobWFrZVRhc2sob2JqZWN0aXZlLGRlc2NyaXB0aW9uLHByaW9yaXR5LGRhdGUsIHRpdGxlLnRleHRDb250ZW50LnRyaW0oKSkpXG4gICAgICAgICAgICB1cGRhdGVkVmFsdWUucHJvamVjdEFycmF5W2luZGV4XS50YXNrcy5wdXNoKG1ha2VUYXNrKG9iamVjdGl2ZSxkZXNjcmlwdGlvbixwcmlvcml0eSxkYXRlLCB0aXRsZS50ZXh0Q29udGVudC50cmltKCkpKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXBkYXRlZFZhbHVlLnByb2plY3RBcnJheVswXS50YXNrcy5wdXNoKG1ha2VUYXNrKG9iamVjdGl2ZSxkZXNjcmlwdGlvbixwcmlvcml0eSxkYXRlLCB0aXRsZS50ZXh0Q29udGVudC50cmltKCkpKVxuICAgICAgICB9XG4gICAgICAgIHN0b3JhZ2UudXBkYXRlUHJvamVjdEluZm8odXBkYXRlZFZhbHVlKVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2JqZWN0aXZlJykudmFsdWUgPSAnJ1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzY3JpcHRpb24nKS52YWx1ZSA9ICcnXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmlvcml0eScpLnZhbHVlID0gJzAnXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJykudmFsdWUgPSAnJ1xuICAgICAgICBsZXQgdGFza0luZGV4ID0gdXBkYXRlZFZhbHVlLnByb2plY3RBcnJheVtpbmRleF0udGFza3MubGVuZ3RoIC0gMVxuICAgICAgICBsZXQgbmV3VGFzayA9IHVwbG9hZFRhc2tzLnVwbG9hZCh0YXNrSW5kZXgpXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JykuaW5zZXJ0QmVmb3JlKG5ld1Rhc2ssIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrQnV0dG9uJykpXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYnV0dG9uQ2hhbmdlLFxuICAgICAgICBuYXZUb2dnbGUsXG4gICAgICAgIGFjdGl2YXRlTW9kYWxzLFxuICAgICAgICBhZGRQcm9qZWN0LFxuICAgICAgICBhZGRUYXNrLFxuICAgICAgICBtYWtlQnRuLFxuICAgICAgICBtYWtlRGl2LFxuICAgICAgICBtYWtlSW1nLFxuICAgICAgICBtYWtlWCxcbiAgICB9XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBkb21NYW47IiwiaW1wb3J0IGRvbU1hbiBmcm9tICcuL21vZHVsZXMvZG9tTWFuaXB1bGF0aW9uJ1xuaW1wb3J0IHN0b3JhZ2UgZnJvbSAnLi9tb2R1bGVzL2xvY2FsU3RvcmFnZSdcblxuLy8gdGhpcyBjb250cm9scyB0aGUgYnV0dG9ucyBjaGFuZ2luZyBjb2xvciBzbyB0aGF0IHRoZXkgaG9sZCB0aGVpciBob3ZlciBlZmZlY3QgZm9yIHdoZW4gdGhleSBhcmUgY2xpY2tlZCBcbmRvbU1hbi5idXR0b25DaGFuZ2UoKSBcbi8vIHRoaXMgY2hlY2tzIGxvY2FsIHN0b3JhZ2UgaWYgdGhlcmUgYXJlIGFueSBwcmV2aW91cyBwcm9qZWN0cywgYW5kIGl0IGxvYWRzIGl0XG5zdG9yYWdlLmluaXRpYWxpemUoKVxuLy8gdGhpcyBpbnN1cmVzIHRoYXQgdGhlIG5hdiBiYXIgc2hvd3MgdXAgYW5kIHByb3Blcmx5IHdvcmtzIHdoZW4gY2xpY2tlZFxuZG9tTWFuLm5hdlRvZ2dsZSgpIFxuLy8gdGhpcyBhY3RpdmVzIHRoZSBwb3B1cHMgdGhhdCBjb21lIHVwIHdoZW4geW91IHByZXNzIGFkZCBwcm9qZWN0IGFuZCBhZGQgdGFza1xuZG9tTWFuLmFjdGl2YXRlTW9kYWxzKClcbi8vIHRoaXMgbWFrZXMgaXQgc28gdGhhdCBlYWNoIHRpbWUgeW91IHN1Ym1pdCBhIHByb2plY3QsIGl0IGFwcGVhcnMgb24gdGhlIGRvbSBcbmRvbU1hbi5hZGRQcm9qZWN0KClcbi8vIHRoaXMgbWFrZXMgaXQgc28gdGhhdCBlYWNoIHRpbWUgeW91IHN1Ym1pdCBhIHRhc2ssIGl0IGdvZXMgaW50byB0aGUgcmVzcGVjdGl2ZSBvYmplY3RcbmRvbU1hbi5hZGRUYXNrKClcblxuY29uc29sZS5sb2coe3Rlc3RTdHJpbmc6ICdUaGlzIGlzIHdvcmtpbmcsIGFsb25nIHdpdGggVGFpbHdpbmQhJ30pIl0sIm5hbWVzIjpbInByb2plY3ROYW1lIiwidGFza3MiLCJzdHJpbmciLCJpZCIsImlubmVyQ29udGVudCIsImFycmF5IiwiZGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3BsaXQiLCJpIiwibGVuZ3RoIiwiY2xhc3NMaXN0IiwiYWRkIiwidW5kZWZpbmVkIiwidGV4dENvbnRlbnQiLCJidG4iLCJpbWciLCJzcmMiLCJkYXRhc2V0IiwibW9kYWxUYXJnZXQiLCJwcmlvcml0eSIsInNwYW4iLCJmaXJzdCIsInN0cklkIiwiZm9ybSIsInNldEF0dHJpYnV0ZSIsInNlbGVjdG9yIiwibGFiZWwiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwidHlwZSIsImlucHV0IiwidGV4dGFyZWEiLCJjb2xzIiwicm93cyIsInNlbGVjdCIsInByaW9yaXR5SWQiLCJvcDEiLCJ2YWx1ZSIsIm9wMiIsIm9wMyIsIm9wNCIsImFwcGVuZCIsIm9iamVjdGl2ZSIsImRlc2MiLCJkYXRlIiwicHJvamVjdCIsImdldElkIiwidGl0bGUiLCJpbmRleCIsIm5hbWVBcnJheSIsImNsb3NlTW9kYWwiLCJtb2RhbCIsInJlbW92ZSIsIm92ZXJsYXkiLCJ0YXNrTW9kYWwiLCJnb2REaXYiLCJtb2RhbEhlYWRlciIsImNsb3NlQnRuIiwiaW5uZXJIVE1MIiwiY2xvc2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiY2xvc2VzdCIsIm1vZGFsQm9keSIsIm5ld0luZGV4IiwiZ2V0RWxlbWVudEJ5SWQiLCJwcm9qZWN0QXJyYXkiLCJlZGl0TW9kYWwiLCJjb250YWluZXIiLCJvYmplY3RpdmVEaXYiLCJvYmplY3RpdmVMYWJlbCIsIm9iamVjdGl2ZUlucHV0IiwiZGVzY0RpdiIsImRlc2NMYWJlbCIsImRlc2NUZXh0IiwidHdvU2VsZWN0b3JzIiwicGFyZW50RGl2IiwicHJpb3JpdHlEaXYiLCJwcmlvcml0eUxhYmVsIiwicHJpb3JpdHlTZWxlY3QiLCJkYXRlRGl2IiwiZGF0ZUxhYmVsIiwiZGF0ZUlucHV0IiwibGFzdEJ0biIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJvYmplY3RJZCIsImRlc2NJZCIsImRhdGVJZCIsImRlc2NyaXB0aW9uIiwidXBkYXRlZFByb2plY3QiLCJzcGxpY2UiLCJ0YXNrQ29udGFpbmVyIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiZmlyc3RDaGlsZCIsInByb2plY3RJbmZvIiwibmV3VGFzayIsInVwbG9hZCIsImluc2VydEJlZm9yZSIsImxhc3REaXYiLCJmaXJzdFNwYW4iLCJzZWNTcGFuIiwiaUxpZWREaXYiLCJyZXB0aXRpb25zIiwia2lsbCIsInRhc2tJZCIsInRhc2tJZE5hbWUiLCJwcm9qZWN0SW5kZXgiLCJvcGVuTW9kYWwiLCJ0YXNrRGl2IiwiZ3JhbmRGYXRoZXIiLCJ0YXNrTmFtZSIsImNpcmNsZSIsIm9iamVjdFRpdGxlIiwidGFza05hbWVTdHJpbmdEaXYiLCJ0YXNrSHViIiwiZGV0YWlsRGl2IiwiZGV0YWlsc0J1dHRvbiIsImVkaXRJbWciLCJvdGhlckVkaXRNb2RhbCIsInRyYXNoSW1nIiwidXBkYXRlQnV0dG9ucyIsImJ1dHRvbiIsImZvckVhY2giLCJuZXdCdG4iLCJjbG9uZU5vZGUiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwia2lsbFByb2plY3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwicGFyZW50RWxlbWVudCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJ0cmltIiwidXBkYXRlUHJvamVjdEluZm8iLCJ1cGRhdGVkT2JqZWN0IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRQcm9qZWN0SXRlbSIsInBhcnNlIiwiZ2V0SXRlbSIsImluaXRpYWxpemUiLCJuZXdPYmplY3QiLCJhZGRPbiIsIngiLCJsb2FkUHJvamVjdERvbSIsInB1c2giLCJlbGVtZW50IiwicmVxdWlyZWRBcmdzIiwicmVxdWlyZWQiLCJhcmdzIiwiVHlwZUVycm9yIiwiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJ0b0RhdGUiLCJhcmd1bWVudCIsImFyZ3VtZW50cyIsImFyZ1N0ciIsIk9iamVjdCIsInRvU3RyaW5nIiwiY2FsbCIsIkRhdGUiLCJnZXRUaW1lIiwiY29uc29sZSIsIndhcm4iLCJFcnJvciIsInN0YWNrIiwiTmFOIiwiaXNCZWZvcmUiLCJkaXJ0eURhdGUiLCJkaXJ0eURhdGVUb0NvbXBhcmUiLCJkYXRlVG9Db21wYXJlIiwiTWF0aCIsInBvdyIsIm1pbGxpc2Vjb25kc0luSG91ciIsInRvSW50ZWdlciIsImRpcnR5TnVtYmVyIiwibnVtYmVyIiwiTnVtYmVyIiwiaXNOYU4iLCJjZWlsIiwiZmxvb3IiLCJwYXJzZUlTTyIsIm9wdGlvbnMiLCJfb3B0aW9ucyRhZGRpdGlvbmFsRGkiLCJhZGRpdGlvbmFsRGlnaXRzIiwiUmFuZ2VFcnJvciIsImRhdGVTdHJpbmdzIiwic3BsaXREYXRlU3RyaW5nIiwicGFyc2VZZWFyUmVzdWx0IiwicGFyc2VZZWFyIiwicGFyc2VEYXRlIiwicmVzdERhdGVTdHJpbmciLCJ5ZWFyIiwib2Zmc2V0IiwidGltZXN0YW1wIiwidGltZSIsInBhcnNlVGltZSIsInRpbWV6b25lIiwicmVzdWx0Iiwic2V0RnVsbFllYXIiLCJnZXRVVENGdWxsWWVhciIsImdldFVUQ01vbnRoIiwiZ2V0VVRDRGF0ZSIsInNldEhvdXJzIiwiZ2V0VVRDSG91cnMiLCJnZXRVVENNaW51dGVzIiwiZ2V0VVRDU2Vjb25kcyIsImdldFVUQ01pbGxpc2Vjb25kcyIsInBhcnNlVGltZXpvbmUiLCJwYXR0ZXJucyIsImRhdGVUaW1lRGVsaW1pdGVyIiwidGltZVpvbmVEZWxpbWl0ZXIiLCJkYXRlUmVnZXgiLCJ0aW1lUmVnZXgiLCJ0aW1lem9uZVJlZ2V4IiwiZGF0ZVN0cmluZyIsInRpbWVTdHJpbmciLCJ0ZXN0Iiwic3Vic3RyIiwidG9rZW4iLCJleGVjIiwicmVwbGFjZSIsInJlZ2V4IiwiUmVnRXhwIiwiY2FwdHVyZXMiLCJtYXRjaCIsInBhcnNlSW50IiwiY2VudHVyeSIsImlzV2Vla0RhdGUiLCJkYXlPZlllYXIiLCJwYXJzZURhdGVVbml0IiwibW9udGgiLCJkYXkiLCJ3ZWVrIiwiZGF5T2ZXZWVrIiwiX3llYXIiLCJ2YWxpZGF0ZVdlZWtEYXRlIiwiaXNvV2Vla1llYXIiLCJzZXRVVENGdWxsWWVhciIsImRpZmYiLCJnZXRVVENEYXkiLCJzZXRVVENEYXRlIiwiZGF5T2ZJU09XZWVrWWVhciIsImRheXNJbk1vbnRocyIsImlzTGVhcFllYXJJbmRleCIsInZhbGlkYXRlRGF0ZSIsInZhbGlkYXRlRGF5T2ZZZWFyRGF0ZSIsIm1heCIsImhvdXJzIiwicGFyc2VUaW1lVW5pdCIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwidmFsaWRhdGVUaW1lIiwicGFyc2VGbG9hdCIsInRpbWV6b25lU3RyaW5nIiwic2lnbiIsIl9ob3VycyIsInZhbGlkYXRlVGltZXpvbmUiLCJnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzIiwidXRjRGF0ZSIsIlVUQyIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldE1pbGxpc2Vjb25kcyIsInN0YXJ0T2ZEYXkiLCJNSUxMSVNFQ09ORFNfSU5fREFZIiwiZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzIiwiZGlydHlEYXRlTGVmdCIsImRpcnR5RGF0ZVJpZ2h0Iiwic3RhcnRPZkRheUxlZnQiLCJzdGFydE9mRGF5UmlnaHQiLCJ0aW1lc3RhbXBMZWZ0IiwidGltZXN0YW1wUmlnaHQiLCJyb3VuZCIsImFkZERheXMiLCJkaXJ0eUFtb3VudCIsImFtb3VudCIsInNldERhdGUiLCJhZGRNb250aHMiLCJkYXlPZk1vbnRoIiwiZW5kT2ZEZXNpcmVkTW9udGgiLCJzZXRNb250aCIsImRheXNJbk1vbnRoIiwiZHVyYXRpb24iLCJ5ZWFycyIsIm1vbnRocyIsIndlZWtzIiwiZGF5cyIsImRhdGVXaXRoTW9udGhzIiwiZGF0ZVdpdGhEYXlzIiwibWludXRlc1RvQWRkIiwic2Vjb25kc1RvQWRkIiwibXNUb0FkZCIsImZpbmFsRGF0ZSIsInRvZGF5QXJyYXkiLCJqIiwiZW5kT2ZEYXkiLCJub3ciLCJ1cEFycmF5IiwiY29udGFpbnMiLCJidXR0b25DaGFuZ2UiLCJkb21CdG4iLCJ0ZXh0IiwiZGl2Q2hpbGQiLCJtYWtlQnRuIiwibWFrZVgiLCJtYWtlSW1nIiwiSW1hZ2UiLCJtYWtlRGl2IiwibmF2VG9nZ2xlIiwidG9nZ2xlQnV0dG9uIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIm5hdmJhckxpbmsiLCJtYWluIiwidG9nZ2xlIiwiYWN0aXZhdGVNb2RhbHMiLCJvcGVuTW9kYWxCdXR0b25zIiwiY2xvc2VNb2RhbEJ1dHRvbnMiLCJxdWVyeVNlbGVjdG9yIiwiYWRkUHJvamVjdCIsImFkZGl0aW9uYWxQcm9qZWN0IiwiYWRkVGFzayIsInVwZGF0ZWRWYWx1ZSIsInRhc2tJbmRleCIsImFkZGl0aW9uYWxUYXNrIiwibG9nIiwidGVzdFN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=