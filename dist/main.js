(()=>{"use strict";const e=e=>({projectName:e,tasks:[]}),t=function(e="none",t="",n=""){let r,o=document.createElement("div");if(""!=e){r=e.split(" ");for(let e=0;e<r.length;e++)o.classList.add(r[e])}return null!=t&&(o.id=t),null!=n&&(o.textContent=n),o},n=function(e="",t="",n=""){let r=e.split(" "),o=document.createElement("button");if(""!=e)for(let e=0;e<r.length;e++)o.classList.add(r[e]);return o.id=t,o.textContent=n,o},r=function(e){let t="h-6 w-6 cursor-pointer hover:-translate-y-1 hover:scale-110 transition ease-in-out duration-300".split(" "),n=document.createElement("img");n.src="/src/modules/edit.svg",n.dataset.modalTarget="#"+e+"otherModal";for(let e=0;e<t.length;e++)n.classList.add(t[e]);return n},o=function(e,t){let n="min-h-[20px] min-w-[20px] inline-block bg-white border-[3px] rounded-[50%] hover:bg-slate-300 mx-3".split(" "),r=document.createElement("span");for(let e=0;e<n.length;e++)r.classList.add(n[e]);return 0==t?r.classList.add("border-black"):1==t?r.classList.add("border-blue-500"):2==t?r.classList.add("border-orange-500"):3==t&&r.classList.add("border-red-500"),r.dataset.id=e,r},l=function(e){let t="h-[2px] bg-slate-700 w-[12px] block".split(" "),n=document.createElement("span");for(let e=0;e<t.length;e++)n.classList.add(t[e]);return e?n.classList.add("translate-y-[2px]"):n.classList.add("rotate-[90deg]"),n},a=function(e){let t=document.createElement("img");t.src="/src/modules/trash.svg",t.dataset.id=e;let n="h-6 w-6 cursor-pointer trash hover:-translate-y-1 hover:scale-110 transition ease-in-out duration-300".split(" ");for(let e=0;e<n.length;e++)t.classList.add(n[e]);return t},c=function(e){let t=e+"form",n=document.createElement("form");return n.setAttribute("id",t),n.setAttribute("action",""),n},d=function(e,t){let n=e+t,r=document.createElement("label");return r.setAttribute("for",n),r.textContent=t[0].toUpperCase()+t.slice(1,t.length)+":",r},s=function(e,t,n,r){let o=r.split(" "),l=document.createElement("input");for(let e=0;e<o.length;e++)l.classList.add(o[e]);let a=t+n;return l.setAttribute("type",e),l.setAttribute("id",a),"text"===e&&l.setAttribute("required",""),l},i=function(e,t){let n=t.split(" "),r=document.createElement("textarea");r.setAttribute("required","");let o=e+"description";for(let e=0;e<n.length;e++)r.classList.add(n[e]);return r.setAttribute("id",o),r.cols="5",r.rows="5",r},m=function(e,t){let n=t.split(" "),r=document.createElement("select"),o=e+"priority";r.setAttribute("id",o);for(let e=0;e<n.length;e++)r.classList.add(n[e]);let l=document.createElement("option");l.value="0",l.textContent="None";let a=document.createElement("option");a.value="1",a.textContent="Low";let c=document.createElement("option");c.value="2",c.textContent="Medium";let d=document.createElement("option");return d.value="3",d.textContent="High",r.append(l,a,c,d),r},u=(e,t,n,r,o)=>({objective:e,desc:t,priority:n,date:r,project:o});function p(e){let t=0;for(let n=0;n<h.getProjectItem().nameArray.length;n++)h.getProjectItem().nameArray[n]==e&&(t=n);return t}const g=(()=>{function e(e){null!=e&&(e.classList.remove("active"),overlay.classList.remove("active"))}return{taskModal:r=>{let o=t("modal break-normal",r+"Modal"),l=t("modal-header"),a=n("close-button","","");a.innerHTML="&times;",a.dataset.closeButton,a.addEventListener("click",(()=>{e(a.closest(".modal"))})),l.append(t("title","","Task Details"),a),o.append(l);let c=t("modal-body"),d=p(document.getElementById("title").textContent),s=h.getProjectItem().projectArray[d].projectName+" / "+h.getProjectItem().projectArray[d].tasks[r].project;return c.append(t("","","Project: "+s)),c.append(t("","","Title: "+h.getProjectItem().projectArray[d].tasks[r].objective)),c.append(t("","","Description: "+h.getProjectItem().projectArray[d].tasks[r].desc)),c.append(t("","","Due Date: "+h.getProjectItem().projectArray[d].tasks[r].date)),c.append(t("","","Priority: "+h.getProjectItem().projectArray[d].tasks[r].priority)),o.append(c),o},editModal:r=>{let o=t("modal",r+"otherModal"),a=t("modal-header"),g=n("close-button");g.innerHTML="&times;",g.dataset.closeButton,g.addEventListener("click",(()=>{e(g.closest(".modal"))})),a.append(t("title","","Edit Task"),g),o.append(a);let y=t("modal-body"),v=c(r),j=t("flex flex-col gap-2"),E=t("flex flex-col"),b=d(r,"objective"),k=s("text",r,"objective","bg-white border-[1px] border-black h-[2em] focus:border-[2px] focus:border-[#2994b2] focus:outline-none");E.append(b,k),j.append(E);let I=t("flex flex-col"),x=d(r,"description"),B=i(r,"bg-white border-[1px] border-black focus:border-[2px] focus:border-[#2994b2] focus:outline-none");I.append(x,B),j.append(I);let A=t("flex justify-around"),L=t("flex justify-start gap-12"),P=t("flex flex-col"),C=d(r,"priority"),w=m(r,"bg-white border-[1px] border-black h-7 focus:border-[2px] focus:border-[#2994b2] focus:outline-none");P.append(C,w),L.append(P);let T=t("flex flex-col"),M=d(r,"date"),S=s("date",r,"date","bg-white border-[1px] border-black focus:border-[2px] focus:border-[#2994b2] focus:outline-none");T.append(M,S),L.append(T),A.append(L);let N=n("flex text-xl my-2 items-center");N.setAttribute("type","submit"),N.setAttribute("form","taskForm");let q=p(document.getElementById("title").innerHTML);N.addEventListener("click",(e=>{const t=document.getElementById("overlay");e.preventDefault();let n=r+"objective",o=r+"description",l=r+"priority",a=r+"date",c=document.getElementById(n).value,d=document.getElementById(o).value,s=document.getElementById(l).value,i=document.getElementById(a).value,m=document.getElementById("title").innerHTML,p=h.getProjectItem();if(0!=q){for(let e=0;e<p.projectArray[0].tasks.length;e++)p.projectArray[0].tasks[e].objective==p.projectArray[q].tasks[r].objective&&p.projectArray[0].tasks.splice(e,1,u(c,d,s,i,m));p.projectArray[q].tasks.splice(r,1,u(c,d,s,i,m))}else p.projectArray[q].tasks.splice(r,1,u(c,d,s,i,m));document.getElementById(n).value="",document.getElementById(o).value="",document.getElementById(l).value="0",document.getElementById(a).value="",h.updateProjectInfo(p);let g=document.getElementById("content");for(;g.childNodes.length>4;)g.removeChild(g.firstChild);let y=h.getProjectItem();if(y.projectArray[q].tasks.length>0)for(let e=0;e<y.projectArray[q].tasks.length;e++){let t=f.upload(e);document.getElementById("content").insertBefore(t,document.getElementById("taskButton"))}t.classList.remove("active")}));let D=t("mx-2 relative"),H=l(!0),z=l(!1),J=t("","","Add");return D.append(H,z),N.append(D,J),A.append(N),j.append(A),v.append(j),y.append(v),o.append(y),o}}})(),y=(()=>{let e=0;return{kill:t=>{let n="task"+t,r=p(document.getElementById("title").innerHTML);document.getElementById("content").removeChild(document.getElementById(n));let o=h.getProjectItem();o.projectArray[r].tasks.splice(t-e,1),h.updateProjectInfo(o),0==o.projectArray[r].tasks.length?e=0:e++},reptitions:e}})(),f=(()=>{function e(e){null!=e&&(e.classList.add("active"),overlay.classList.add("active"))}return{upload:l=>{let c=t("","task"+l),d=t("rounded-[10px] flex justify-between hover:bg-[#cccccc] min-h-[3rem] items-center hover:relative hover:bottom-1 hover:shadow-xl flex-col lg:flex-row py-2"),s=p(document.getElementById("title").innerHTML),i=t("flex items-start justify-start lg:justify-start lg:items-center w-full"),m=o(l,h.getProjectItem().projectArray[s].tasks[l].priority);m.addEventListener("click",(()=>{y.kill(l)}));let u=h.getProjectItem().projectArray[s].tasks[l].objective,f=t("","",u);i.append(m,f),d.append(i);let v=t("flex gap-6 mr-8"),j=t(),E=n("hover:-translate-y-1 hover:scale-110 transition ease-in-out duration-300","","Details");E.dataset.modalTarget=l+"Modal",E.addEventListener("click",(()=>{e(document.getElementById(E.dataset.modalTarget))}));let b=g.taskModal(l);j.append(E,b),v.append(j);let k=r(l);k.dataset.modalTarget=l+"otherModal",k.addEventListener("click",(()=>{e(document.getElementById(k.dataset.modalTarget))}));let I=g.editModal(l);v.append(k,I);let x=a(l);return x.addEventListener("click",(()=>{y.kill(l)})),v.append(x),d.append(v),c.append(d),c}}})();function v(e){e.forEach((e=>{let t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)}))}function j(){v(document.querySelectorAll(".killbill")),document.querySelectorAll(".killbill").forEach((e=>{e.addEventListener("click",(()=>{e.parentElement.classList.add("gettingDeleted");let t=p(e.previousElementSibling.dataset.projectName),n=h.getProjectItem();n.nameArray.splice(t,1),n.projectArray.splice(t,1);let r=e.previousElementSibling.dataset.projectName.trim();if(n.projectArray[0].tasks.length>0)for(let e=0;e<n.projectArray[0].tasks.length;e++)n.projectArray[0].tasks[e].project==r&&(n.projectArray[0].tasks.splice(e,1),e-=1);h.updateProjectInfo(n),e.parentElement.remove()}))}))}const h=(()=>{const e=e=>{localStorage.setItem("projectInfo",JSON.stringify(e))},t=()=>JSON.parse(localStorage.getItem("projectInfo"));return{updateProjectInfo:e,getProjectItem:t,initialize:()=>{let n=t();if(e(n),0!=t().projectArray[0].tasks.length)for(let e=0;e<t().projectArray[0].tasks.length;e++){let t=f.upload(e);document.getElementById("content").insertBefore(t,document.getElementById("taskButton"))}(()=>{for(let e=3;e<t().nameArray.length;e++){let n=t().nameArray[e];const r=document.getElementById("additionalProjects"),o=k.makeBtn(["hover:bg-[#cccccc]","rounded-md","w-full","py-2","flex","justify-between","items-center","h-12","px-1","directory"]),l=k.makeImg(["h-[1.3rem]","w-[1.3rem]","flex","justify-start","items-center","mx-4","box-content"]),a=k.makeDiv(n);a.classList.add("closest");const c=k.makeX(["ml-4","z-10","flex","justify-end","killbill"]);o.append(l),o.append(a),o.append(c),r.insertBefore(o,document.getElementById("addBefore")),v(document.querySelectorAll(".directory")),k.buttonChange(),j()}})()}}})(),E=(()=>{const t=[],n=[];return document.querySelectorAll("[data-project-name]").forEach((r=>{t.push(r.dataset.projectName);let o=e(r.dataset.projectName);n.push(o)})),{nameArray:t,projectArray:n}})(),b=e=>{y.reptitions=0;let t=p(document.getElementById("title").innerHTML.trim()),n=document.getElementById("content");for(;n.childNodes.length>4;)n.removeChild(n.firstChild);if(!e.classList.contains("gettingDeleted")){let e=h.getProjectItem();if(e.projectArray[t].tasks.length>0)for(let n=0;n<e.projectArray[t].tasks.length;n++){let e=f.upload(n);document.getElementById("content").insertBefore(e,document.getElementById("taskButton"))}}},k=(()=>{const t=()=>{let e=document.querySelectorAll(".directory");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{e.forEach((e=>{e.classList.contains("toggled")&&e.classList.remove("toggled")}));const n=document.getElementById("title");let r,o=e[t].childNodes;r=o.length>3?o[3].textContent:o[1].textContent,e[t].classList.add("toggled"),n.textContent=r}));document.querySelectorAll(".directory").forEach((e=>{e.addEventListener("click",(()=>{b(e)}))}))};function n(e){const t=document.createElement("button");for(let n=0;n<e.length;n++)t.classList.add(e[n]);return t}function r(e){const t=document.createElement("div");t.innerHTML="&times;";for(let n=0;n<e.length;n++)t.classList.add(e[n]);return t}function o(e){const t=new Image(20,20);t.src="/src/modules/project-image.png";for(let n=0;n<e.length;n++)t.classList.add(e[n]);return t}function l(e){const t=document.createElement("div");return t.textContent=e,t.dataset.projectName=e,t.dataset.id=E.nameArray.length-1,t}return{buttonChange:t,navToggle:()=>{const e=document.getElementsByClassName("toggle-button")[0],t=document.getElementById("nav"),n=document.getElementById("main");e.addEventListener("click",(()=>{t.classList.toggle("active"),n.classList.toggle("active")}))},activateModals:()=>{const e=document.querySelectorAll("[data-modal-target"),t=document.querySelectorAll("[data-close-button]"),n=document.getElementById("overlay");e.forEach((e=>{e.addEventListener("click",(()=>{var t;null!=(t=document.querySelector(e.dataset.modalTarget))&&(t.classList.add("active"),n.classList.add("active"))}))})),t.forEach((e=>{e.addEventListener("click",(()=>{var t;null!=(t=e.closest(".modal"))&&(t.classList.remove("active"),n.classList.remove("active"))}))}))},addProject:()=>{document.getElementById("addProject").addEventListener("click",(a=>{a.preventDefault(),function(){const a=document.getElementById("name").value.trim();document.getElementById("name").value="";let c=0,d=0;for(;c<h.getProjectItem().nameArray.length;){if(h.getProjectItem().nameArray[c]===a){d++;break}c++}if(0==d){let c=e(a),d=h.getProjectItem();d.projectArray.push(c),d.nameArray.push(a);const s=document.getElementById("additionalProjects"),i=n(["hover:bg-[#cccccc]","rounded-md","w-full","py-2","flex","justify-between","items-center","h-12","px-1","directory"]),m=o(["h-[1.3rem]","w-[1.3rem]","flex","justify-start","items-center","mx-4","box-content"]),u=l(a);u.classList.add("closest");const p=r(["ml-4","z-10","flex","justify-end","killbill"]);i.append(m),i.append(u),i.append(p),s.insertBefore(i,document.getElementById("addBefore")),v(document.querySelectorAll(".directory")),t(),j(),h.updateProjectInfo(d)}}()}))},addTask:()=>{document.getElementById("addTask").addEventListener("click",(e=>{e.preventDefault(),function(){const e=document.getElementById("title");let t=p(e.innerHTML),n=document.getElementById("objective").value,r=document.getElementById("description").value,o=document.getElementById("priority").value,l=document.getElementById("date").value,a=h.getProjectItem();"Inbox"!=e.textContent?(a.projectArray[0].tasks.push(u(n,r,o,l,e.textContent.trim())),a.projectArray[t].tasks.push(u(n,r,o,l,e.textContent.trim()))):a.projectArray[0].tasks.push(u(n,r,o,l,e.textContent.trim())),h.updateProjectInfo(a),document.getElementById("objective").value="",document.getElementById("description").value="",document.getElementById("priority").value="0",document.getElementById("date").value="";let c=a.projectArray[t].tasks.length-1,d=f.upload(c);document.getElementById("content").insertBefore(d,document.getElementById("taskButton"))}()}))},makeBtn:n,makeDiv:l,makeImg:o,makeX:r}})();k.buttonChange(),h.initialize(),k.navToggle(),k.activateModals(),k.addProject(),k.addTask(),console.log({testString:"This is working, along with Tailwind!"})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SCxVQUU1R3lDLEVBQWE1RyxhQUFhLEdBQUdsRSxNQUFNb0osS0FBSyxFQUFTekcsRUFBVThDLEVBQVlyRSxFQUFTeUIsRUFBTUcsRUFBTWxDLFlBQVl1SCxTQUU1RyxvQkFBMEJ5QyxHQUMxQnhLLFNBQVMyRCxlQUFlLGFBQWEzQixNQUFRLEdBQzdDaEMsU0FBUzJELGVBQWUsZUFBZTNCLE1BQVEsR0FDL0NoQyxTQUFTMkQsZUFBZSxZQUFZM0IsTUFBUSxJQUM1Q2hDLFNBQVMyRCxlQUFlLFFBQVEzQixNQUFRLEdBQ3hDLElBQUl5SSxFQUFZRCxFQUFhNUcsYUFBYWpCLEdBQU9qRCxNQUFNVSxPQUFTLEVBQzVEdUYsRUFBVSxFQUFBQyxPQUFtQjZFLEdBQ2pDekssU0FBUzJELGVBQWUsV0FBV2tDLGFBQWFGLEVBQVMzRixTQUFTMkQsZUFBZSxjQUNyRixDQTNCUStHLEVBQWUsR0FDbEIsRUFrQ0RyQixVQUNBSSxVQUNBRixVQUNBRCxRQUVQLEVBaE1jLEdDTmYsaUJBRUEsZUFFQSxjQUVBLG1CQUVBLGVBRUEsWUFFQXFCLFFBQVFDLElBQUksQ0FBQ0MsV0FBWSx5QyIsInNvdXJjZXMiOlsid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvaW5mb3JtYXRpb25GYWN0b3J5LmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvY3JlYXRlRWxlbWVudHMuanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9tYWtlVGFzay5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2dldElkLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvY3JlYXRlTW9kYWwuanMiLCJ3ZWJwYWNrOi8vdGhlLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9raWxsVGFzay5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3VwbG9hZFRhc2tzLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvdXBkYXRlQnV0dG9ucy5qcyIsIndlYnBhY2s6Ly90aGUtZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2tpbGxQcm9qZWN0LmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvbG9jYWxTdG9yYWdlLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdEluZm9ybWF0aW9uLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvdXBkYXRlRGlyZWN0b3J5LmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL21vZHVsZXMvZG9tTWFuaXB1bGF0aW9uLmpzIiwid2VicGFjazovL3RoZS1kby1saXN0Ly4vc3JjL2FwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBpRmFjdG9yeSA9IChwcm9qZWN0TmFtZSkgPT4ge1xuICAgIGxldCB0YXNrcyA9IFtdXG4gICAgcmV0dXJuIHtwcm9qZWN0TmFtZSwgdGFza3N9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlGYWN0b3J5IiwiY29uc3QgbmV3RWxlbWVudCA9ICgoKSA9PiB7XG4gICAgZnVuY3Rpb24gbWFrZURpdihzdHJpbmcgPSAnbm9uZScsIGlkID0gJycsIGlubmVyQ29udGVudCA9ICcnKSB7XG4gICAgICAgIGxldCBhcnJheVxuICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgaWYgKHN0cmluZyAhPSAnJykge1xuICAgICAgICAgICAgYXJyYXkgPSBzdHJpbmcuc3BsaXQoJyAnKVxuICAgICAgICAgICAgZm9yIChsZXQgaT0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoYXJyYXlbaV0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICggaWQgIT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgZGl2LmlkID0gaWRcbiAgICAgICAgfVxuICAgICAgICBpZiAoIGlubmVyQ29udGVudCAhPSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICAgZGl2LnRleHRDb250ZW50ID0gaW5uZXJDb250ZW50XG5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGl2XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUJ1dHRvbihzdHJpbmcgPSAnJywgaWQgPSAnJywgaW5uZXJDb250ZW50ID0gJycpIHtcbiAgICAgICAgbGV0IGFycmF5ID0gc3RyaW5nLnNwbGl0KCcgJylcbiAgICAgICAgbGV0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgICAgIGlmIChzdHJpbmcgIT0gJycpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPTA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKGFycmF5W2ldKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJ0bi5pZCA9IGlkXG4gICAgICAgIGJ0bi50ZXh0Q29udGVudCA9IGlubmVyQ29udGVudFxuICAgICAgICByZXR1cm4gYnRuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUVkaXRJbWcoaWQpIHtcbiAgICAgICAgbGV0IHN0ciA9IFwiaC02IHctNiBjdXJzb3ItcG9pbnRlciBob3ZlcjotdHJhbnNsYXRlLXktMSBob3ZlcjpzY2FsZS0xMTAgdHJhbnNpdGlvbiBlYXNlLWluLW91dCBkdXJhdGlvbi0zMDBcIlxuICAgICAgICBsZXQgYXJyYXkgPSBzdHIuc3BsaXQoJyAnKVxuICAgICAgICBsZXQgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgICAgICAgaW1nLnNyYyA9ICcvc3JjL21vZHVsZXMvZWRpdC5zdmcnXG4gICAgICAgIGltZy5kYXRhc2V0Lm1vZGFsVGFyZ2V0ID0gJyMnICsgaWQgKyAnb3RoZXJNb2RhbCdcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoYXJyYXlbaV0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltZ1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VUcmFzaEltZyhpZCkge1xuICAgICAgICBsZXQgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgICAgICAgaW1nLnNyYyA9ICcvc3JjL21vZHVsZXMvdHJhc2guc3ZnJ1xuICAgICAgICBpbWcuZGF0YXNldC5pZCA9IGlkXG4gICAgICAgIGxldCBzdHIgPSBcImgtNiB3LTYgY3Vyc29yLXBvaW50ZXIgdHJhc2ggaG92ZXI6LXRyYW5zbGF0ZS15LTEgaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24gZWFzZS1pbi1vdXQgZHVyYXRpb24tMzAwXCJcbiAgICAgICAgbGV0IGFycmF5ID0gc3RyLnNwbGl0KCcgJylcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoYXJyYXlbaV0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltZ1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNpcmNsZVNwYW4oaWQsIHByaW9yaXR5KSB7XG4gICAgICAgIGxldCBzdHIgPSBcIm1pbi1oLVsyMHB4XSBtaW4tdy1bMjBweF0gaW5saW5lLWJsb2NrIGJnLXdoaXRlIGJvcmRlci1bM3B4XSByb3VuZGVkLVs1MCVdIGhvdmVyOmJnLXNsYXRlLTMwMCBteC0zXCJcbiAgICAgICAgbGV0IGFycmF5ID0gc3RyLnNwbGl0KCcgJylcbiAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKGFycmF5W2ldKVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcmlvcml0eSA9PSAwKSB7XG4gICAgICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1ibGFjaycpXG4gICAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHkgPT0gMSkge1xuICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdib3JkZXItYmx1ZS01MDAnKVxuICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5ID09IDIpIHtcbiAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgnYm9yZGVyLW9yYW5nZS01MDAnKVxuICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5ID09IDMpIHtcbiAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXJlZC01MDAnKVxuICAgICAgICB9XG4gICAgICAgIHNwYW4uZGF0YXNldC5pZCA9IGlkXG4gICAgICAgIHJldHVybiBzcGFuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb3RoZXJTcGFuKGZpcnN0KSB7XG4gICAgICAgIGxldCBzdHIgPSBcImgtWzJweF0gYmctc2xhdGUtNzAwIHctWzEycHhdIGJsb2NrXCJcbiAgICAgICAgbGV0IGFycmF5ID0gc3RyLnNwbGl0KCcgJylcbiAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKGFycmF5W2ldKVxuICAgICAgICB9XG4gICAgICAgIGlmIChmaXJzdCkgc3Bhbi5jbGFzc0xpc3QuYWRkKCd0cmFuc2xhdGUteS1bMnB4XScpO1xuICAgICAgICBlbHNlIHNwYW4uY2xhc3NMaXN0LmFkZCgncm90YXRlLVs5MGRlZ10nKTtcbiAgICAgICAgcmV0dXJuIHNwYW5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlRm9ybShpZCkge1xuICAgICAgICBsZXQgc3RySWQgPSBpZCArICdmb3JtJ1xuICAgICAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKVxuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgnaWQnLCBzdHJJZClcbiAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ2FjdGlvbicsICcnKVxuICAgICAgICByZXR1cm4gZm9ybVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VMYWJlbChpZCwgc2VsZWN0b3IpIHtcbiAgICAgICAgbGV0IHN0cklkID0gaWQgKyBzZWxlY3RvclxuICAgICAgICBsZXQgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpXG4gICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgc3RySWQpXG4gICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gc2VsZWN0b3JbMF0udG9VcHBlckNhc2UoKSArIHNlbGVjdG9yLnNsaWNlKDEsIChzZWxlY3Rvci5sZW5ndGgpKSArICc6J1xuICAgICAgICByZXR1cm4gbGFiZWxcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlSW5wdXQodHlwZSwgaWQsIHNlbGVjdG9yLCBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGFycmF5ID0gc3RyaW5nLnNwbGl0KCcgJylcbiAgICAgICAgbGV0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKVxuICAgICAgICBmb3IgKGxldCBpID0wOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoYXJyYXlbaV0pXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0cklkID0gaWQgKyBzZWxlY3RvclxuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCB0eXBlKVxuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2lkJywgc3RySWQpXG4gICAgICAgIGlmICggdHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgJycpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlucHV0XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZVRleHRBcmVhKGlkLCBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGFycmF5ID0gc3RyaW5nLnNwbGl0KCcgJylcbiAgICAgICAgbGV0IHRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKVxuICAgICAgICB0ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgJycpXG4gICAgICAgIGxldCBzdHJJZCA9IGlkICsgJ2Rlc2NyaXB0aW9uJ1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0ZXh0YXJlYS5jbGFzc0xpc3QuYWRkKGFycmF5W2ldKVxuICAgICAgICB9XG4gICAgICAgIHRleHRhcmVhLnNldEF0dHJpYnV0ZSgnaWQnLCBzdHJJZClcbiAgICAgICAgdGV4dGFyZWEuY29scyA9ICc1J1xuICAgICAgICB0ZXh0YXJlYS5yb3dzID0gJzUnXG4gICAgICAgIHJldHVybiB0ZXh0YXJlYVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VTZWxlY3QoaWQsIHN0cmluZykge1xuICAgICAgICBsZXQgYXJyYXkgPSBzdHJpbmcuc3BsaXQoJyAnKVxuICAgICAgICBsZXQgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0JylcbiAgICAgICAgbGV0IHByaW9yaXR5SWQgPSBpZCArICdwcmlvcml0eSdcbiAgICAgICAgc2VsZWN0LnNldEF0dHJpYnV0ZSgnaWQnLCBwcmlvcml0eUlkKVxuICAgICAgICBmb3IgKGxldCBpID0wOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGVjdC5jbGFzc0xpc3QuYWRkKGFycmF5W2ldKVxuICAgICAgICB9XG4gICAgICAgIGxldCBvcDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKVxuICAgICAgICBvcDEudmFsdWUgPSAnMCdcbiAgICAgICAgb3AxLnRleHRDb250ZW50ID0gJ05vbmUnXG4gICAgICAgIGxldCBvcDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKVxuICAgICAgICBvcDIudmFsdWUgPSAnMSdcbiAgICAgICAgb3AyLnRleHRDb250ZW50ID0gJ0xvdydcbiAgICAgICAgbGV0IG9wMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpXG4gICAgICAgIG9wMy52YWx1ZSA9ICcyJ1xuICAgICAgICBvcDMudGV4dENvbnRlbnQgPSAnTWVkaXVtJ1xuICAgICAgICBsZXQgb3A0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJylcbiAgICAgICAgb3A0LnZhbHVlID0gJzMnXG4gICAgICAgIG9wNC50ZXh0Q29udGVudCA9ICdIaWdoJ1xuICAgICAgICBzZWxlY3QuYXBwZW5kKG9wMSwgb3AyLCBvcDMsIG9wNClcbiAgICAgICAgcmV0dXJuIHNlbGVjdFxuXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgbWFrZURpdiwgbWFrZUJ1dHRvbiwgbWFrZUVkaXRJbWcsIGNpcmNsZVNwYW4sIG90aGVyU3BhbiwgbWFrZVRyYXNoSW1nLCBtYWtlRm9ybSwgbWFrZUxhYmVsLCBtYWtlSW5wdXQsIG1ha2VUZXh0QXJlYSwgbWFrZVNlbGVjdH1cbn0pKClcblxuZXhwb3J0IGRlZmF1bHQgbmV3RWxlbWVudCIsImNvbnN0IG1ha2VUYXNrID0gKG9iamVjdGl2ZSwgZGVzYywgcHJpb3JpdHksIGRhdGUsIHByb2plY3QpID0+IHtcbiAgICByZXR1cm4ge29iamVjdGl2ZSwgZGVzYywgcHJpb3JpdHksIGRhdGUsIHByb2plY3R9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VUYXNrIiwiaW1wb3J0IHN0b3JhZ2UgZnJvbSBcIi4vbG9jYWxTdG9yYWdlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0SWQodGl0bGUpIHtcbiAgICBsZXQgaW5kZXggPSAwXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdG9yYWdlLmdldFByb2plY3RJdGVtKCkubmFtZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzdG9yYWdlLmdldFByb2plY3RJdGVtKCkubmFtZUFycmF5W2ldID09IHRpdGxlKSB7XG4gICAgICAgICAgICBpbmRleCA9IGlcbiAgICAgICAgfSBcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4XG59IiwiaW1wb3J0IG5ld0VsZW1lbnQgZnJvbSBcIi4vY3JlYXRlRWxlbWVudHNcIlxuaW1wb3J0IG1ha2VUYXNrIGZyb20gXCIuL21ha2VUYXNrXCJcbmltcG9ydCBnZXRJZCBmcm9tIFwiLi9nZXRJZFwiXG5pbXBvcnQgc3RvcmFnZSBmcm9tIFwiLi9sb2NhbFN0b3JhZ2VcIlxuaW1wb3J0IHVwbG9hZFRhc2tzIGZyb20gXCIuL3VwbG9hZFRhc2tzXCJcblxuY29uc3QgY3JlYXRlTW9kYWwgPSAoKCkgPT4ge1xuICAgIGNvbnN0IHRhc2tNb2RhbCA9IChpZCkgPT4ge1xuICAgICAgICBsZXQgc3RyTW9kYWwgPSBpZCArICdNb2RhbCdcbiAgICAgICAgbGV0IGdvZERpdiA9IG5ld0VsZW1lbnQubWFrZURpdignbW9kYWwgYnJlYWstbm9ybWFsJywgc3RyTW9kYWwpXG4gICAgICAgIGxldCBtb2RhbEhlYWRlciA9IG5ld0VsZW1lbnQubWFrZURpdignbW9kYWwtaGVhZGVyJylcbiAgICAgICAgbGV0IGNsb3NlQnRuID0gbmV3RWxlbWVudC5tYWtlQnV0dG9uKCdjbG9zZS1idXR0b24nLCAnJywgJycpXG4gICAgICAgIGNsb3NlQnRuLmlubmVySFRNTCA9ICcmdGltZXM7J1xuICAgICAgICBjbG9zZUJ0bi5kYXRhc2V0LmNsb3NlQnV0dG9uXG4gICAgICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBjbG9zZUJ0bi5jbG9zZXN0KCcubW9kYWwnKVxuICAgICAgICAgICAgY2xvc2VNb2RhbChtb2RhbClcbiAgICAgICAgfSlcbiAgICAgICAgbW9kYWxIZWFkZXIuYXBwZW5kKG5ld0VsZW1lbnQubWFrZURpdigndGl0bGUnLCAnJywgJ1Rhc2sgRGV0YWlscycpLCBjbG9zZUJ0bilcbiAgICAgICAgZ29kRGl2LmFwcGVuZChtb2RhbEhlYWRlcilcbiAgICAgICAgbGV0IG1vZGFsQm9keSA9IG5ld0VsZW1lbnQubWFrZURpdignbW9kYWwtYm9keScpXG4gICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpLnRleHRDb250ZW50XG4gICAgICAgIGxldCBuZXdJbmRleCA9IGdldElkKHRpdGxlKVxuICAgICAgICBsZXQgcHJvamVjdE5hbWUgPSBzdG9yYWdlLmdldFByb2plY3RJdGVtKCkucHJvamVjdEFycmF5W25ld0luZGV4XS5wcm9qZWN0TmFtZSArIFwiIC8gXCIgKyBzdG9yYWdlLmdldFByb2plY3RJdGVtKCkucHJvamVjdEFycmF5W25ld0luZGV4XS50YXNrc1tpZF0ucHJvamVjdFxuICAgICAgICBtb2RhbEJvZHkuYXBwZW5kKG5ld0VsZW1lbnQubWFrZURpdignJywnJywgKCdQcm9qZWN0OiAnICsgcHJvamVjdE5hbWUpKSlcbiAgICAgICAgbW9kYWxCb2R5LmFwcGVuZChuZXdFbGVtZW50Lm1ha2VEaXYoJycsJycsICgnVGl0bGU6ICcgKyBzdG9yYWdlLmdldFByb2plY3RJdGVtKCkucHJvamVjdEFycmF5W25ld0luZGV4XS50YXNrc1tpZF0ub2JqZWN0aXZlKSkpXG4gICAgICAgIG1vZGFsQm9keS5hcHBlbmQobmV3RWxlbWVudC5tYWtlRGl2KCcnLCcnLCAoJ0Rlc2NyaXB0aW9uOiAnICsgc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpLnByb2plY3RBcnJheVtuZXdJbmRleF0udGFza3NbaWRdLmRlc2MpKSlcbiAgICAgICAgbW9kYWxCb2R5LmFwcGVuZChuZXdFbGVtZW50Lm1ha2VEaXYoJycsJycsICgnRHVlIERhdGU6ICcgKyBzdG9yYWdlLmdldFByb2plY3RJdGVtKCkucHJvamVjdEFycmF5W25ld0luZGV4XS50YXNrc1tpZF0uZGF0ZSkpKVxuICAgICAgICBtb2RhbEJvZHkuYXBwZW5kKG5ld0VsZW1lbnQubWFrZURpdignJywnJywgKCdQcmlvcml0eTogJyArIHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKS5wcm9qZWN0QXJyYXlbbmV3SW5kZXhdLnRhc2tzW2lkXS5wcmlvcml0eSkpKVxuICAgICAgICBnb2REaXYuYXBwZW5kKG1vZGFsQm9keSlcbiAgICAgICAgcmV0dXJuIGdvZERpdlxuICAgIH1cblxuICAgIGNvbnN0IGVkaXRNb2RhbCA9IChpZCkgPT4ge1xuICAgICAgICBsZXQgc3RyTW9kYWwgPSBpZCArICdvdGhlck1vZGFsJ1xuICAgICAgICBsZXQgZ29kRGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KCdtb2RhbCcsIHN0ck1vZGFsKVxuICAgICAgICBsZXQgbW9kYWxIZWFkZXIgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJ21vZGFsLWhlYWRlcicpXG4gICAgICAgIGxldCBjbG9zZUJ0biA9IG5ld0VsZW1lbnQubWFrZUJ1dHRvbignY2xvc2UtYnV0dG9uJylcbiAgICAgICAgY2xvc2VCdG4uaW5uZXJIVE1MID0gJyZ0aW1lczsnXG4gICAgICAgIGNsb3NlQnRuLmRhdGFzZXQuY2xvc2VCdXR0b25cbiAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb2RhbCA9IGNsb3NlQnRuLmNsb3Nlc3QoJy5tb2RhbCcpXG4gICAgICAgICAgICBjbG9zZU1vZGFsKG1vZGFsKVxuICAgICAgICB9KVxuICAgICAgICBtb2RhbEhlYWRlci5hcHBlbmQobmV3RWxlbWVudC5tYWtlRGl2KCd0aXRsZScsICcnLCAnRWRpdCBUYXNrJyksIGNsb3NlQnRuKVxuICAgICAgICBnb2REaXYuYXBwZW5kKG1vZGFsSGVhZGVyKVxuICAgICAgICBsZXQgbW9kYWxCb2R5ID0gbmV3RWxlbWVudC5tYWtlRGl2KCdtb2RhbC1ib2R5JylcbiAgICAgICAgbGV0IGZvcm0gPSBuZXdFbGVtZW50Lm1ha2VGb3JtKGlkKVxuICAgICAgICBsZXQgY29udGFpbmVyID0gbmV3RWxlbWVudC5tYWtlRGl2KCdmbGV4IGZsZXgtY29sIGdhcC0yJylcbiAgICAgICAgbGV0IG9iamVjdGl2ZURpdiA9IG5ld0VsZW1lbnQubWFrZURpdihcImZsZXggZmxleC1jb2xcIilcbiAgICAgICAgbGV0IG9iamVjdGl2ZUxhYmVsID0gbmV3RWxlbWVudC5tYWtlTGFiZWwoaWQsICdvYmplY3RpdmUnKVxuICAgICAgICBsZXQgb2JqZWN0aXZlSW5wdXQgPSBuZXdFbGVtZW50Lm1ha2VJbnB1dCgndGV4dCcsIGlkLCAnb2JqZWN0aXZlJywgXCJiZy13aGl0ZSBib3JkZXItWzFweF0gYm9yZGVyLWJsYWNrIGgtWzJlbV0gZm9jdXM6Ym9yZGVyLVsycHhdIGZvY3VzOmJvcmRlci1bIzI5OTRiMl0gZm9jdXM6b3V0bGluZS1ub25lXCIpXG4gICAgICAgIG9iamVjdGl2ZURpdi5hcHBlbmQob2JqZWN0aXZlTGFiZWwsIG9iamVjdGl2ZUlucHV0KVxuICAgICAgICBjb250YWluZXIuYXBwZW5kKG9iamVjdGl2ZURpdilcbiAgICAgICAgbGV0IGRlc2NEaXYgPSBuZXdFbGVtZW50Lm1ha2VEaXYoXCJmbGV4IGZsZXgtY29sXCIpXG4gICAgICAgIGxldCBkZXNjTGFiZWwgPSBuZXdFbGVtZW50Lm1ha2VMYWJlbChpZCwgJ2Rlc2NyaXB0aW9uJylcbiAgICAgICAgbGV0IGRlc2NUZXh0ID0gbmV3RWxlbWVudC5tYWtlVGV4dEFyZWEoaWQsIFwiYmctd2hpdGUgYm9yZGVyLVsxcHhdIGJvcmRlci1ibGFjayBmb2N1czpib3JkZXItWzJweF0gZm9jdXM6Ym9yZGVyLVsjMjk5NGIyXSBmb2N1czpvdXRsaW5lLW5vbmVcIilcbiAgICAgICAgZGVzY0Rpdi5hcHBlbmQoZGVzY0xhYmVsLCBkZXNjVGV4dClcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZChkZXNjRGl2KVxuICAgICAgICBsZXQgdHdvU2VsZWN0b3JzID0gbmV3RWxlbWVudC5tYWtlRGl2KFwiZmxleCBqdXN0aWZ5LWFyb3VuZFwiKVxuICAgICAgICBsZXQgcGFyZW50RGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KCdmbGV4IGp1c3RpZnktc3RhcnQgZ2FwLTEyJylcbiAgICAgICAgbGV0IHByaW9yaXR5RGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KFwiZmxleCBmbGV4LWNvbFwiKVxuICAgICAgICBsZXQgcHJpb3JpdHlMYWJlbCA9IG5ld0VsZW1lbnQubWFrZUxhYmVsKGlkLCBcInByaW9yaXR5XCIpXG4gICAgICAgIGxldCBwcmlvcml0eVNlbGVjdCA9IG5ld0VsZW1lbnQubWFrZVNlbGVjdChpZCwgJ2JnLXdoaXRlIGJvcmRlci1bMXB4XSBib3JkZXItYmxhY2sgaC03IGZvY3VzOmJvcmRlci1bMnB4XSBmb2N1czpib3JkZXItWyMyOTk0YjJdIGZvY3VzOm91dGxpbmUtbm9uZScpXG4gICAgICAgIHByaW9yaXR5RGl2LmFwcGVuZChwcmlvcml0eUxhYmVsLCBwcmlvcml0eVNlbGVjdClcbiAgICAgICAgcGFyZW50RGl2LmFwcGVuZChwcmlvcml0eURpdilcbiAgICAgICAgbGV0IGRhdGVEaXYgPSBuZXdFbGVtZW50Lm1ha2VEaXYoXCJmbGV4IGZsZXgtY29sXCIpXG4gICAgICAgIGxldCBkYXRlTGFiZWwgPSBuZXdFbGVtZW50Lm1ha2VMYWJlbChpZCwgXCJkYXRlXCIpXG4gICAgICAgIGxldCBkYXRlSW5wdXQgPSBuZXdFbGVtZW50Lm1ha2VJbnB1dCgnZGF0ZScsIGlkLCAnZGF0ZScsIFwiYmctd2hpdGUgYm9yZGVyLVsxcHhdIGJvcmRlci1ibGFjayBmb2N1czpib3JkZXItWzJweF0gZm9jdXM6Ym9yZGVyLVsjMjk5NGIyXSBmb2N1czpvdXRsaW5lLW5vbmVcIilcbiAgICAgICAgZGF0ZURpdi5hcHBlbmQoZGF0ZUxhYmVsLCBkYXRlSW5wdXQpXG4gICAgICAgIHBhcmVudERpdi5hcHBlbmQoZGF0ZURpdilcbiAgICAgICAgdHdvU2VsZWN0b3JzLmFwcGVuZChwYXJlbnREaXYpXG4gICAgICAgIGxldCBsYXN0QnRuID0gbmV3RWxlbWVudC5tYWtlQnV0dG9uKFwiZmxleCB0ZXh0LXhsIG15LTIgaXRlbXMtY2VudGVyXCIpXG4gICAgICAgIGxhc3RCdG4uc2V0QXR0cmlidXRlKCd0eXBlJywgJ3N1Ym1pdCcpXG4gICAgICAgIGxhc3RCdG4uc2V0QXR0cmlidXRlKCdmb3JtJywgJ3Rhc2tGb3JtJylcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKS5pbm5lckhUTUxcbiAgICAgICAgbGV0IGluZGV4ID0gZ2V0SWQodGl0bGUpXG4gICAgICAgIGxhc3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+e1xuICAgICAgICAgICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5JylcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIGxldCBvYmplY3RJZCA9IGlkICsgJ29iamVjdGl2ZSdcbiAgICAgICAgICAgIGxldCBkZXNjSWQgPSBpZCArICdkZXNjcmlwdGlvbidcbiAgICAgICAgICAgIGxldCBwcmlvcml0eUlkID0gaWQgKyAncHJpb3JpdHknXG4gICAgICAgICAgICBsZXQgZGF0ZUlkID0gaWQgKyAnZGF0ZSdcbiAgICAgICAgICAgIGxldCBvYmplY3RpdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvYmplY3RJZCkudmFsdWVcbiAgICAgICAgICAgIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlc2NJZCkudmFsdWVcbiAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByaW9yaXR5SWQpLnZhbHVlXG4gICAgICAgICAgICBsZXQgZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGVJZCkudmFsdWVcbiAgICAgICAgICAgIGxldCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpLmlubmVySFRNTFxuICAgICAgICAgICAgbGV0IHVwZGF0ZWRQcm9qZWN0ID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpXG4gICAgICAgICAgICBpZiAoaW5kZXggIT0gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5WzBdLnRhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkUHJvamVjdC5wcm9qZWN0QXJyYXlbMF0udGFza3NbaV0ub2JqZWN0aXZlID09IHVwZGF0ZWRQcm9qZWN0LnByb2plY3RBcnJheVtpbmRleF0udGFza3NbaWRdLm9iamVjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5WzBdLnRhc2tzLnNwbGljZShpLCAxLCBtYWtlVGFzayhvYmplY3RpdmUsIGRlc2NyaXB0aW9uLCBwcmlvcml0eSwgZGF0ZSwgcHJvamVjdE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVwZGF0ZWRQcm9qZWN0LnByb2plY3RBcnJheVtpbmRleF0udGFza3Muc3BsaWNlKGlkLCAxLCBtYWtlVGFzayhvYmplY3RpdmUsIGRlc2NyaXB0aW9uLCBwcmlvcml0eSwgZGF0ZSwgcHJvamVjdE5hbWUpKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkUHJvamVjdC5wcm9qZWN0QXJyYXlbaW5kZXhdLnRhc2tzLnNwbGljZShpZCwgMSwgbWFrZVRhc2sob2JqZWN0aXZlLCBkZXNjcmlwdGlvbiwgcHJpb3JpdHksIGRhdGUsIHByb2plY3ROYW1lKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9iamVjdElkKS52YWx1ZSA9ICcnXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZXNjSWQpLnZhbHVlID0gJydcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByaW9yaXR5SWQpLnZhbHVlID0gJzAnXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkYXRlSWQpLnZhbHVlID0gJydcbiAgICAgICAgICAgIHN0b3JhZ2UudXBkYXRlUHJvamVjdEluZm8odXBkYXRlZFByb2plY3QpXG4gICAgICAgICAgICBsZXQgdGFza0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JylcbiAgICAgICAgICAgIHdoaWxlICh0YXNrQ29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgICAgIHRhc2tDb250YWluZXIucmVtb3ZlQ2hpbGQodGFza0NvbnRhaW5lci5maXJzdENoaWxkKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHByb2plY3RJbmZvID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpXG4gICAgICAgICAgICBpZiAocHJvamVjdEluZm8ucHJvamVjdEFycmF5W2luZGV4XS50YXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0SW5mby5wcm9qZWN0QXJyYXlbaW5kZXhdLnRhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdUYXNrID0gdXBsb2FkVGFza3MudXBsb2FkKGkpXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JykuaW5zZXJ0QmVmb3JlKG5ld1Rhc2ssIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrQnV0dG9uJykpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgICB9KVxuICAgICAgICBsZXQgbGFzdERpdiA9IG5ld0VsZW1lbnQubWFrZURpdihcIm14LTIgcmVsYXRpdmVcIilcbiAgICAgICAgbGV0IGZpcnN0U3BhbiA9IG5ld0VsZW1lbnQub3RoZXJTcGFuKHRydWUpXG4gICAgICAgIGxldCBzZWNTcGFuID0gbmV3RWxlbWVudC5vdGhlclNwYW4oZmFsc2UpXG4gICAgICAgIGxldCBpTGllZERpdiA9IG5ld0VsZW1lbnQubWFrZURpdignJywnJywnQWRkJylcbiAgICAgICAgbGFzdERpdi5hcHBlbmQoZmlyc3RTcGFuLCBzZWNTcGFuKVxuICAgICAgICBsYXN0QnRuLmFwcGVuZChsYXN0RGl2LCBpTGllZERpdilcbiAgICAgICAgLy8gbGFzdEJ0bi50ZXh0Q29udGVudCA9ICdBZGQnXG4gICAgICAgIHR3b1NlbGVjdG9ycy5hcHBlbmQobGFzdEJ0bilcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCh0d29TZWxlY3RvcnMpXG4gICAgICAgIGZvcm0uYXBwZW5kKGNvbnRhaW5lcilcbiAgICAgICAgbW9kYWxCb2R5LmFwcGVuZChmb3JtKVxuICAgICAgICBnb2REaXYuYXBwZW5kKG1vZGFsQm9keSlcbiAgICAgICAgcmV0dXJuIGdvZERpdlxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcbiAgICAgICAgaWYgKG1vZGFsID09IG51bGwpIHJldHVyblxuICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdGFza01vZGFsLCBlZGl0TW9kYWx9XG59KSgpXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZU1vZGFsIiwiaW1wb3J0IGdldElkIGZyb20gXCIuL2dldElkXCJcbmltcG9ydCBzdG9yYWdlIGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiXG5cbmNvbnN0IGtpbGxUYXNrID0gKCgpID0+IHtcbiAgICBjb25zdCBraWxsID0gKHRhc2tJZCkgPT4ge1xuICAgICAgICBsZXQgdGFza0lkTmFtZSA9ICd0YXNrJyArIHRhc2tJZFxuICAgICAgICBsZXQgcHJvamVjdEluZGV4ID0gZ2V0SWQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJykuaW5uZXJIVE1MKVxuICAgICAgICBsZXQgY29udGVudERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JylcbiAgICAgICAgY29udGVudERpdi5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXNrSWROYW1lKSlcbiAgICAgICAgbGV0IHVwZGF0ZWRQcm9qZWN0ID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpXG4gICAgICAgIHVwZGF0ZWRQcm9qZWN0LnByb2plY3RBcnJheVtwcm9qZWN0SW5kZXhdLnRhc2tzLnNwbGljZSgodGFza0lkIC0gcmVwdGl0aW9ucyksIDEpXG4gICAgICAgIHN0b3JhZ2UudXBkYXRlUHJvamVjdEluZm8odXBkYXRlZFByb2plY3QpXG4gICAgICAgIGlmICh1cGRhdGVkUHJvamVjdC5wcm9qZWN0QXJyYXlbcHJvamVjdEluZGV4XS50YXNrcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmVwdGl0aW9ucyA9IDBcbiAgICAgICAgfSBlbHNlIHtyZXB0aXRpb25zKyt9XG4gICAgfVxuXG4gICAgbGV0IHJlcHRpdGlvbnMgPSAwXG5cbiAgICByZXR1cm4geyBraWxsLCByZXB0aXRpb25zIH1cbn0pKClcblxuZXhwb3J0IGRlZmF1bHQga2lsbFRhc2siLCJpbXBvcnQgbmV3RWxlbWVudCBmcm9tIFwiLi9jcmVhdGVFbGVtZW50c1wiXG5pbXBvcnQgY3JlYXRlTW9kYWwgZnJvbSBcIi4vY3JlYXRlTW9kYWxcIlxuaW1wb3J0IGdldElkIGZyb20gXCIuL2dldElkXCJcbmltcG9ydCBraWxsVGFzayBmcm9tIFwiLi9raWxsVGFza1wiXG5pbXBvcnQgc3RvcmFnZSBmcm9tIFwiLi9sb2NhbFN0b3JhZ2VcIlxuXG5jb25zdCB1cGxvYWRUYXNrcyA9ICgoKSA9PiB7XG4gICAgY29uc3QgdXBsb2FkID0gKGlkKSA9PiB7XG4gICAgICAgIGxldCB0YXNrSWQgPSAndGFzaycgKyBpZFxuICAgICAgICBsZXQgdGFza0RpdiA9IG5ld0VsZW1lbnQubWFrZURpdignJywgdGFza0lkKVxuICAgICAgICBsZXQgZ3JhbmRGYXRoZXIgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJ3JvdW5kZWQtWzEwcHhdIGZsZXgganVzdGlmeS1iZXR3ZWVuIGhvdmVyOmJnLVsjY2NjY2NjXSBtaW4taC1bM3JlbV0gaXRlbXMtY2VudGVyIGhvdmVyOnJlbGF0aXZlIGhvdmVyOmJvdHRvbS0xIGhvdmVyOnNoYWRvdy14bCBmbGV4LWNvbCBsZzpmbGV4LXJvdyBweS0yJylcbiAgICAgICAgbGV0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJylcbiAgICAgICAgbGV0IGluZGV4ID0gZ2V0SWQodGl0bGUuaW5uZXJIVE1MKVxuICAgICAgICBsZXQgdGFza05hbWUgPSBuZXdFbGVtZW50Lm1ha2VEaXYoJ2ZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1zdGFydCBsZzpqdXN0aWZ5LXN0YXJ0IGxnOml0ZW1zLWNlbnRlciB3LWZ1bGwnKVxuICAgICAgICBsZXQgY2lyY2xlID0gbmV3RWxlbWVudC5jaXJjbGVTcGFuKGlkLCBzdG9yYWdlLmdldFByb2plY3RJdGVtKCkucHJvamVjdEFycmF5W2luZGV4XS50YXNrc1tpZF0ucHJpb3JpdHkpXG4gICAgICAgIGNpcmNsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGtpbGxUYXNrLmtpbGwoaWQpXG4gICAgICAgIH0pXG4gICAgICAgIGxldCBvYmplY3RUaXRsZSA9IHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKS5wcm9qZWN0QXJyYXlbaW5kZXhdLnRhc2tzW2lkXS5vYmplY3RpdmVcbiAgICAgICAgbGV0IHRhc2tOYW1lU3RyaW5nRGl2ID0gbmV3RWxlbWVudC5tYWtlRGl2KCcnLCcnLCBvYmplY3RUaXRsZSlcbiAgICAgICAgdGFza05hbWUuYXBwZW5kKGNpcmNsZSwgdGFza05hbWVTdHJpbmdEaXYpXG4gICAgICAgIGdyYW5kRmF0aGVyLmFwcGVuZCh0YXNrTmFtZSlcbiAgICAgICAgbGV0IHRhc2tIdWIgPSBuZXdFbGVtZW50Lm1ha2VEaXYoXCJmbGV4IGdhcC02IG1yLThcIilcbiAgICAgICAgbGV0IGRldGFpbERpdiA9IG5ld0VsZW1lbnQubWFrZURpdigpXG4gICAgICAgIGxldCBkZXRhaWxzQnV0dG9uID0gbmV3RWxlbWVudC5tYWtlQnV0dG9uKFwiaG92ZXI6LXRyYW5zbGF0ZS15LTEgaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24gZWFzZS1pbi1vdXQgZHVyYXRpb24tMzAwXCIsIFwiXCIsIFwiRGV0YWlsc1wiKVxuICAgICAgICBkZXRhaWxzQnV0dG9uLmRhdGFzZXQubW9kYWxUYXJnZXQgPSBpZCArICdNb2RhbCdcbiAgICAgICAgZGV0YWlsc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBkZXRhaWxzTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZXRhaWxzQnV0dG9uLmRhdGFzZXQubW9kYWxUYXJnZXQpXG4gICAgICAgICAgICBvcGVuTW9kYWwoZGV0YWlsc01vZGFsKVxuICAgICAgICB9KVxuICAgICAgICBsZXQgdGFza01vZGFsID0gY3JlYXRlTW9kYWwudGFza01vZGFsKGlkKVxuICAgICAgICBkZXRhaWxEaXYuYXBwZW5kKGRldGFpbHNCdXR0b24sIHRhc2tNb2RhbClcbiAgICAgICAgdGFza0h1Yi5hcHBlbmQoZGV0YWlsRGl2KVxuICAgICAgICBsZXQgZWRpdEltZyA9IG5ld0VsZW1lbnQubWFrZUVkaXRJbWcoaWQpXG4gICAgICAgIGVkaXRJbWcuZGF0YXNldC5tb2RhbFRhcmdldCA9IGlkICsgJ290aGVyTW9kYWwnXG4gICAgICAgIGVkaXRJbWcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgZWRpdE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWRpdEltZy5kYXRhc2V0Lm1vZGFsVGFyZ2V0KVxuICAgICAgICAgICAgb3Blbk1vZGFsKGVkaXRNb2RhbClcbiAgICAgICAgfSlcbiAgICAgICAgbGV0IG90aGVyRWRpdE1vZGFsID0gY3JlYXRlTW9kYWwuZWRpdE1vZGFsKGlkKVxuICAgICAgICB0YXNrSHViLmFwcGVuZChlZGl0SW1nLCBvdGhlckVkaXRNb2RhbClcbiAgICAgICAgbGV0IHRyYXNoSW1nID0gbmV3RWxlbWVudC5tYWtlVHJhc2hJbWcoaWQpXG4gICAgICAgIHRyYXNoSW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAga2lsbFRhc2sua2lsbChpZClcbiAgICAgICAgfSlcbiAgICAgICAgdGFza0h1Yi5hcHBlbmQodHJhc2hJbWcpXG4gICAgICAgIGdyYW5kRmF0aGVyLmFwcGVuZCh0YXNrSHViKVxuICAgICAgICB0YXNrRGl2LmFwcGVuZChncmFuZEZhdGhlcilcbiAgICAgICAgcmV0dXJuIHRhc2tEaXZcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcbiAgICAgICAgaWYgKG1vZGFsID09IG51bGwpIHJldHVyblxuICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xuICAgICAgICBpZiAobW9kYWwgPT0gbnVsbCkgcmV0dXJuXG4gICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICB9XG4gICAgIFxuICAgIHJldHVybiB7IHVwbG9hZCB9XG59KSgpXG5cbmV4cG9ydCBkZWZhdWx0IHVwbG9hZFRhc2tzXG4vLyB0aGUgYXJyYXkgaGVyZSBpcyBhbiBhcnJheSBvZiBvYmplY3RzIHRoYXQgd2hlcmUgbWFkZSB3aXRoIG1ha2VUYXNrcyBmdW5jdGlvbiwgY2hlY2sgaXQgb3V0IGlmIHlvdSBkbyBub3Qga25vdyB3aGF0IHByb3BlcnRpZXMgdGhlIG9iamVjdCBoYXMiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVCdXR0b25zKGJ1dHRvbikge1xuICAgIGJ1dHRvbi5mb3JFYWNoKCBidG4gPT4ge1xuICAgICAgICBsZXQgbmV3QnRuID0gYnRuLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgYnRuLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5ld0J0biwgYnRuKVxuICAgIH0pXG59IiwiaW1wb3J0IHVwZGF0ZUJ1dHRvbnMgZnJvbSBcIi4vdXBkYXRlQnV0dG9uc1wiXG5pbXBvcnQgc3RvcmFnZSBmcm9tIFwiLi9sb2NhbFN0b3JhZ2VcIlxuaW1wb3J0IGdldElkIGZyb20gXCIuL2dldElkXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ga2lsbFByb2plY3QoKSB7XG4gICAgbGV0IGtpbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcua2lsbGJpbGwnKVxuICAgIHVwZGF0ZUJ1dHRvbnMoa2lsbClcbiAgICBraWxsQmlsbENoYW5nZSgpXG5cbiAgICBmdW5jdGlvbiBraWxsQmlsbENoYW5nZSgpIHtcbiAgICAgICAgbGV0IGtpbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcua2lsbGJpbGwnKVxuICAgICAgICBraWxsLmZvckVhY2goIGJ0biA9PiB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYnRuLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZ2V0dGluZ0RlbGV0ZWQnKVxuICAgICAgICAgICAgICAgIGxldCBwcmV2ID0gYnRuLnByZXZpb3VzRWxlbWVudFNpYmxpbmdcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSBnZXRJZChwcmV2LmRhdGFzZXQucHJvamVjdE5hbWUpXG4gICAgICAgICAgICAgICAgbGV0IHVwZGF0ZWRQcm9qZWN0ID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpXG4gICAgICAgICAgICAgICAgdXBkYXRlZFByb2plY3QubmFtZUFycmF5LnNwbGljZShpZCwgMSlcbiAgICAgICAgICAgICAgICB1cGRhdGVkUHJvamVjdC5wcm9qZWN0QXJyYXkuc3BsaWNlKGlkLCAxKVxuICAgICAgICAgICAgICAgIGxldCBwcm9qZWN0TmFtZSA9IGJ0bi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmRhdGFzZXQucHJvamVjdE5hbWUudHJpbSgpXG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWRQcm9qZWN0LnByb2plY3RBcnJheVswXS50YXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5WzBdLnRhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlZFByb2plY3QucHJvamVjdEFycmF5WzBdLnRhc2tzW2ldLnByb2plY3QgPT0gcHJvamVjdE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkUHJvamVjdC5wcm9qZWN0QXJyYXlbMF0udGFza3Muc3BsaWNlKGksIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSAtPSAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RvcmFnZS51cGRhdGVQcm9qZWN0SW5mbyh1cGRhdGVkUHJvamVjdClcbiAgICAgICAgICAgICAgICBidG4ucGFyZW50RWxlbWVudC5yZW1vdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG59IiwiaW1wb3J0IHByb2plY3RJbmZvcm1hdGlvbiBmcm9tIFwiLi9wcm9qZWN0SW5mb3JtYXRpb25cIlxuaW1wb3J0IHVwbG9hZFRhc2tzIGZyb20gXCIuL3VwbG9hZFRhc2tzXCJcbmltcG9ydCBkb21NYW4gZnJvbSBcIi4vZG9tTWFuaXB1bGF0aW9uXCJcbmltcG9ydCB1cGRhdGVCdXR0b25zIGZyb20gXCIuL3VwZGF0ZUJ1dHRvbnNcIlxuaW1wb3J0IGtpbGxQcm9qZWN0IGZyb20gXCIuL2tpbGxQcm9qZWN0XCJcblxuY29uc3Qgc3RvcmFnZSA9ICgoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbGl6ZSA9ICgpID0+IHtcbiAgICAgICAgbGV0IG5ld09iamVjdCA9IGdldFByb2plY3RJdGVtKClcbiAgICAgICAgdXBkYXRlUHJvamVjdEluZm8obmV3T2JqZWN0KVxuICAgICAgICBpZiAoZ2V0UHJvamVjdEl0ZW0oKS5wcm9qZWN0QXJyYXlbMF0udGFza3MubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2V0UHJvamVjdEl0ZW0oKS5wcm9qZWN0QXJyYXlbMF0udGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3VGFzayA9IHVwbG9hZFRhc2tzLnVwbG9hZChpKVxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JykuaW5zZXJ0QmVmb3JlKG5ld1Rhc2ssIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrQnV0dG9uJykpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbG9hZFByb2plY3REb20oKVxuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZVByb2plY3RJbmZvID0gKHVwZGF0ZWRPYmplY3QpID0+IHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RJbmZvJywgSlNPTi5zdHJpbmdpZnkodXBkYXRlZE9iamVjdCkpXG4gICAgfVxuXG4gICAgY29uc3QgZ2V0UHJvamVjdEl0ZW0gPSAoKSA9PiB7XG4gICAgICAgIGxldCBpdGVtID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvamVjdEluZm8nKSlcbiAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICB9XG5cbiAgICBjb25zdCBsb2FkUHJvamVjdERvbSA9ICgpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDM7IGkgPCBnZXRQcm9qZWN0SXRlbSgpLm5hbWVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHByb2plY3ROYW1lID0gZ2V0UHJvamVjdEl0ZW0oKS5uYW1lQXJyYXlbaV1cbiAgICAgICAgICAgIGNvbnN0IGFkZE9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZGl0aW9uYWxQcm9qZWN0cycpXG4gICAgICAgICAgICBjb25zdCBidG4gPSBkb21NYW4ubWFrZUJ0bihbXCJob3ZlcjpiZy1bI2NjY2NjY11cIiwgXCJyb3VuZGVkLW1kXCIsIFwidy1mdWxsXCIsIFwicHktMlwiLCBcImZsZXhcIiwgXCJqdXN0aWZ5LWJldHdlZW5cIiwgXCJpdGVtcy1jZW50ZXJcIiwgXCJoLTEyXCIsIFwicHgtMVwiLCAnZGlyZWN0b3J5J10pXG4gICAgICAgICAgICBjb25zdCBpbWcgPSBkb21NYW4ubWFrZUltZyhbXCJoLVsxLjNyZW1dXCIsIFwidy1bMS4zcmVtXVwiLCBcImZsZXhcIiwgXCJqdXN0aWZ5LXN0YXJ0XCIsIFwiaXRlbXMtY2VudGVyXCIsIFwibXgtNFwiLCBcImJveC1jb250ZW50XCJdKVxuICAgICAgICAgICAgY29uc3QgZGl2ID0gZG9tTWFuLm1ha2VEaXYocHJvamVjdE5hbWUpXG4gICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnY2xvc2VzdCcpXG4gICAgICAgICAgICBjb25zdCB4ID0gZG9tTWFuLm1ha2VYKFsnbWwtNCcsJ3otMTAnLCdmbGV4JywnanVzdGlmeS1lbmQnLCAna2lsbGJpbGwnXSlcbiAgICAgICAgICAgIGJ0bi5hcHBlbmQoaW1nKVxuICAgICAgICAgICAgYnRuLmFwcGVuZChkaXYpXG4gICAgICAgICAgICBidG4uYXBwZW5kKHgpXG4gICAgICAgICAgICBhZGRPbi5pbnNlcnRCZWZvcmUoYnRuLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkQmVmb3JlJykpXG4gICAgICAgICAgICB1cGRhdGVCdXR0b25zKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXJlY3RvcnknKSlcbiAgICAgICAgICAgIGRvbU1hbi5idXR0b25DaGFuZ2UoKVxuICAgICAgICAgICAga2lsbFByb2plY3QoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdXBkYXRlUHJvamVjdEluZm8sIGdldFByb2plY3RJdGVtLCBpbml0aWFsaXplLCB9XG59KSgpXG5cbmV4cG9ydCBkZWZhdWx0IHN0b3JhZ2UiLCJpbXBvcnQgaUZhY3RvcnkgZnJvbSBcIi4vaW5mb3JtYXRpb25GYWN0b3J5XCI7XG5pbXBvcnQgc3RvcmFnZSBmcm9tIFwiLi9sb2NhbFN0b3JhZ2VcIjtcblxuY29uc3QgcHJvamVjdEluZm9ybWF0aW9uID0gKCgpID0+IHtcbiAgICAvLyB0aGlzIGlzIHRoZSBwcm9qZWN0IG5hbWUgaW5mb3JtYXRpb24gYXJyYXkgdGhhdCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgdGFzayBpbmZvcm1hdGlvbiBvYmplY3QgYXJyYXlcbiAgICBjb25zdCBuYW1lQXJyYXkgPSBbXVxuICAgIGNvbnN0IHByb2plY3RBcnJheSA9IFtdXG4gICAgLy8gdGhlc2UgYXJlIHRoZSBiYXNlIHByb2plY3QgZmlsZXMgdGhhdCB3aWxsIGJlIHByZWxvYWRlZCBpbnRvIHRoZSBkb21cbiAgICBjb25zdCBiYXNlUHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcm9qZWN0LW5hbWVdJylcbiAgICBiYXNlUHJvamVjdHMuZm9yRWFjaCggcHJvamVjdCA9PiB7XG4gICAgICAgIG5hbWVBcnJheS5wdXNoKHByb2plY3QuZGF0YXNldC5wcm9qZWN0TmFtZSlcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBpRmFjdG9yeShwcm9qZWN0LmRhdGFzZXQucHJvamVjdE5hbWUpXG4gICAgICAgIHByb2plY3RBcnJheS5wdXNoKGVsZW1lbnQpXG4gICAgfSlcbiAgICByZXR1cm4ge25hbWVBcnJheSwgcHJvamVjdEFycmF5fVxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJvamVjdEluZm9ybWF0aW9uIiwiaW1wb3J0IHVwbG9hZFRhc2tzIGZyb20gXCIuL3VwbG9hZFRhc2tzXCI7XG5pbXBvcnQgZ2V0SWQgZnJvbSBcIi4vZ2V0SWRcIjtcbmltcG9ydCBzdG9yYWdlIGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiO1xuaW1wb3J0IGtpbGxUYXNrIGZyb20gXCIuL2tpbGxUYXNrXCI7XG5cblxuY29uc3QgdXBkYXRlRGlyZWN0b3J5ID0gKCgpID0+IHtcbiAgICAgICAgbGV0IHJlZnJlc2ggPSAoYnRuKSA9PiB7XG4gICAgICAgICAgICBraWxsVGFzay5yZXB0aXRpb25zID0gMFxuICAgICAgICAgICAgbGV0IHByb2plY3ROYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJykuaW5uZXJIVE1MLnRyaW0oKVxuICAgICAgICAgICAgbGV0IGluZGV4ID0gZ2V0SWQocHJvamVjdE5hbWUpXG4gICAgICAgICAgICBsZXQgdGFza0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JylcbiAgICAgICAgICAgIHdoaWxlICh0YXNrQ29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgICAgIHRhc2tDb250YWluZXIucmVtb3ZlQ2hpbGQodGFza0NvbnRhaW5lci5maXJzdENoaWxkKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdnZXR0aW5nRGVsZXRlZCcpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHByb2plY3RJbmZvID0gc3RvcmFnZS5nZXRQcm9qZWN0SXRlbSgpXG4gICAgICAgICAgICAgICAgaWYgKHByb2plY3RJbmZvLnByb2plY3RBcnJheVtpbmRleF0udGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RJbmZvLnByb2plY3RBcnJheVtpbmRleF0udGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdUYXNrID0gdXBsb2FkVGFza3MudXBsb2FkKGkpXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpLmluc2VydEJlZm9yZShuZXdUYXNrLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza0J1dHRvbicpKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICByZXR1cm4geyByZWZyZXNoLCB9XG59KSgpXG5cbmV4cG9ydCBkZWZhdWx0IHVwZGF0ZURpcmVjdG9yeSIsImltcG9ydCBwcm9qZWN0SW5mb3JtYXRpb24gZnJvbSBcIi4vcHJvamVjdEluZm9ybWF0aW9uXCI7XG5pbXBvcnQgdXBkYXRlQnV0dG9ucyBmcm9tIFwiLi91cGRhdGVCdXR0b25zXCI7XG5pbXBvcnQgaUZhY3RvcnkgZnJvbSBcIi4vaW5mb3JtYXRpb25GYWN0b3J5XCI7XG5pbXBvcnQga2lsbFByb2plY3QgZnJvbSBcIi4va2lsbFByb2plY3RcIjtcbmltcG9ydCBnZXRJZCBmcm9tIFwiLi9nZXRJZFwiO1xuaW1wb3J0IG1ha2VUYXNrIGZyb20gXCIuL21ha2VUYXNrXCI7XG5pbXBvcnQgc3RvcmFnZSBmcm9tIFwiLi9sb2NhbFN0b3JhZ2VcIjtcbmltcG9ydCB1cGxvYWRUYXNrcyBmcm9tIFwiLi91cGxvYWRUYXNrc1wiO1xuaW1wb3J0IHVwZGF0ZURpcmVjdG9yeSBmcm9tIFwiLi91cGRhdGVEaXJlY3RvcnlcIjtcblxuY29uc3QgZG9tTWFuID0gKCgpID0+IHtcblxuICAgIGNvbnN0IGJ1dHRvbkNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgbGV0IGRvbUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXJlY3RvcnknKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRvbUJ0bi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZG9tQnRuW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRvbUJ0bi5mb3JFYWNoKCBidG4gPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnRuLmNsYXNzTGlzdC5jb250YWlucygndG9nZ2xlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgndG9nZ2xlZCcpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJylcbiAgICAgICAgICAgICAgICBsZXQgZGl2Q2hpbGQgPSBkb21CdG5baV0uY2hpbGROb2Rlc1xuICAgICAgICAgICAgICAgIGxldCB0ZXh0XG4gICAgICAgICAgICAgICAgaWYgKGRpdkNoaWxkLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IGRpdkNoaWxkWzNdLnRleHRDb250ZW50XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IGRpdkNoaWxkWzFdLnRleHRDb250ZW50XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRvbUJ0bltpXS5jbGFzc0xpc3QuYWRkKCd0b2dnbGVkJylcbiAgICAgICAgICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9IHRleHRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICBsZXQgY2xpY2tlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXJlY3RvcnknKVxuICAgICAgICBjbGlja2VkLmZvckVhY2goIGJ0biA9PiB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlRGlyZWN0b3J5LnJlZnJlc2goYnRuKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgY29uc3QgbmF2VG9nZ2xlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0b2dnbGVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0b2dnbGUtYnV0dG9uJylbMF1cbiAgICAgICAgY29uc3QgbmF2YmFyTGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXYnKVxuICAgICAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKVxuICAgICAgICB0b2dnbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBuYXZiYXJMaW5rLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXG4gICAgICAgICAgICBtYWluLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXG4gICAgICAgIH0pXG4gICAgfTtcblxuICAgIGNvbnN0IGFjdGl2YXRlTW9kYWxzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBvcGVuTW9kYWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9kYWwtdGFyZ2V0JylcbiAgICAgICAgY29uc3QgY2xvc2VNb2RhbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jbG9zZS1idXR0b25dJylcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5JylcblxuICAgICAgICBvcGVuTW9kYWxCdXR0b25zLmZvckVhY2goIGJ0biA9PiB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGJ0bi5kYXRhc2V0Lm1vZGFsVGFyZ2V0KVxuICAgICAgICAgICAgICAgIG9wZW5Nb2RhbChtb2RhbClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgY2xvc2VNb2RhbEJ1dHRvbnMuZm9yRWFjaCggYnRuID0+IHtcbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RhbCA9IGJ0bi5jbG9zZXN0KCcubW9kYWwnKVxuICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwobW9kYWwpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5Nb2RhbChtb2RhbCkge1xuICAgICAgICAgICAgaWYgKG1vZGFsID09IG51bGwpIHJldHVyblxuICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICAgICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcbiAgICAgICAgICAgIGlmIChtb2RhbCA9PSBudWxsKSByZXR1cm5cbiAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYWRkUHJvamVjdCA9ICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZFByb2plY3QnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9qZWN0KClcbiAgICAgICAgfSlcblxuICAgICAgICBmdW5jdGlvbiBhZGRpdGlvbmFsUHJvamVjdCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUnKS52YWx1ZS50cmltKClcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lJykudmFsdWUgPSAnJ1xuICAgICAgICAgICAgbGV0IGkgPSAwXG4gICAgICAgICAgICBsZXQgaiA9MFxuICAgICAgICAgICAgd2hpbGUgKGkgPCBzdG9yYWdlLmdldFByb2plY3RJdGVtKCkubmFtZUFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmIChzdG9yYWdlLmdldFByb2plY3RJdGVtKCkubmFtZUFycmF5W2ldID09PSBwcm9qZWN0TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBqKytcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChqID09IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IGlGYWN0b3J5KHByb2plY3ROYW1lKVxuICAgICAgICAgICAgICAgIGxldCB1cGRhdGVkUHJvamVjdCA9IHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKVxuICAgICAgICAgICAgICAgIHVwZGF0ZWRQcm9qZWN0LnByb2plY3RBcnJheS5wdXNoKGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgdXBkYXRlZFByb2plY3QubmFtZUFycmF5LnB1c2gocHJvamVjdE5hbWUpXG4gICAgICAgICAgICAgICAgY29uc3QgYWRkT24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkaXRpb25hbFByb2plY3RzJylcbiAgICAgICAgICAgICAgICBjb25zdCBidG4gPSBtYWtlQnRuKFtcImhvdmVyOmJnLVsjY2NjY2NjXVwiLCBcInJvdW5kZWQtbWRcIiwgXCJ3LWZ1bGxcIiwgXCJweS0yXCIsIFwiZmxleFwiLCBcImp1c3RpZnktYmV0d2VlblwiLCBcIml0ZW1zLWNlbnRlclwiLCBcImgtMTJcIiwgXCJweC0xXCIsICdkaXJlY3RvcnknXSlcbiAgICAgICAgICAgICAgICBjb25zdCBpbWcgPSBtYWtlSW1nKFtcImgtWzEuM3JlbV1cIiwgXCJ3LVsxLjNyZW1dXCIsIFwiZmxleFwiLCBcImp1c3RpZnktc3RhcnRcIiwgXCJpdGVtcy1jZW50ZXJcIiwgXCJteC00XCIsIFwiYm94LWNvbnRlbnRcIl0pXG4gICAgICAgICAgICAgICAgY29uc3QgZGl2ID0gbWFrZURpdihwcm9qZWN0TmFtZSlcbiAgICAgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnY2xvc2VzdCcpXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IG1ha2VYKFsnbWwtNCcsJ3otMTAnLCdmbGV4JywnanVzdGlmeS1lbmQnLCAna2lsbGJpbGwnXSlcbiAgICAgICAgICAgICAgICBidG4uYXBwZW5kKGltZylcbiAgICAgICAgICAgICAgICBidG4uYXBwZW5kKGRpdilcbiAgICAgICAgICAgICAgICBidG4uYXBwZW5kKHgpXG4gICAgICAgICAgICAgICAgYWRkT24uaW5zZXJ0QmVmb3JlKGJ0biwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEJlZm9yZScpKVxuICAgICAgICAgICAgICAgIHVwZGF0ZUJ1dHRvbnMoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpcmVjdG9yeScpKVxuICAgICAgICAgICAgICAgIGJ1dHRvbkNoYW5nZSgpXG4gICAgICAgICAgICAgICAga2lsbFByb2plY3QoKVxuICAgICAgICAgICAgICAgIHN0b3JhZ2UudXBkYXRlUHJvamVjdEluZm8odXBkYXRlZFByb2plY3QpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlQnRuKGFycmF5KSB7XG4gICAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKGFycmF5W2ldKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlWChhcnJheSkge1xuICAgICAgICBjb25zdCB4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgeC5pbm5lckhUTUwgPSAnJnRpbWVzOydcbiAgICAgICAgZm9yKGxldCBpID0wOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHguY2xhc3NMaXN0LmFkZChhcnJheVtpXSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VJbWcoYXJyYXkpIHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKDIwLDIwKVxuICAgICAgICBpbWcuc3JjID0gJy9zcmMvbW9kdWxlcy9wcm9qZWN0LWltYWdlLnBuZydcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoYXJyYXlbaV0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltZ1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VEaXYocHJvamVjdE5hbWUpIHtcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgZGl2LnRleHRDb250ZW50ID0gcHJvamVjdE5hbWVcbiAgICAgICAgZGl2LmRhdGFzZXQucHJvamVjdE5hbWUgPSBwcm9qZWN0TmFtZVxuICAgICAgICBkaXYuZGF0YXNldC5pZCA9IHByb2plY3RJbmZvcm1hdGlvbi5uYW1lQXJyYXkubGVuZ3RoIC0gMVxuICAgICAgICByZXR1cm4gZGl2XG4gICAgfVxuXG4gICAgY29uc3QgYWRkVGFzayA9ICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZFRhc2snKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGFkZGl0aW9uYWxUYXNrKClcbiAgICAgICAgfSlcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gYWRkaXRpb25hbFRhc2soKSB7XG4gICAgICAgIC8vIHRoaXMgY2hlY2tzIHdoZXJlIHRoZSB0YXNrIGlzIGJlaW5nIHBsYWNlZCBpblxuICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpXG4gICAgICAgIGxldCBpbmRleCA9IGdldElkKHRpdGxlLmlubmVySFRNTClcbiAgICAgICAgbGV0IG9iamVjdGl2ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvYmplY3RpdmUnKS52YWx1ZVxuICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzY3JpcHRpb24nKS52YWx1ZVxuICAgICAgICBsZXQgcHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpb3JpdHknKS52YWx1ZVxuICAgICAgICBsZXQgZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJykudmFsdWVcbiAgICAgICAgbGV0IHVwZGF0ZWRWYWx1ZSA9IHN0b3JhZ2UuZ2V0UHJvamVjdEl0ZW0oKVxuICAgICAgICBpZiAodGl0bGUudGV4dENvbnRlbnQgIT0gJ0luYm94Jykge1xuICAgICAgICAgICAgdXBkYXRlZFZhbHVlLnByb2plY3RBcnJheVswXS50YXNrcy5wdXNoKG1ha2VUYXNrKG9iamVjdGl2ZSxkZXNjcmlwdGlvbixwcmlvcml0eSxkYXRlLCB0aXRsZS50ZXh0Q29udGVudC50cmltKCkpKVxuICAgICAgICAgICAgdXBkYXRlZFZhbHVlLnByb2plY3RBcnJheVtpbmRleF0udGFza3MucHVzaChtYWtlVGFzayhvYmplY3RpdmUsZGVzY3JpcHRpb24scHJpb3JpdHksZGF0ZSwgdGl0bGUudGV4dENvbnRlbnQudHJpbSgpKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZWRWYWx1ZS5wcm9qZWN0QXJyYXlbMF0udGFza3MucHVzaChtYWtlVGFzayhvYmplY3RpdmUsZGVzY3JpcHRpb24scHJpb3JpdHksZGF0ZSwgdGl0bGUudGV4dENvbnRlbnQudHJpbSgpKSlcbiAgICAgICAgfVxuICAgICAgICBzdG9yYWdlLnVwZGF0ZVByb2plY3RJbmZvKHVwZGF0ZWRWYWx1ZSlcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29iamVjdGl2ZScpLnZhbHVlID0gJydcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc2NyaXB0aW9uJykudmFsdWUgPSAnJ1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpb3JpdHknKS52YWx1ZSA9ICcwJ1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZScpLnZhbHVlID0gJydcbiAgICAgICAgbGV0IHRhc2tJbmRleCA9IHVwZGF0ZWRWYWx1ZS5wcm9qZWN0QXJyYXlbaW5kZXhdLnRhc2tzLmxlbmd0aCAtIDFcbiAgICAgICAgbGV0IG5ld1Rhc2sgPSB1cGxvYWRUYXNrcy51cGxvYWQodGFza0luZGV4KVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpLmluc2VydEJlZm9yZShuZXdUYXNrLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza0J1dHRvbicpKVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGJ1dHRvbkNoYW5nZSxcbiAgICAgICAgbmF2VG9nZ2xlLFxuICAgICAgICBhY3RpdmF0ZU1vZGFscyxcbiAgICAgICAgYWRkUHJvamVjdCxcbiAgICAgICAgYWRkVGFzayxcbiAgICAgICAgbWFrZUJ0bixcbiAgICAgICAgbWFrZURpdixcbiAgICAgICAgbWFrZUltZyxcbiAgICAgICAgbWFrZVgsXG4gICAgfVxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgZG9tTWFuOyIsImltcG9ydCBkb21NYW4gZnJvbSAnLi9tb2R1bGVzL2RvbU1hbmlwdWxhdGlvbidcbmltcG9ydCBzdG9yYWdlIGZyb20gJy4vbW9kdWxlcy9sb2NhbFN0b3JhZ2UnXG5cbi8vIHRoaXMgY29udHJvbHMgdGhlIGJ1dHRvbnMgY2hhbmdpbmcgY29sb3Igc28gdGhhdCB0aGV5IGhvbGQgdGhlaXIgaG92ZXIgZWZmZWN0IGZvciB3aGVuIHRoZXkgYXJlIGNsaWNrZWQgXG5kb21NYW4uYnV0dG9uQ2hhbmdlKCkgXG4vLyB0aGlzIGNoZWNrcyBsb2NhbCBzdG9yYWdlIGlmIHRoZXJlIGFyZSBhbnkgcHJldmlvdXMgcHJvamVjdHMsIGFuZCBpdCBsb2FkcyBpdFxuc3RvcmFnZS5pbml0aWFsaXplKClcbi8vIHRoaXMgaW5zdXJlcyB0aGF0IHRoZSBuYXYgYmFyIHNob3dzIHVwIGFuZCBwcm9wZXJseSB3b3JrcyB3aGVuIGNsaWNrZWRcbmRvbU1hbi5uYXZUb2dnbGUoKSBcbi8vIHRoaXMgYWN0aXZlcyB0aGUgcG9wdXBzIHRoYXQgY29tZSB1cCB3aGVuIHlvdSBwcmVzcyBhZGQgcHJvamVjdCBhbmQgYWRkIHRhc2tcbmRvbU1hbi5hY3RpdmF0ZU1vZGFscygpXG4vLyB0aGlzIG1ha2VzIGl0IHNvIHRoYXQgZWFjaCB0aW1lIHlvdSBzdWJtaXQgYSBwcm9qZWN0LCBpdCBhcHBlYXJzIG9uIHRoZSBkb20gXG5kb21NYW4uYWRkUHJvamVjdCgpXG4vLyB0aGlzIG1ha2VzIGl0IHNvIHRoYXQgZWFjaCB0aW1lIHlvdSBzdWJtaXQgYSB0YXNrLCBpdCBnb2VzIGludG8gdGhlIHJlc3BlY3RpdmUgb2JqZWN0XG5kb21NYW4uYWRkVGFzaygpXG5cbmNvbnNvbGUubG9nKHt0ZXN0U3RyaW5nOiAnVGhpcyBpcyB3b3JraW5nLCBhbG9uZyB3aXRoIFRhaWx3aW5kISd9KSJdLCJuYW1lcyI6WyJwcm9qZWN0TmFtZSIsInRhc2tzIiwic3RyaW5nIiwiaWQiLCJpbm5lckNvbnRlbnQiLCJhcnJheSIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNwbGl0IiwiaSIsImxlbmd0aCIsImNsYXNzTGlzdCIsImFkZCIsInVuZGVmaW5lZCIsInRleHRDb250ZW50IiwiYnRuIiwiaW1nIiwic3JjIiwiZGF0YXNldCIsIm1vZGFsVGFyZ2V0IiwicHJpb3JpdHkiLCJzcGFuIiwiZmlyc3QiLCJzdHJJZCIsImZvcm0iLCJzZXRBdHRyaWJ1dGUiLCJzZWxlY3RvciIsImxhYmVsIiwidG9VcHBlckNhc2UiLCJzbGljZSIsInR5cGUiLCJpbnB1dCIsInRleHRhcmVhIiwiY29scyIsInJvd3MiLCJzZWxlY3QiLCJwcmlvcml0eUlkIiwib3AxIiwidmFsdWUiLCJvcDIiLCJvcDMiLCJvcDQiLCJhcHBlbmQiLCJvYmplY3RpdmUiLCJkZXNjIiwiZGF0ZSIsInByb2plY3QiLCJnZXRJZCIsInRpdGxlIiwiaW5kZXgiLCJuYW1lQXJyYXkiLCJjbG9zZU1vZGFsIiwibW9kYWwiLCJyZW1vdmUiLCJvdmVybGF5IiwidGFza01vZGFsIiwiZ29kRGl2IiwibW9kYWxIZWFkZXIiLCJjbG9zZUJ0biIsImlubmVySFRNTCIsImNsb3NlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsb3Nlc3QiLCJtb2RhbEJvZHkiLCJuZXdJbmRleCIsImdldEVsZW1lbnRCeUlkIiwicHJvamVjdEFycmF5IiwiZWRpdE1vZGFsIiwiY29udGFpbmVyIiwib2JqZWN0aXZlRGl2Iiwib2JqZWN0aXZlTGFiZWwiLCJvYmplY3RpdmVJbnB1dCIsImRlc2NEaXYiLCJkZXNjTGFiZWwiLCJkZXNjVGV4dCIsInR3b1NlbGVjdG9ycyIsInBhcmVudERpdiIsInByaW9yaXR5RGl2IiwicHJpb3JpdHlMYWJlbCIsInByaW9yaXR5U2VsZWN0IiwiZGF0ZURpdiIsImRhdGVMYWJlbCIsImRhdGVJbnB1dCIsImxhc3RCdG4iLCJldmVudCIsInByZXZlbnREZWZhdWx0Iiwib2JqZWN0SWQiLCJkZXNjSWQiLCJkYXRlSWQiLCJkZXNjcmlwdGlvbiIsInVwZGF0ZWRQcm9qZWN0Iiwic3BsaWNlIiwidGFza0NvbnRhaW5lciIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImZpcnN0Q2hpbGQiLCJwcm9qZWN0SW5mbyIsIm5ld1Rhc2siLCJ1cGxvYWQiLCJpbnNlcnRCZWZvcmUiLCJsYXN0RGl2IiwiZmlyc3RTcGFuIiwic2VjU3BhbiIsImlMaWVkRGl2IiwicmVwdGl0aW9ucyIsImtpbGwiLCJ0YXNrSWQiLCJ0YXNrSWROYW1lIiwicHJvamVjdEluZGV4Iiwib3Blbk1vZGFsIiwidGFza0RpdiIsImdyYW5kRmF0aGVyIiwidGFza05hbWUiLCJjaXJjbGUiLCJvYmplY3RUaXRsZSIsInRhc2tOYW1lU3RyaW5nRGl2IiwidGFza0h1YiIsImRldGFpbERpdiIsImRldGFpbHNCdXR0b24iLCJlZGl0SW1nIiwib3RoZXJFZGl0TW9kYWwiLCJ0cmFzaEltZyIsInVwZGF0ZUJ1dHRvbnMiLCJidXR0b24iLCJmb3JFYWNoIiwibmV3QnRuIiwiY2xvbmVOb2RlIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImtpbGxQcm9qZWN0IiwicXVlcnlTZWxlY3RvckFsbCIsInBhcmVudEVsZW1lbnQiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwidHJpbSIsInVwZGF0ZVByb2plY3RJbmZvIiwidXBkYXRlZE9iamVjdCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0UHJvamVjdEl0ZW0iLCJwYXJzZSIsImdldEl0ZW0iLCJpbml0aWFsaXplIiwibmV3T2JqZWN0IiwiYWRkT24iLCJ4IiwibG9hZFByb2plY3REb20iLCJwdXNoIiwiZWxlbWVudCIsImNvbnRhaW5zIiwiYnV0dG9uQ2hhbmdlIiwiZG9tQnRuIiwidGV4dCIsImRpdkNoaWxkIiwibWFrZUJ0biIsIm1ha2VYIiwibWFrZUltZyIsIkltYWdlIiwibWFrZURpdiIsIm5hdlRvZ2dsZSIsInRvZ2dsZUJ1dHRvbiIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJuYXZiYXJMaW5rIiwibWFpbiIsInRvZ2dsZSIsImFjdGl2YXRlTW9kYWxzIiwib3Blbk1vZGFsQnV0dG9ucyIsImNsb3NlTW9kYWxCdXR0b25zIiwicXVlcnlTZWxlY3RvciIsImFkZFByb2plY3QiLCJqIiwiYWRkaXRpb25hbFByb2plY3QiLCJhZGRUYXNrIiwidXBkYXRlZFZhbHVlIiwidGFza0luZGV4IiwiYWRkaXRpb25hbFRhc2siLCJjb25zb2xlIiwibG9nIiwidGVzdFN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=